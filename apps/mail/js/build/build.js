!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=90)}([function(e,n,r){var i;void 0!==(i=function(){"use strict";return function(e){return t("mail",e)}}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(4),r=n(124),i={},s=new r,o=null,a=null,l=null,u=null,c="";return Object.defineProperties(i,{accounts:{get:function(){return s},set:function(t){s=t}},currentAccount:{get:function(){return o},set:function(t){o=t}},currentFolder:{get:function(){return a},set:function(t){var n=a;a=t,t!==n&&e.ui.trigger("folder:changed")}},currentMessage:{get:function(){return l},set:function(t){l=t}},currentMessageSubject:{get:function(){return u},set:function(t){u=t}},currentMessageBody:{get:function(){return c},set:function(t){c=t}}}),i}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r,i;/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,s){function o(t){var e=!!t&&"length"in t&&t.length,n=lt.type(t);return"function"!==n&&!lt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function a(t,e,n){if(lt.isFunction(e))return lt.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return lt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(yt.test(e))return lt.filter(e,t,n);e=lt.filter(e,t)}return lt.grep(t,function(t){return rt.call(e,t)>-1!==n})}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var e={};return lt.each(t.match(Ct)||[],function(t,n){e[n]=!0}),e}function c(){Q.removeEventListener("DOMContentLoaded",c),n.removeEventListener("load",c),lt.ready()}function h(){this.expando=lt.expando+h.uid++}function d(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(kt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:It.test(n)?lt.parseJSON(n):n)}catch(t){}St.set(t,e,n)}else n=void 0;return n}function f(t,e,n,r){var i,s=1,o=20,a=r?function(){return r.cur()}:function(){return lt.css(t,e,"")},l=a(),u=n&&n[3]||(lt.cssNumber[e]?"":"px"),c=(lt.cssNumber[e]||"px"!==u&&+l)&&Mt.exec(lt.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{s=s||".5",c/=s,lt.style(t,e,c+u)}while(s!==(s=a()/l)&&1!==s&&--o)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function p(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&lt.nodeName(t,e)?lt.merge([t],n):n}function g(t,e){for(var n=0,r=t.length;n<r;n++)Tt.set(t[n],"globalEval",!e||Tt.get(e[n],"globalEval"))}function m(t,e,n,r,i){for(var s,o,a,l,u,c,h=e.createDocumentFragment(),d=[],f=0,m=t.length;f<m;f++)if((s=t[f])||0===s)if("object"===lt.type(s))lt.merge(d,s.nodeType?[s]:s);else if(Ut.test(s)){for(o=o||h.appendChild(e.createElement("div")),a=(qt.exec(s)||["",""])[1].toLowerCase(),l=Bt[a]||Bt._default,o.innerHTML=l[1]+lt.htmlPrefilter(s)+l[2],c=l[0];c--;)o=o.lastChild;lt.merge(d,o.childNodes),o=h.firstChild,o.textContent=""}else d.push(e.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(r&&lt.inArray(s,r)>-1)i&&i.push(s);else if(u=lt.contains(s.ownerDocument,s),o=p(h.appendChild(s),"script"),u&&g(o),n)for(c=0;s=o[c++];)Pt.test(s.type||"")&&n.push(s);return h}function v(){return!0}function y(){return!1}function b(){try{return Q.activeElement}catch(t){}}function _(t,e,n,r,i,s){var o,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(a in e)_(t,a,n,r,e[a],s);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=y;else if(!i)return t;return 1===s&&(o=i,i=function(t){return lt().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=lt.guid++)),t.each(function(){lt.event.add(this,e,i,r,n)})}function w(t,e){return lt.nodeName(t,"table")&&lt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function x(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function C(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function A(t,e){var n,r,i,s,o,a,l,u;if(1===e.nodeType){if(Tt.hasData(t)&&(s=Tt.access(t),o=Tt.set(e,s),u=s.events)){delete o.handle,o.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)lt.event.add(e,i,u[i][n])}St.hasData(t)&&(a=St.access(t),l=lt.extend({},a),St.set(e,l))}}function D(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Rt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function E(t,e,n,r){e=et.apply([],e);var i,s,o,a,l,u,c=0,h=t.length,d=h-1,f=e[0],g=lt.isFunction(f);if(g||h>1&&"string"==typeof f&&!at.checkClone&&zt.test(f))return t.each(function(i){var s=t.eq(i);g&&(e[0]=f.call(this,i,s.html())),E(s,e,n,r)});if(h&&(i=m(e,t[0].ownerDocument,!1,t,r),s=i.firstChild,1===i.childNodes.length&&(i=s),s||r)){for(o=lt.map(p(i,"script"),x),a=o.length;c<h;c++)l=i,c!==d&&(l=lt.clone(l,!0,!0),a&&lt.merge(o,p(l,"script"))),n.call(t[c],l,c);if(a)for(u=o[o.length-1].ownerDocument,lt.map(o,C),c=0;c<a;c++)l=o[c],Pt.test(l.type||"")&&!Tt.access(l,"globalEval")&&lt.contains(u,l)&&(l.src?lt._evalUrl&&lt._evalUrl(l.src):lt.globalEval(l.textContent.replace($t,"")))}return t}function T(t,e,n){for(var r,i=e?lt.filter(e,t):t,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||lt.cleanData(p(r)),r.parentNode&&(n&&lt.contains(r.ownerDocument,r)&&g(p(r,"script")),r.parentNode.removeChild(r));return t}function S(t,e){var n=lt(e.createElement(t)).appendTo(e.body),r=lt.css(n[0],"display");return n.detach(),r}function I(t){var e=Q,n=Kt[t];return n||(n=S(t,e),"none"!==n&&n||(Gt=(Gt||lt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Gt[0].contentDocument,e.write(),e.close(),n=S(t,e),Gt.detach()),Kt[t]=n),n}function k(t,e,n){var r,i,s,o,a=t.style;return n=n||Zt(t),o=n?n.getPropertyValue(e)||n[e]:void 0,""!==o&&void 0!==o||lt.contains(t.ownerDocument,t)||(o=lt.style(t,e)),n&&!at.pixelMarginRight()&&Xt.test(o)&&Jt.test(e)&&(r=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=r,a.minWidth=i,a.maxWidth=s),void 0!==o?o+"":o}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function M(t){if(t in se)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ie.length;n--;)if((t=ie[n]+e)in se)return t}function O(t,e,n){var r=Mt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function N(t,e,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===e?1:0,o=0;s<4;s+=2)"margin"===n&&(o+=lt.css(t,n+Ot[s],!0,i)),r?("content"===n&&(o-=lt.css(t,"padding"+Ot[s],!0,i)),"margin"!==n&&(o-=lt.css(t,"border"+Ot[s]+"Width",!0,i))):(o+=lt.css(t,"padding"+Ot[s],!0,i),"padding"!==n&&(o+=lt.css(t,"border"+Ot[s]+"Width",!0,i)));return o}function R(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,s=Zt(t),o="border-box"===lt.css(t,"boxSizing",!1,s);if(i<=0||null==i){if(i=k(t,e,s),(i<0||null==i)&&(i=t.style[e]),Xt.test(i))return i;r=o&&(at.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+N(t,e,n||(o?"border":"content"),r,s)+"px"}function q(t,e){for(var n,r,i,s=[],o=0,a=t.length;o<a;o++)r=t[o],r.style&&(s[o]=Tt.get(r,"olddisplay"),n=r.style.display,e?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&Nt(r)&&(s[o]=Tt.access(r,"olddisplay",I(r.nodeName)))):(i=Nt(r),"none"===n&&i||Tt.set(r,"olddisplay",i?n:lt.css(r,"display"))));for(o=0;o<a;o++)r=t[o],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?s[o]||"":"none"));return t}function P(t,e,n,r,i){return new P.prototype.init(t,e,n,r,i)}function B(){return n.setTimeout(function(){oe=void 0}),oe=lt.now()}function U(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Ot[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function V(t,e,n){for(var r,i=(Y.tweeners[e]||[]).concat(Y.tweeners["*"]),s=0,o=i.length;s<o;s++)if(r=i[s].call(n,e,t))return r}function j(t,e,n){var r,i,s,o,a,l,u,c=this,h={},d=t.style,f=t.nodeType&&Nt(t),p=Tt.get(t,"fxshow");n.queue||(a=lt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,lt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=lt.css(t,"display"),"inline"===("none"===u?Tt.get(t,"olddisplay")||I(t.nodeName):u)&&"none"===lt.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],le.exec(i)){if(delete e[r],s=s||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!p||void 0===p[r])continue;f=!0}h[r]=p&&p[r]||lt.style(t,r)}else u=void 0;if(lt.isEmptyObject(h))"inline"===("none"===u?I(t.nodeName):u)&&(d.display=u);else{p?"hidden"in p&&(f=p.hidden):p=Tt.access(t,"fxshow",{}),s&&(p.hidden=!f),f?lt(t).show():c.done(function(){lt(t).hide()}),c.done(function(){var e;Tt.remove(t,"fxshow");for(e in h)lt.style(t,e,h[e])});for(r in h)o=V(f?p[r]:0,r,c),r in p||(p[r]=o.start,f&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function F(t,e){var n,r,i,s,o;for(n in t)if(r=lt.camelCase(n),i=e[r],s=t[n],lt.isArray(s)&&(i=s[1],s=t[n]=s[0]),n!==r&&(t[r]=s,delete t[n]),(o=lt.cssHooks[r])&&"expand"in o){s=o.expand(s),delete t[r];for(n in s)n in t||(t[n]=s[n],e[n]=i)}else e[r]=i}function Y(t,e,n){var r,i,s=0,o=Y.prefilters.length,a=lt.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=oe||B(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,s=1-r,o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(s);return a.notifyWith(t,[u,s,n]),s<1&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:lt.extend({},e),opts:lt.extend(!0,{specialEasing:{},easing:lt.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||B(),duration:n.duration,tweens:[],createTween:function(e,n){var r=lt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(F(c,u.opts.specialEasing);s<o;s++)if(r=Y.prefilters[s].call(u,t,c,u.opts))return lt.isFunction(r.stop)&&(lt._queueHooks(u.elem,u.opts.queue).stop=lt.proxy(r.stop,r)),r;return lt.map(c,V,u),lt.isFunction(u.opts.start)&&u.opts.start.call(t,u),lt.fx.timer(lt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(t){return t.getAttribute&&t.getAttribute("class")||""}function z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,s=e.toLowerCase().match(Ct)||[];if(lt.isFunction(n))for(;r=s[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function W(t,e,n,r){function i(a){var l;return s[a]=!0,lt.each(t[a]||[],function(t,a){var u=a(e,n,r);return"string"!=typeof u||o||s[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var s={},o=t===Se;return i(e.dataTypes[0])||!s["*"]&&i("*")}function $(t,e){var n,r,i=lt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&lt.extend(!0,t,r),t}function G(t,e,n){for(var r,i,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)s=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),n[s]}function K(t,e,n,r){var i,s,o,a,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(s=c.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=u[l+" "+s]||u["* "+s]))for(i in u)if(a=i.split(" "),a[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[i]:!0!==u[i]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function J(t,e,n,r){var i;if(lt.isArray(e))lt.each(e,function(e,i){n||Me.test(t)?r(t,i):J(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==lt.type(e))r(t,e);else for(i in e)J(t+"["+i+"]",e[i],n,r)}function X(t){return lt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Z=[],Q=n.document,tt=Z.slice,et=Z.concat,nt=Z.push,rt=Z.indexOf,it={},st=it.toString,ot=it.hasOwnProperty,at={},lt=function(t,e){return new lt.fn.init(t,e)},ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ct=/^-ms-/,ht=/-([\da-z])/gi,dt=function(t,e){return e.toUpperCase()};lt.fn=lt.prototype={jquery:"2.2.4",constructor:lt,selector:"",length:0,toArray:function(){return tt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:tt.call(this)},pushStack:function(t){var e=lt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return lt.each(this,t)},map:function(t){return this.pushStack(lt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:nt,sort:Z.sort,splice:Z.splice},lt.extend=lt.fn.extend=function(){var t,e,n,r,i,s,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||lt.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=o[e],r=t[e],o!==r&&(u&&r&&(lt.isPlainObject(r)||(i=lt.isArray(r)))?(i?(i=!1,s=n&&lt.isArray(n)?n:[]):s=n&&lt.isPlainObject(n)?n:{},o[e]=lt.extend(u,s,r)):void 0!==r&&(o[e]=r));return o},lt.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===lt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!lt.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==lt.type(t)||t.nodeType||lt.isWindow(t))return!1;if(t.constructor&&!ot.call(t,"constructor")&&!ot.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||ot.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?it[st.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=lt.trim(t))&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ct,"ms-").replace(ht,dt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(o(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ut,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(o(Object(t))?lt.merge(n,"string"==typeof t?[t]:t):nt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:rt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,s=t.length,o=!n;i<s;i++)!e(t[i],i)!==o&&r.push(t[i]);return r},map:function(t,e,n){var r,i,s=0,a=[];if(o(t))for(r=t.length;s<r;s++)null!=(i=e(t[s],s,n))&&a.push(i);else for(s in t)null!=(i=e(t[s],s,n))&&a.push(i);return et.apply([],a)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),lt.isFunction(t))return r=tt.call(arguments,2),i=function(){return t.apply(e||this,r.concat(tt.call(arguments)))},i.guid=t.guid=t.guid||lt.guid++,i},now:Date.now,support:at}),"function"==typeof Symbol&&(lt.fn[Symbol.iterator]=Z[Symbol.iterator]),lt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){it["[object "+e+"]"]=e.toLowerCase()});var ft=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,n,r){var i,s,o,a,u,h,d,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!r&&((e?e.ownerDocument||e:B)!==k&&I(e),e=e||k,M)){if(11!==g&&(h=gt.exec(t)))if(i=h[1]){if(9===g){if(!(o=e.getElementById(i)))return n;if(o.id===i)return n.push(o),n}else if(p&&(o=p.getElementById(i))&&q(e,o)&&o.id===i)return n.push(o),n}else{if(h[2])return J.apply(n,e.getElementsByTagName(t)),n;if((i=h[3])&&b.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(i)),n}if(b.qsa&&!Y[t+" "]&&(!O||!O.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(vt,"\\$&"):e.setAttribute("id",a=P),d=C(t),s=d.length,u=ct.test(a)?"#"+a:"[id='"+a+"']";s--;)d[s]=u+" "+c(d[s]);f=d.join(","),p=mt.test(t)&&l(e.parentNode)||e}if(f)try{return J.apply(n,p.querySelectorAll(f)),n}catch(t){}finally{a===P&&e.removeAttribute("id")}}}return D(t.replace(st,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[P]=!0,t}function i(t){var e=k.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=e}function o(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||z)-(~t.sourceIndex||z);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return r(function(e){return e=+e,r(function(n,r){for(var i,s=t([],n.length,e),o=s.length;o--;)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function c(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function h(t,e,n){var r=e.dir,i=n&&"parentNode"===r,s=V++;return e.first?function(e,n,s){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,s)}:function(e,n,o){var a,l,u,c=[U,s];if(o){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,o))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[P]||(e[P]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(a=l[r])&&a[0]===U&&a[1]===s)return c[2]=a[2];if(l[r]=c,c[2]=t(e,n,o))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function f(t,n,r){for(var i=0,s=n.length;i<s;i++)e(t,n[i],r);return r}function p(t,e,n,r,i){for(var s,o=[],a=0,l=t.length,u=null!=e;a<l;a++)(s=t[a])&&(n&&!n(s,r,i)||(o.push(s),u&&e.push(a)));return o}function g(t,e,n,i,s,o){return i&&!i[P]&&(i=g(i)),s&&!s[P]&&(s=g(s,o)),r(function(r,o,a,l){var u,c,h,d=[],g=[],m=o.length,v=r||f(e||"*",a.nodeType?[a]:a,[]),y=!t||!r&&e?v:p(v,d,t,a,l),b=n?s||(r?t:m||i)?[]:o:y;if(n&&n(y,b,a,l),i)for(u=p(b,g),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[g[c]]=!(y[g[c]]=h));if(r){if(s||t){if(s){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);s(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=s?Z(r,h):d[c])>-1&&(r[u]=!(o[u]=h))}}else b=p(b===o?b.splice(m,b.length):b),s?s(null,o,b,l):J.apply(o,b)})}function m(t){for(var e,n,r,i=t.length,s=_.relative[t[0].type],o=s||_.relative[" "],a=s?1:0,l=h(function(t){return t===e},o,!0),u=h(function(t){return Z(e,t)>-1},o,!0),f=[function(t,n,r){var i=!s&&(r||n!==E)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,i}];a<i;a++)if(n=_.relative[t[a].type])f=[h(d(f),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[P]){for(r=++a;r<i&&!_.relative[t[r].type];r++);return g(a>1&&d(f),a>1&&c(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),n,a<r&&m(t.slice(a,r)),r<i&&m(t=t.slice(r)),r<i&&c(t))}f.push(n)}return d(f)}function v(t,n){var i=n.length>0,s=t.length>0,o=function(r,o,a,l,u){var c,h,d,f=0,g="0",m=r&&[],v=[],y=E,b=r||s&&_.find.TAG("*",u),w=U+=null==y?1:Math.random()||.1,x=b.length;for(u&&(E=o===k||o||u);g!==x&&null!=(c=b[g]);g++){if(s&&c){for(h=0,o||c.ownerDocument===k||(I(c),a=!M);d=t[h++];)if(d(c,o||k,a)){l.push(c);break}u&&(U=w)}i&&((c=!d&&c)&&f--,r&&m.push(c))}if(f+=g,i&&g!==f){for(h=0;d=n[h++];)d(m,v,o,a);if(r){if(f>0)for(;g--;)m[g]||v[g]||(v[g]=G.call(l));v=p(v)}J.apply(l,v),u&&!r&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(U=w,E=y),m};return i?r(o):o}var y,b,_,w,x,C,A,D,E,T,S,I,k,L,M,O,N,R,q,P="sizzle"+1*new Date,B=t.document,U=0,V=0,j=n(),F=n(),Y=n(),H=function(t,e){return t===e&&(S=!0),0},z=1<<31,W={}.hasOwnProperty,$=[],G=$.pop,K=$.push,J=$.push,X=$.slice,Z=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",it=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ut=new RegExp(rt),ct=new RegExp("^"+et+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,vt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_t=function(){I()};try{J.apply($=X.call(B.childNodes),B.childNodes),$[B.childNodes.length].nodeType}catch(t){J={apply:$.length?function(t,e){K.apply(t,X.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}b=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:B;return r!==k&&9===r.nodeType&&r.documentElement?(k=r,L=k.documentElement,M=!x(k),(n=k.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),b.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=i(function(t){return t.appendChild(k.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=pt.test(k.getElementsByClassName),b.getById=i(function(t){return L.appendChild(t).id=P,!k.getElementsByName||!k.getElementsByName(P).length}),b.getById?(_.find.ID=function(t,e){if(void 0!==e.getElementById&&M){var n=e.getElementById(t);return n?[n]:[]}},_.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},_.find.CLASS=b.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&M)return e.getElementsByClassName(t)},N=[],O=[],(b.qsa=pt.test(k.querySelectorAll))&&(i(function(t){L.appendChild(t).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+P+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+P+"+*").length||O.push(".#.+[+~]")}),i(function(t){var e=k.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(b.matchesSelector=pt.test(R=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(t){b.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),N.push("!=",rt)}),O=O.length&&new RegExp(O.join("|")),N=N.length&&new RegExp(N.join("|")),e=pt.test(L.compareDocumentPosition),q=e||pt.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},H=e?function(t,e){if(t===e)return S=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===k||t.ownerDocument===B&&q(B,t)?-1:e===k||e.ownerDocument===B&&q(B,e)?1:T?Z(T,t)-Z(T,e):0:4&n?-1:1)}:function(t,e){if(t===e)return S=!0,0;var n,r=0,i=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!i||!s)return t===k?-1:e===k?1:i?-1:s?1:T?Z(T,t)-Z(T,e):0;if(i===s)return o(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[r]===l[r];)r++;return r?o(a[r],l[r]):a[r]===B?-1:l[r]===B?1:0},k):k},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==k&&I(t),n=n.replace(lt,"='$1']"),b.matchesSelector&&M&&!Y[n+" "]&&(!N||!N.test(n))&&(!O||!O.test(n)))try{var r=R.call(t,n);if(r||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,k,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==k&&I(t),q(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==k&&I(t);var n=_.attrHandle[e.toLowerCase()],r=n&&W.call(_.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==r?r:b.attributes||!M?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(S=!b.detectDuplicates,T=!b.sortStable&&t.slice(0),t.sort(H),S){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return T=null,t},w=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=w(e);return n},_=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var s=e.attr(i,t);return null==s?"!="===n:!n||(s+="","="===n?s===r:"!="===n?s!==r:"^="===n?r&&0===s.indexOf(r):"*="===n?r&&s.indexOf(r)>-1:"$="===n?r&&s.slice(-r.length)===r:"~="===n?(" "+s.replace(it," ")+" ").indexOf(r)>-1:"|="===n&&(s===r||s.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,f,p,g=s!==o?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(s){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(d=m,h=d[P]||(d[P]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===U&&u[1],b=f&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[U,f,b];break}}else if(y&&(d=e,h=d[P]||(d[P]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===U&&u[1],b=f),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[P]||(d[P]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[U,b]),d!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,n){var i,s=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[P]?s(n):s.length>1?(i=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=s(t,n),o=i.length;o--;)r=Z(t,i[o]),t[r]=!(e[r]=i[o])}):function(t){return s(t,0,i)}):s}},pseudos:{not:r(function(t){var e=[],n=[],i=A(t.replace(st,"$1"));return i[P]?r(function(t,e,n,r){for(var s,o=i(t,null,r,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,r,s){return e[0]=t,i(e,null,s,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(yt,bt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:r(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,bt).toLowerCase(),function(e){var n;do{if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:a(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},_.pseudos.nth=_.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})_.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return u.prototype=_.filters=_.pseudos,_.setFilters=new u,C=e.tokenize=function(t,n){var r,i,s,o,a,l,u,c=F[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=_.preFilter;a;){r&&!(i=ot.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(s=[])),r=!1,(i=at.exec(a))&&(r=i.shift(),s.push({value:r,type:i[0].replace(st," ")}),a=a.slice(r.length));for(o in _.filter)!(i=ht[o].exec(a))||u[o]&&!(i=u[o](i))||(r=i.shift(),s.push({value:r,type:o,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):F(t,l).slice(0)},A=e.compile=function(t,e){var n,r=[],i=[],s=Y[t+" "];if(!s){for(e||(e=C(t)),n=e.length;n--;)s=m(e[n]),s[P]?r.push(s):i.push(s);s=Y(t,v(i,r)),s.selector=t}return s},D=e.select=function(t,e,n,r){var i,s,o,a,u,h="function"==typeof t&&t,d=!r&&C(t=h.selector||t);if(n=n||[],1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&b.getById&&9===e.nodeType&&M&&_.relative[s[1].type]){if(!(e=(_.find.ID(o.matches[0].replace(yt,bt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(i=ht.needsContext.test(t)?0:s.length;i--&&(o=s[i],!_.relative[a=o.type]);)if((u=_.find[a])&&(r=u(o.matches[0].replace(yt,bt),mt.test(s[0].type)&&l(e.parentNode)||e))){if(s.splice(i,1),!(t=r.length&&c(s)))return J.apply(n,r),n;break}}return(h||A(t,d))(r,e,!M,n,!e||mt.test(t)&&l(e.parentNode)||e),n},b.sortStable=P.split("").sort(H).join("")===P,b.detectDuplicates=!!S,I(),b.sortDetached=i(function(t){return 1&t.compareDocumentPosition(k.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||s(Q,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(n);lt.find=ft,lt.expr=ft.selectors,lt.expr[":"]=lt.expr.pseudos,lt.uniqueSort=lt.unique=ft.uniqueSort,lt.text=ft.getText,lt.isXMLDoc=ft.isXML,lt.contains=ft.contains;var pt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&lt(t).is(n))break;r.push(t)}return r},gt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},mt=lt.expr.match.needsContext,vt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,yt=/^.[^:#\[\.,]*$/;lt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?lt.find.matchesSelector(r,t)?[r]:[]:lt.find.matches(t,lt.grep(e,function(t){return 1===t.nodeType}))},lt.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(lt(t).filter(function(){for(e=0;e<n;e++)if(lt.contains(i[e],this))return!0}));for(e=0;e<n;e++)lt.find(t,i[e],r);return r=this.pushStack(n>1?lt.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&mt.test(t)?lt(t):t||[],!1).length}});var bt,_t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(lt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||bt,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:_t.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof lt?e[0]:e,lt.merge(this,lt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),vt.test(r[1])&&lt.isPlainObject(e))for(r in e)lt.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=Q.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):lt.isFunction(t)?void 0!==n.ready?n.ready(t):t(lt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),lt.makeArray(t,this))}).prototype=lt.fn,bt=lt(Q);var wt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({has:function(t){var e=lt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(lt.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,s=[],o=mt.test(t)||"string"!=typeof t?lt(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&lt.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?lt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?rt.call(lt(t),this[0]):rt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(lt.uniqueSort(lt.merge(this.get(),lt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),lt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return pt(t,"parentNode")},parentsUntil:function(t,e,n){return pt(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return pt(t,"nextSibling")},prevAll:function(t){return pt(t,"previousSibling")},nextUntil:function(t,e,n){return pt(t,"nextSibling",n)},prevUntil:function(t,e,n){return pt(t,"previousSibling",n)},siblings:function(t){return gt((t.parentNode||{}).firstChild,t)},children:function(t){return gt(t.firstChild)},contents:function(t){return t.contentDocument||lt.merge([],t.childNodes)}},function(t,e){lt.fn[t]=function(n,r){var i=lt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=lt.filter(r,i)),this.length>1&&(xt[t]||lt.uniqueSort(i),wt.test(t)&&i.reverse()),this.pushStack(i)}});var Ct=/\S+/g;lt.Callbacks=function(t){t="string"==typeof t?u(t):lt.extend({},t);var e,n,r,i,s=[],o=[],a=-1,l=function(){for(i=t.once,r=e=!0;o.length;a=-1)for(n=o.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,i&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(a=s.length-1,o.push(n)),function e(n){lt.each(n,function(n,r){lt.isFunction(r)?t.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==lt.type(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return lt.each(arguments,function(t,e){for(var n;(n=lt.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--}),this},has:function(t){return t?lt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=o=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=o=[],n||(s=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],o.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},lt.extend({Deferred:function(t){var e=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return lt.Deferred(function(n){lt.each(e,function(e,s){var o=lt.isFunction(t[e])&&t[e];i[s[1]](function(){var t=o&&o.apply(this,arguments);t&&lt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[s[0]+"With"](this===r?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?lt.extend(t,r):r}},i={};return r.pipe=r.then,lt.each(e,function(t,s){var o=s[2],a=s[3];r[s[1]]=o.add,a&&o.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,s=tt.call(arguments),o=s.length,a=1!==o||t&&lt.isFunction(t.promise)?o:0,l=1===a?t:lt.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?tt.call(arguments):i,r===e?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(o>1)for(e=new Array(o),n=new Array(o),r=new Array(o);i<o;i++)s[i]&&lt.isFunction(s[i].promise)?s[i].promise().progress(u(i,n,e)).done(u(i,r,s)).fail(l.reject):--a;return a||l.resolveWith(r,s),l.promise()}});var At;lt.fn.ready=function(t){return lt.ready.promise().done(t),this},lt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?lt.readyWait++:lt.ready(!0)},ready:function(t){(!0===t?--lt.readyWait:lt.isReady)||(lt.isReady=!0,!0!==t&&--lt.readyWait>0||(At.resolveWith(Q,[lt]),lt.fn.triggerHandler&&(lt(Q).triggerHandler("ready"),lt(Q).off("ready"))))}}),lt.ready.promise=function(t){return At||(At=lt.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?n.setTimeout(lt.ready):(Q.addEventListener("DOMContentLoaded",c),n.addEventListener("load",c))),At.promise(t)},lt.ready.promise();var Dt=function(t,e,n,r,i,s,o){var a=0,l=t.length,u=null==n;if("object"===lt.type(n)){i=!0;for(a in n)Dt(t,e,a,n[a],!0,s,o)}else if(void 0!==r&&(i=!0,lt.isFunction(r)||(o=!0),u&&(o?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(lt(t),n)})),e))for(;a<l;a++)e(t[a],n,o?r:r.call(t[a],a,e(t[a],n)));return i?t:u?e.call(t):l?e(t[0],n):s},Et=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Et(t))return{};var e=t[this.expando];return e||(e={},Et(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[e]=n;else for(r in e)i[r]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,lt.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,s=t[this.expando];if(void 0!==s){if(void 0===e)this.register(t);else{lt.isArray(e)?r=e.concat(e.map(lt.camelCase)):(i=lt.camelCase(e),e in s?r=[e,i]:(r=i,r=r in s?[r]:r.match(Ct)||[])),n=r.length;for(;n--;)delete s[r[n]]}(void 0===e||lt.isEmptyObject(s))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!lt.isEmptyObject(e)}};var Tt=new h,St=new h,It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/[A-Z]/g;lt.extend({hasData:function(t){return St.hasData(t)||Tt.hasData(t)},data:function(t,e,n){return St.access(t,e,n)},removeData:function(t,e){St.remove(t,e)},_data:function(t,e,n){return Tt.access(t,e,n)},_removeData:function(t,e){Tt.remove(t,e)}}),lt.fn.extend({data:function(t,e){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(i=St.get(s),1===s.nodeType&&!Tt.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=lt.camelCase(r.slice(5)),d(s,r,i[r])));Tt.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){St.set(this,t)}):Dt(this,function(e){var n,r;if(s&&void 0===e){if(void 0!==(n=St.get(s,t)||St.get(s,t.replace(kt,"-$&").toLowerCase())))return n;if(r=lt.camelCase(t),void 0!==(n=St.get(s,r)))return n;if(void 0!==(n=d(s,r,void 0)))return n}else r=lt.camelCase(t),this.each(function(){var n=St.get(this,r);St.set(this,r,e),t.indexOf("-")>-1&&void 0!==n&&St.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){St.remove(this,t)})}}),lt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Tt.get(t,e),n&&(!r||lt.isArray(n)?r=Tt.access(t,e,lt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=lt.queue(t,e),r=n.length,i=n.shift(),s=lt._queueHooks(t,e),o=function(){lt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete s.stop,i.call(t,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Tt.get(t,n)||Tt.access(t,n,{empty:lt.Callbacks("once memory").add(function(){Tt.remove(t,[e+"queue",n])})})}}),lt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?lt.queue(this[0],t):void 0===e?this:this.each(function(){var n=lt.queue(this,t,e);lt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&lt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){lt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=lt.Deferred(),s=this,o=this.length,a=function(){--r||i.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=Tt.get(s[o],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var Lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Lt+")([a-z%]*)$","i"),Ot=["Top","Right","Bottom","Left"],Nt=function(t,e){return t=e||t,"none"===lt.css(t,"display")||!lt.contains(t.ownerDocument,t)},Rt=/^(?:checkbox|radio)$/i,qt=/<([\w:-]+)/,Pt=/^$|\/(?:java|ecma)script/i,Bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td;var Ut=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),at.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",at.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Vt=/^key/,jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ft=/^([^.]*)(?:\.(.+)|)/;lt.event={global:{},add:function(t,e,n,r,i){var s,o,a,l,u,c,h,d,f,p,g,m=Tt.get(t);if(m)for(n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=lt.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(e){return void 0!==lt&&lt.event.triggered!==e.type?lt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Ct)||[""],u=e.length;u--;)a=Ft.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(h=lt.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=lt.event.special[f]||{},c=lt.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&lt.expr.match.needsContext.test(i),namespace:p.join(".")},s),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&!1!==h.setup.call(t,r,p,o)||t.addEventListener&&t.addEventListener(f,o)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),lt.event.global[f]=!0)},remove:function(t,e,n,r,i){var s,o,a,l,u,c,h,d,f,p,g,m=Tt.hasData(t)&&Tt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Ct)||[""],u=e.length;u--;)if(a=Ft.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=lt.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,d=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)c=d[s],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||lt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)lt.event.remove(t,f+e[u],n,r,!0);lt.isEmptyObject(l)&&Tt.remove(t,"handle events")}},dispatch:function(t){t=lt.event.fix(t);var e,n,r,i,s,o=[],a=tt.call(arguments),l=(Tt.get(this,"events")||{})[t.type]||[],u=lt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(o=lt.event.handlers.call(this,t,l),e=0;(i=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(s.namespace)||(t.handleObj=s,t.data=s.data,void 0!==(r=((lt.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,a))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,s,o=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],n=0;n<a;n++)s=e[n],i=s.selector+" ",void 0===r[i]&&(r[i]=s.needsContext?lt(i,this).index(l)>-1:lt.find(i,this,null,[l]).length),r[i]&&r.push(s);r.length&&o.push({elem:l,handlers:r})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,s=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[lt.expando])return t;var e,n,r,i=t.type,s=t,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=jt.test(i)?this.mouseHooks:Vt.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,t=new lt.Event(s),e=r.length;e--;)n=r[e],t[n]=s[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&lt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return lt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},lt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},lt.Event=function(t,e){if(!(this instanceof lt.Event))return new lt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?v:y):this.type=t,e&&lt.extend(this,e),this.timeStamp=t&&t.timeStamp||lt.now(),this[lt.expando]=!0},lt.Event.prototype={constructor:lt.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){lt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,s=t.handleObj;return i&&(i===r||lt.contains(r,i))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),lt.fn.extend({on:function(t,e,n,r){return _(this,t,e,n,r)},one:function(t,e,n,r){return _(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,lt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=y),this.each(function(){lt.event.remove(this,t,n,e)})}});var Yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ht=/<script|<style|<link/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^true\/(.*)/,$t=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;lt.extend({htmlPrefilter:function(t){return t.replace(Yt,"<$1></$2>")},clone:function(t,e,n){var r,i,s,o,a=t.cloneNode(!0),l=lt.contains(t.ownerDocument,t);if(!(at.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||lt.isXMLDoc(t)))for(o=p(a),s=p(t),r=0,i=s.length;r<i;r++)D(s[r],o[r]);if(e)if(n)for(s=s||p(t),o=o||p(a),r=0,i=s.length;r<i;r++)A(s[r],o[r]);else A(t,a);return o=p(a,"script"),o.length>0&&g(o,!l&&p(t,"script")),a},cleanData:function(t){for(var e,n,r,i=lt.event.special,s=0;void 0!==(n=t[s]);s++)if(Et(n)){if(e=n[Tt.expando]){if(e.events)for(r in e.events)i[r]?lt.event.remove(n,r):lt.removeEvent(n,r,e.handle);n[Tt.expando]=void 0}n[St.expando]&&(n[St.expando]=void 0)}}}),lt.fn.extend({domManip:E,detach:function(t){return T(this,t,!0)},remove:function(t){return T(this,t)},text:function(t){return Dt(this,function(t){return void 0===t?lt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){w(this,t).appendChild(t)}})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(lt.cleanData(p(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return lt.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!Bt[(qt.exec(t)||["",""])[1].toLowerCase()]){t=lt.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(lt.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var n=this.parentNode;lt.inArray(this,t)<0&&(lt.cleanData(p(this)),n&&n.replaceChild(e,this))},t)}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){lt.fn[t]=function(t){for(var n,r=[],i=lt(t),s=i.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),lt(i[o])[e](n),nt.apply(r,n.get());return this.pushStack(r)}});var Gt,Kt={HTML:"block",BODY:"block"},Jt=/^margin/,Xt=new RegExp("^("+Lt+")(?!px)[a-z%]+$","i"),Zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Qt=function(t,e,n,r){var i,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];i=n.apply(t,r||[]);for(s in e)t.style[s]=o[s];return i},te=Q.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",te.appendChild(o);var t=n.getComputedStyle(a);e="1%"!==t.top,s="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,te.removeChild(o)}var e,r,i,s,o=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",at.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),lt.extend(at,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),i},reliableMarginLeft:function(){return null==r&&t(),s},reliableMarginRight:function(){var t,e=a.appendChild(Q.createElement("div"));return e.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",a.style.width="1px",te.appendChild(o),t=!parseFloat(n.getComputedStyle(e).marginRight),te.removeChild(o),a.removeChild(e),t}}))}();var ee=/^(none|table(?!-c[ea]).+)/,ne={position:"absolute",visibility:"hidden",display:"block"},re={letterSpacing:"0",fontWeight:"400"},ie=["Webkit","O","Moz","ms"],se=Q.createElement("div").style;lt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=k(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,s,o,a=lt.camelCase(e),l=t.style;if(e=lt.cssProps[a]||(lt.cssProps[a]=M(a)||a),o=lt.cssHooks[e]||lt.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(t,!1,r))?i:l[e];s=typeof n,"string"===s&&(i=Mt.exec(n))&&i[1]&&(n=f(t,e,i),s="number"),null!=n&&n===n&&("number"===s&&(n+=i&&i[3]||(lt.cssNumber[a]?"":"px")),at.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,r))||(l[e]=n))}},css:function(t,e,n,r){var i,s,o,a=lt.camelCase(e);return e=lt.cssProps[a]||(lt.cssProps[a]=M(a)||a),o=lt.cssHooks[e]||lt.cssHooks[a],o&&"get"in o&&(i=o.get(t,!0,n)),void 0===i&&(i=k(t,e,r)),"normal"===i&&e in re&&(i=re[e]),""===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),lt.each(["height","width"],function(t,e){lt.cssHooks[e]={get:function(t,n,r){if(n)return ee.test(lt.css(t,"display"))&&0===t.offsetWidth?Qt(t,ne,function(){return R(t,e,r)}):R(t,e,r)},set:function(t,n,r){var i,s=r&&Zt(t),o=r&&N(t,e,r,"border-box"===lt.css(t,"boxSizing",!1,s),s);return o&&(i=Mt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=lt.css(t,e)),O(t,n,o)}}}),lt.cssHooks.marginLeft=L(at.reliableMarginLeft,function(t,e){if(e)return(parseFloat(k(t,"marginLeft"))||t.getBoundingClientRect().left-Qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),lt.cssHooks.marginRight=L(at.reliableMarginRight,function(t,e){if(e)return Qt(t,{display:"inline-block"},k,[t,"marginRight"])}),lt.each({margin:"",padding:"",border:"Width"},function(t,e){lt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Ot[r]+e]=s[r]||s[r-2]||s[0];return i}},Jt.test(t)||(lt.cssHooks[t+e].set=O)}),lt.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var r,i,s={},o=0;if(lt.isArray(e)){for(r=Zt(t),i=e.length;o<i;o++)s[e[o]]=lt.css(t,e[o],!1,r);return s}return void 0!==n?lt.style(t,e,n):lt.css(t,e)},t,e,arguments.length>1)},show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Nt(this)?lt(this).show():lt(this).hide()})}}),lt.Tween=P,P.prototype={constructor:P,init:function(t,e,n,r,i,s){this.elem=t,this.prop=n,this.easing=i||lt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=s||(lt.cssNumber[n]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,n=P.propHooks[this.prop];return this.options.duration?this.pos=e=lt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=lt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){lt.fx.step[t.prop]?lt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[lt.cssProps[t.prop]]&&!lt.cssHooks[t.prop]?t.elem[t.prop]=t.now:lt.style(t.elem,t.prop,t.now+t.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},lt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},lt.fx=P.prototype.init,lt.fx.step={};var oe,ae,le=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;lt.Animation=lt.extend(Y,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return f(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){lt.isFunction(t)?(e=t,t=["*"]):t=t.match(Ct);for(var n,r=0,i=t.length;r<i;r++)n=t[r],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(e)},prefilters:[j],prefilter:function(t,e){e?Y.prefilters.unshift(t):Y.prefilters.push(t)}}),lt.speed=function(t,e,n){var r=t&&"object"==typeof t?lt.extend({},t):{complete:n||!n&&e||lt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!lt.isFunction(e)&&e};return r.duration=lt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in lt.fx.speeds?lt.fx.speeds[r.duration]:lt.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){lt.isFunction(r.old)&&r.old.call(this),r.queue&&lt.dequeue(this,r.queue)},r},lt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=lt.isEmptyObject(t),s=lt.speed(e,n,r),o=function(){var e=Y(this,lt.extend({},t),s);(i||Tt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,i||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",s=lt.timers,o=Tt.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&ue.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));!e&&n||lt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Tt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],s=lt.timers,o=r?r.length:0;for(n.finish=!0,lt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),lt.each(["toggle","show","hide"],function(t,e){var n=lt.fn[e];lt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,r,i)}}),lt.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){lt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),lt.timers=[],lt.fx.tick=function(){var t,e=0,n=lt.timers;for(oe=lt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||lt.fx.stop(),oe=void 0},lt.fx.timer=function(t){lt.timers.push(t),t()?lt.fx.start():lt.timers.pop()},lt.fx.interval=13,lt.fx.start=function(){ae||(ae=n.setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){n.clearInterval(ae),ae=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fn.delay=function(t,e){return t=lt.fx?lt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",at.checkOn=""!==t.value,at.optSelected=n.selected,e.disabled=!0,at.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",at.radioValue="t"===t.value}();var ce,he=lt.expr.attrHandle;lt.fn.extend({attr:function(t,e){return Dt(this,lt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){lt.removeAttr(this,t)})}}),lt.extend({attr:function(t,e,n){var r,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?lt.prop(t,e,n):(1===s&&lt.isXMLDoc(t)||(e=e.toLowerCase(),i=lt.attrHooks[e]||(lt.expr.match.bool.test(e)?ce:void 0)),void 0!==n?null===n?void lt.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=lt.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!at.radioValue&&"radio"===e&&lt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,i=0,s=e&&e.match(Ct);if(s&&1===t.nodeType)for(;n=s[i++];)r=lt.propFix[n]||n,lt.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)}}),ce={set:function(t,e,n){return!1===e?lt.removeAttr(t,n):t.setAttribute(n,n),n}},lt.each(lt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=he[e]||lt.find.attr;he[e]=function(t,e,r){var i,s;return r||(s=he[e],he[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,he[e]=s),i}});var de=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;lt.fn.extend({prop:function(t,e){return Dt(this,lt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[lt.propFix[t]||t]})}}),lt.extend({prop:function(t,e,n){var r,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&lt.isXMLDoc(t)||(e=lt.propFix[e]||e,i=lt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=lt.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),at.optSelected||(lt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),lt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){lt.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;lt.fn.extend({addClass:function(t){var e,n,r,i,s,o,a,l=0;if(lt.isFunction(t))return this.each(function(e){lt(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(Ct)||[];n=this[l++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace(pe," ")){for(o=0;s=e[o++];)r.indexOf(" "+s+" ")<0&&(r+=s+" ");a=lt.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,s,o,a,l=0;if(lt.isFunction(t))return this.each(function(e){lt(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ct)||[];n=this[l++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace(pe," ")){for(o=0;s=e[o++];)for(;r.indexOf(" "+s+" ")>-1;)r=r.replace(" "+s+" "," ");a=lt.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):lt.isFunction(t)?this.each(function(n){lt(this).toggleClass(t.call(this,n,H(this),e),e)}):this.each(function(){var e,r,i,s;if("string"===n)for(r=0,i=lt(this),s=t.match(Ct)||[];e=s[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=H(this),e&&Tt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Tt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var ge=/\r/g,me=/[\x20\t\r\n\f]+/g;lt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=lt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,lt(this).val()):t,null==i?i="":"number"==typeof i?i+="":lt.isArray(i)&&(i=lt.map(i,function(t){return null==t?"":t+""})),(e=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return(e=lt.valHooks[i.type]||lt.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ge,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(t){var e=lt.find.attr(t,"value");return null!=e?e:lt.trim(lt.text(t)).replace(me," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,s="select-one"===t.type||i<0,o=s?null:[],a=s?i+1:r.length,l=i<0?a:s?i:0;l<a;l++)if(n=r[l],(n.selected||l===i)&&(at.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!lt.nodeName(n.parentNode,"optgroup"))){if(e=lt(n).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var n,r,i=t.options,s=lt.makeArray(e),o=i.length;o--;)r=i[o],(r.selected=lt.inArray(lt.valHooks.option.get(r),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]={set:function(t,e){if(lt.isArray(e))return t.checked=lt.inArray(lt(t).val(),e)>-1}},at.checkOn||(lt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ve=/^(?:focusinfocus|focusoutblur)$/;lt.extend(lt.event,{trigger:function(t,e,r,i){var s,o,a,l,u,c,h,d=[r||Q],f=ot.call(t,"type")?t.type:t,p=ot.call(t,"namespace")?t.namespace.split("."):[];if(o=a=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!ve.test(f+lt.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[lt.expando]?t:new lt.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:lt.makeArray(e,[t]),h=lt.event.special[f]||{},i||!h.trigger||!1!==h.trigger.apply(r,e))){if(!i&&!h.noBubble&&!lt.isWindow(r)){for(l=h.delegateType||f,ve.test(l+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(r.ownerDocument||Q)&&d.push(a.defaultView||a.parentWindow||n)}for(s=0;(o=d[s++])&&!t.isPropagationStopped();)t.type=s>1?l:h.bindType||f,c=(Tt.get(o,"events")||{})[t.type]&&Tt.get(o,"handle"),c&&c.apply(o,e),(c=u&&o[u])&&c.apply&&Et(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!Et(r)||u&&lt.isFunction(r[f])&&!lt.isWindow(r)&&(a=r[u],a&&(r[u]=null),lt.event.triggered=f,r[f](),lt.event.triggered=void 0,a&&(r[u]=a)),t.result}},simulate:function(t,e,n){var r=lt.extend(new lt.Event,n,{type:t,isSimulated:!0});lt.event.trigger(r,null,e)}}),lt.fn.extend({trigger:function(t,e){return this.each(function(){lt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return lt.event.trigger(t,e,n,!0)}}),lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){lt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),lt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),at.focusin="onfocusin"in n,at.focusin||lt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){lt.event.simulate(e,t.target,lt.event.fix(t))};lt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Tt.access(r,e);i||r.addEventListener(t,n,!0),Tt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Tt.access(r,e)-1;i?Tt.access(r,e,i):(r.removeEventListener(t,n,!0),Tt.remove(r,e))}}});var ye=n.location,be=lt.now(),_e=/\?/;lt.parseJSON=function(t){return JSON.parse(t+"")},lt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+t),e};var we=/#.*$/,xe=/([?&])_=[^&]*/,Ce=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ae=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,De=/^(?:GET|HEAD)$/,Ee=/^\/\//,Te={},Se={},Ie="*/".concat("*"),ke=Q.createElement("a");ke.href=ye.href,lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:Ae.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,lt.ajaxSettings),e):$(lt.ajaxSettings,t)},ajaxPrefilter:z(Te),ajaxTransport:z(Se),ajax:function(t,e){function r(t,e,r,a){var u,h,y,b,w,C=e;2!==_&&(_=2,l&&n.clearTimeout(l),i=void 0,o=a||"",x.readyState=t>0?4:0,u=t>=200&&t<300||304===t,r&&(b=G(d,x,r)),b=K(d,b,x,u),u?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[s]=w),(w=x.getResponseHeader("etag"))&&(lt.etag[s]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,h=b.data,y=b.error,u=!y)):(y=C,!t&&C||(C="error",t<0&&(t=0))),x.status=t,x.statusText=(e||C)+"",u?g.resolveWith(f,[h,C,x]):g.rejectWith(f,[x,C,y]),x.statusCode(v),v=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[x,d,u?h:y]),m.fireWith(f,[x,C]),c&&(p.trigger("ajaxComplete",[x,d]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,s,o,a,l,u,c,h,d=lt.ajaxSetup({},e),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?lt(f):lt.event,g=lt.Deferred(),m=lt.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!a)for(a={};e=Ce.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return _||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),r(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||ye.href)+"").replace(we,"").replace(Ee,ye.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=lt.trim(d.dataType||"*").toLowerCase().match(Ct)||[""],null==d.crossDomain){u=Q.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=ke.protocol+"//"+ke.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=lt.param(d.data,d.traditional)),W(Te,d,e,x),2===_)return x;c=lt.event&&d.global,c&&0==lt.active++&&lt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!De.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(_e.test(s)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=xe.test(s)?s.replace(xe,"$1_="+be++):s+(_e.test(s)?"&":"?")+"_="+be++)),d.ifModified&&(lt.lastModified[s]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[s]),lt.etag[s]&&x.setRequestHeader("If-None-Match",lt.etag[s])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ie+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)x.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===_))return x.abort();w="abort";for(h in{success:1,error:1,complete:1})x[h](d[h]);if(i=W(Se,d,e,x)){if(x.readyState=1,c&&p.trigger("ajaxSend",[x,d]),2===_)return x;d.async&&d.timeout>0&&(l=n.setTimeout(function(){x.abort("timeout")},d.timeout));try{_=1,i.send(y,r)}catch(t){if(!(_<2))throw t;r(-1,t)}}else r(-1,"No Transport");return x},getJSON:function(t,e,n){return lt.get(t,e,n,"json")},getScript:function(t,e){return lt.get(t,void 0,e,"script")}}),lt.each(["get","post"],function(t,e){lt[e]=function(t,n,r,i){return lt.isFunction(n)&&(i=i||r,r=n,n=void 0),lt.ajax(lt.extend({url:t,type:e,dataType:i,data:n,success:r},lt.isPlainObject(t)&&t))}}),lt._evalUrl=function(t){return lt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},lt.fn.extend({wrapAll:function(t){var e;return lt.isFunction(t)?this.each(function(e){lt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=lt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return lt.isFunction(t)?this.each(function(e){lt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=lt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=lt.isFunction(t);return this.each(function(n){lt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()}}),lt.expr.filters.hidden=function(t){return!lt.expr.filters.visible(t)},lt.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Le=/%20/g,Me=/\[\]$/,Oe=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;lt.param=function(t,e){var n,r=[],i=function(t,e){e=lt.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(t)||t.jquery&&!lt.isPlainObject(t))lt.each(t,function(){i(this.name,this.value)});else for(n in t)J(n,t[n],e,i);return r.join("&").replace(Le,"+")},lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=lt.prop(this,"elements");return t?lt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!lt(this).is(":disabled")&&Re.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!Rt.test(t))}).map(function(t,e){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(t){return{name:e.name,value:t.replace(Oe,"\r\n")}}):{name:e.name,value:n.replace(Oe,"\r\n")}}).get()}}),lt.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Pe=lt.ajaxSettings.xhr();at.cors=!!Pe&&"withCredentials"in Pe,at.ajax=Pe=!!Pe,lt.ajaxTransport(function(t){var e,r;if(at.cors||Pe&&!t.crossDomain)return{send:function(i,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)a.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return lt.globalEval(t),t}}}),lt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),lt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=lt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Be=[],Ue=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Be.pop()||lt.expando+"_"+be++;return this[t]=!0,t}}),lt.ajaxPrefilter("json jsonp",function(t,e,r){var i,s,o,a=!1!==t.jsonp&&(Ue.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ue.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=lt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ue,"$1"+i):!1!==t.jsonp&&(t.url+=(_e.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||lt.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=n[i],n[i]=function(){o=arguments},r.always(function(){void 0===s?lt(n).removeProp(i):n[i]=s,t[i]&&(t.jsonpCallback=e.jsonpCallback,Be.push(i)),o&&lt.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),lt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var r=vt.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=m([t],e,i),i&&i.length&&lt(i).remove(),lt.merge([],r.childNodes))};var Ve=lt.fn.load;lt.fn.load=function(t,e,n){if("string"!=typeof t&&Ve)return Ve.apply(this,arguments);var r,i,s,o=this,a=t.indexOf(" ");return a>-1&&(r=lt.trim(t.slice(a)),t=t.slice(0,a)),lt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),o.length>0&&lt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(r?lt("<div>").append(lt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,s||[t.responseText,e,t])})}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){lt.fn[e]=function(t){return this.on(e,t)}}),lt.expr.filters.animated=function(t){return lt.grep(lt.timers,function(e){return t===e.elem}).length},lt.offset={setOffset:function(t,e,n){var r,i,s,o,a,l,u,c=lt.css(t,"position"),h=lt(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),s=lt.css(t,"top"),l=lt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1,u?(r=h.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(l)||0),lt.isFunction(e)&&(e=e.call(t,n,lt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+o),null!=e.left&&(d.left=e.left-a.left+i),"using"in e?e.using.call(t,d):h.css(d)}},lt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){lt.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(s)return e=s.documentElement,lt.contains(e,r)?(i=r.getBoundingClientRect(),n=X(s),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===lt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),lt.nodeName(t[0],"html")||(r=t.offset()),r.top+=lt.css(t[0],"borderTopWidth",!0),r.left+=lt.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-lt.css(n,"marginTop",!0),left:e.left-r.left-lt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===lt.css(t,"position");)t=t.offsetParent;return t||te})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;lt.fn[t]=function(r){return Dt(this,function(t,r,i){var s=X(t);if(void 0===i)return s?s[e]:t[r];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):t[r]=i},t,r,arguments.length)}}),lt.each(["top","left"],function(t,e){lt.cssHooks[e]=L(at.pixelPosition,function(t,n){if(n)return n=k(t,e),Xt.test(n)?lt(t).position()[e]+"px":n})}),lt.each({Height:"height",Width:"width"},function(t,e){lt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){lt.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===i?"margin":"border");return Dt(this,function(e,n,r){var i;return lt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?lt.css(e,n,o):lt.style(e,n,r,o)},e,s?r:void 0,s,null)}})}),lt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),lt.fn.andSelf=lt.fn.addBack,r=[],void 0!==(i=function(){return lt}.apply(e,r))&&(t.exports=i);var je=n.jQuery,Fe=n.$;return lt.noConflict=function(t){return n.$===lt&&(n.$=Fe),t&&n.jQuery===lt&&(n.jQuery=je),lt},s||(n.jQuery=n.$=lt),lt})},function(t,e,n){var r,i;(function(){function n(t){function e(e,n,r,i,s,o){for(;s>=0&&s<o;s+=t){var a=i?i[s]:s;r=n(r,e[a],a,e)}return r}return function(n,r,i,s){r=C(r,s,4);var o=!k(n)&&x.keys(n),a=(o||n).length,l=t>0?0:a-1;return arguments.length<3&&(i=n[o?o[l]:l],l+=t),e(n,r,i,o,l,a)}}function s(t){return function(e,n,r){n=A(n,r);for(var i=I(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}function o(t,e,n){return function(r,i,s){var o=0,a=I(r);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(p.call(r,o,a),x.isNaN),s>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(r[s]===i)return s;return-1}}function a(t,e){var n=R.length,r=t.constructor,i=x.isFunction(r)&&r.prototype||h,s="constructor";for(x.has(t,s)&&!x.contains(e,s)&&e.push(s);n--;)(s=R[n])in t&&t[s]!==i[s]&&!x.contains(e,s)&&e.push(s)}var l=this,u=l._,c=Array.prototype,h=Object.prototype,d=Function.prototype,f=c.push,p=c.slice,g=h.toString,m=h.hasOwnProperty,v=Array.isArray,y=Object.keys,b=d.bind,_=Object.create,w=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};void 0!==t&&t.exports&&(e=t.exports=x),e._=x,x.VERSION="1.8.3";var C=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,s){return t.call(e,n,r,i,s)}}return function(){return t.apply(e,arguments)}},A=function(t,e,n){return null==t?x.identity:x.isFunction(t)?C(t,e,n):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return A(t,e,1/0)};var D=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var s=arguments[i],o=t(s),a=o.length,l=0;l<a;l++){var u=o[l];e&&void 0!==n[u]||(n[u]=s[u])}return n}},E=function(t){if(!x.isObject(t))return{};if(_)return _(t);w.prototype=t;var e=new w;return w.prototype=null,e},T=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,I=T("length"),k=function(t){var e=I(t);return"number"==typeof e&&e>=0&&e<=S};x.each=x.forEach=function(t,e,n){e=C(e,n);var r,i;if(k(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=x.keys(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t},x.map=x.collect=function(t,e,n){e=A(e,n);for(var r=!k(t)&&x.keys(t),i=(r||t).length,s=Array(i),o=0;o<i;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(t,e,n){var r;if(void 0!==(r=k(t)?x.findIndex(t,e,n):x.findKey(t,e,n))&&-1!==r)return t[r]},x.filter=x.select=function(t,e,n){var r=[];return e=A(e,n),x.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},x.reject=function(t,e,n){return x.filter(t,x.negate(A(e)),n)},x.every=x.all=function(t,e,n){e=A(e,n);for(var r=!k(t)&&x.keys(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0},x.some=x.any=function(t,e,n){e=A(e,n);for(var r=!k(t)&&x.keys(t),i=(r||t).length,s=0;s<i;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,n,r){return k(t)||(t=x.values(t)),("number"!=typeof n||r)&&(n=0),x.indexOf(t,e,n)>=0},x.invoke=function(t,e){var n=p.call(arguments,2),r=x.isFunction(e);return x.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,n){var r,i,s=-1/0,o=-1/0;if(null==e&&null!=t){t=k(t)?t:x.values(t);for(var a=0,l=t.length;a<l;a++)(r=t[a])>s&&(s=r)}else e=A(e,n),x.each(t,function(t,n,r){((i=e(t,n,r))>o||i===-1/0&&s===-1/0)&&(s=t,o=i)});return s},x.min=function(t,e,n){var r,i,s=1/0,o=1/0;if(null==e&&null!=t){t=k(t)?t:x.values(t);for(var a=0,l=t.length;a<l;a++)(r=t[a])<s&&(s=r)}else e=A(e,n),x.each(t,function(t,n,r){((i=e(t,n,r))<o||i===1/0&&s===1/0)&&(s=t,o=i)});return s},x.shuffle=function(t){for(var e,n=k(t)?t:x.values(t),r=n.length,i=Array(r),s=0;s<r;s++)e=x.random(0,s),e!==s&&(i[s]=i[e]),i[e]=n[s];return i},x.sample=function(t,e,n){return null==e||n?(k(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,n){return e=A(e,n),x.pluck(x.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var L=function(t){return function(e,n,r){var i={};return n=A(n,r),x.each(e,function(r,s){var o=n(r,s,e);t(i,r,o)}),i}};x.groupBy=L(function(t,e,n){x.has(t,n)?t[n].push(e):t[n]=[e]}),x.indexBy=L(function(t,e,n){t[n]=e}),x.countBy=L(function(t,e,n){x.has(t,n)?t[n]++:t[n]=1}),x.toArray=function(t){return t?x.isArray(t)?p.call(t):k(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:k(t)?t.length:x.keys(t).length},x.partition=function(t,e,n){e=A(e,n);var r=[],i=[];return x.each(t,function(t,n,s){(e(t,n,s)?r:i).push(t)}),[r,i]},x.first=x.head=x.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:x.initial(t,t.length-e)},x.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},x.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:x.rest(t,Math.max(0,t.length-e))},x.rest=x.tail=x.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var M=function(t,e,n,r){for(var i=[],s=0,o=r||0,a=I(t);o<a;o++){var l=t[o];if(k(l)&&(x.isArray(l)||x.isArguments(l))){e||(l=M(l,e,n));var u=0,c=l.length;for(i.length+=c;u<c;)i[s++]=l[u++]}else n||(i[s++]=l)}return i};x.flatten=function(t,e){return M(t,e,!1)},x.without=function(t){return x.difference(t,p.call(arguments,1))},x.uniq=x.unique=function(t,e,n,r){x.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=A(n,r));for(var i=[],s=[],o=0,a=I(t);o<a;o++){var l=t[o],u=n?n(l,o,t):l;e?(o&&s===u||i.push(l),s=u):n?x.contains(s,u)||(s.push(u),i.push(l)):x.contains(i,l)||i.push(l)}return i},x.union=function(){return x.uniq(M(arguments,!0,!0))},x.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=I(t);r<i;r++){var s=t[r];if(!x.contains(e,s)){for(var o=1;o<n&&x.contains(arguments[o],s);o++);o===n&&e.push(s)}}return e},x.difference=function(t){var e=M(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,I).length||0,n=Array(e),r=0;r<e;r++)n[r]=x.pluck(t,r);return n},x.object=function(t,e){for(var n={},r=0,i=I(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},x.findIndex=s(1),x.findLastIndex=s(-1),x.sortedIndex=function(t,e,n,r){n=A(n,r,1);for(var i=n(e),s=0,o=I(t);s<o;){var a=Math.floor((s+o)/2);n(t[a])<i?s=a+1:o=a}return s},x.indexOf=o(1,x.findIndex,x.sortedIndex),x.lastIndexOf=o(-1,x.findLastIndex),x.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i};var O=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=E(t.prototype),o=t.apply(s,i);return x.isObject(o)?o:s};x.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,p.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),r=function(){return O(t,r,e,this,n.concat(p.call(arguments)))};return r},x.partial=function(t){var e=p.call(arguments,1),n=function(){for(var r=0,i=e.length,s=Array(i),o=0;o<i;o++)s[o]=e[o]===x?arguments[r++]:e[o];for(;r<arguments.length;)s.push(arguments[r++]);return O(t,n,this,this,s)};return n},x.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n=arguments[e],t[n]=x.bind(t[n],t);return t},x.memoize=function(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return x.has(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n},x.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,n){var r,i,s,o=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:x.now(),o=null,s=t.apply(r,i),o||(r=i=null)};return function(){var u=x.now();a||!1!==n.leading||(a=u);var c=e-(u-a);return r=this,i=arguments,c<=0||c>e?(o&&(clearTimeout(o),o=null),a=u,s=t.apply(r,i),o||(r=i=null)):o||!1===n.trailing||(o=setTimeout(l,c)),s}},x.debounce=function(t,e,n){var r,i,s,o,a,l=function(){var u=x.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=x.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(s,i),s=i=null),a}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},x.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},x.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},x.once=x.partial(x.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return N&&a(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var n in t)e.push(n);return N&&a(t,e),e},x.values=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},x.mapObject=function(t,e,n){e=A(e,n);for(var r,i=x.keys(t),s=i.length,o={},a=0;a<s;a++)r=i[a],o[r]=e(t[r],r,t);return o},x.pairs=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},x.invert=function(t){for(var e={},n=x.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=D(x.allKeys),x.extendOwn=x.assign=D(x.keys),x.findKey=function(t,e,n){e=A(e,n);for(var r,i=x.keys(t),s=0,o=i.length;s<o;s++)if(r=i[s],e(t[r],r,t))return r},x.pick=function(t,e,n){var r,i,s={},o=t;if(null==o)return s;x.isFunction(e)?(i=x.allKeys(o),r=C(e,n)):(i=M(arguments,!1,!1,1),r=function(t,e,n){return e in n},o=Object(o));for(var a=0,l=i.length;a<l;a++){var u=i[a],c=o[u];r(c,u,o)&&(s[u]=c)}return s},x.omit=function(t,e,n){if(x.isFunction(e))e=x.negate(e);else{var r=x.map(M(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(r,e)}}return x.pick(t,e,n)},x.defaults=D(x.allKeys,!0),x.create=function(t,e){var n=E(t);return e&&x.extendOwn(n,e),n},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var n=x.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),s=0;s<r;s++){var o=n[s];if(e[o]!==i[o]||!(o in i))return!1}return!0};var q=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var i=g.call(t);if(i!==g.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var s="[object Array]"===i;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!q(t[l],e[l],n,r))return!1}else{var u,c=x.keys(t);if(l=c.length,x.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!x.has(e,u)||!q(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(t,e){return q(t,e)},x.isEmpty=function(t){return null==t||(k(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length)},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=v||function(t){return"[object Array]"===g.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===g.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&m.call(t,e)},x.noConflict=function(){return l._=u,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=T,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,n){var r=Array(Math.max(0,t));e=C(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=x.invert(P),U=function(t){var e=function(e){return t[e]},n="(?:"+x.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};x.escape=U(P),x.unescape=U(B),x.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),x.isFunction(r)?r.call(t):r};var V=0;x.uniqueId=function(t){var e=++V+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g,H=function(t){return"\\"+F[t]};x.template=function(t,e,n){!e&&n&&(e=n),e=x.defaults({},e,x.templateSettings);var r=RegExp([(e.escape||j).source,(e.interpolate||j).source,(e.evaluate||j).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(e,n,r,o,a){return s+=t.slice(i,a).replace(Y,H),i=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return o.call(this,t,x)};return a.source="function("+(e.variable||"obj")+"){\n"+s+"}",a},x.chain=function(t){var e=x(t);return e._chain=!0,e};var z=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),z(this,n.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),x.each(["concat","join","slice"],function(t){var e=c[t];x.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return x}.apply(e,r))&&(t.exports=i)}).call(this)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(3),r=n(46),i=["account","aliases","attachment","folder","dav","keyboard","message","navigation","notification","preference","state","sync","ui"],s={};return e.each(i,function(t){s[t]=r.channel(t)}),s}.call(e,n,e,t))&&(t.exports=r)},function(t,e){t.exports=function(t){return null==t?"":""+t}},function(t,e,n){/**
* @license
* MarionetteJS (Backbone.Marionette)
* ----------------------------------
* v3.5.1
*
* Copyright (c)2017 Derick Bailey, Muted Solutions, LLC.
* Distributed under MIT license
*
* http://marionettejs.com
*/
!function(e,r){t.exports=r(n(9),n(3),n(46))}(0,function(t,e,n){"use strict";function r(t,e,n){return n.toUpperCase()}function i(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=G(t),o=z.call(this,s),a=void 0;return e.isFunction(o)&&(a=o.apply(this,r)),this.trigger.apply(this,arguments),a}function s(t){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return e.isFunction(t.triggerMethod)?t.triggerMethod.apply(t,r):i.apply(t,r)}function o(t,n,r){t._getImmediateChildren&&e.each(t._getImmediateChildren(),function(t){r(t)&&s(t,n,t)})}function a(t){return!t._isAttached}function l(t){return!!a(t)&&(t._isAttached=!0,!0)}function u(t){return t._isAttached}function c(t){return!!u(t)&&(t._isAttached=!1,!0)}function h(t){t._isAttached&&t._isRendered&&s(t,"dom:refresh",t)}function d(t){t._isAttached&&t._isRendered&&s(t,"dom:remove",t)}function f(){o(this,"before:attach",a)}function p(){o(this,"attach",l),h(this)}function g(){o(this,"before:detach",u),d(this)}function m(){o(this,"detach",c)}function v(){d(this)}function y(){h(this)}function b(t){t._areViewEventsMonitored||!1===t.monitorViewEvents||(t._areViewEventsMonitored=!0,t.on({"before:attach":f,attach:p,"before:detach":g,detach:m,"before:render":v,render:y}))}function _(t,n,r,i,s){var o=i.split(/\s+/);o.length>1&&F("Multiple handlers for a single event are deprecated. If needed, use a single handler to call multiple methods."),e.each(o,function(e){var i=t[e];if(!i)throw new J('Method "'+e+'" was configured as an event handler, but does not exist.');t[s](n,r,i)})}function w(t,n,r,i){if(!e.isObject(r))throw new J({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindevents"});e.each(r,function(r,s){if(e.isString(r))return void _(t,n,s,r,i);t[i](n,s,r)})}function x(t,e){return t&&e?(w(this,t,e,"listenTo"),this):this}function C(t,e){return t?e?(w(this,t,e,"stopListening"),this):(this.stopListening(t),this):this}function A(t,n,r,i){if(!e.isObject(r))throw new J({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindrequests"});var s=W.call(t,r);n[i](s,t)}function D(t,e){return t&&e?(A(this,t,e,"reply"),this):this}function E(t,e){return t?e?(A(this,t,e,"stopReplying"),this):(t.stopReplying(null,null,this),this):this}function T(t,n){return t.behaviorClass?t.behaviorClass:e.isFunction(t)?t:e.isFunction(jt.Behaviors.behaviorsLookup)?jt.Behaviors.behaviorsLookup(t,n)[n]:jt.Behaviors.behaviorsLookup[n]}function S(t,n){return e.chain(n).map(function(n,r){var i=T(n,r),s=n===i?{}:n,o=new i(s,t);return[o].concat(S(t,e.result(o,"behaviors")))}).flatten().value()}function I(t){return!!lt[t]}function k(t,e){return lt[t]=e}function L(t,n){e.isString(n)&&(n={event:n});var r=n.event,i=!!n.preventDefault;I("triggersPreventDefault")&&(i=!1!==n.preventDefault);var s=!!n.stopPropagation;return I("triggersStopPropagation")&&(s=!1!==n.stopPropagation),function(e){i&&e.preventDefault(),s&&e.stopPropagation(),t.triggerMethod(r,t,e)}}function M(e){return e instanceof t.$?e:t.$(e)}function O(t){return this.prototype.Dom=e.extend({},this.prototype.Dom,t),this}function N(t){t._isRendered||(t.supportsRenderLifecycle||s(t,"before:render",t),t.render(),t.supportsRenderLifecycle||(t._isRendered=!0,s(t,"render",t)))}function R(t){if(t.destroy)return void t.destroy();t.supportsDestroyLifecycle||s(t,"before:destroy",t);var e=t._isAttached&&!t._shouldDisableEvents;e&&s(t,"before:detach",t),t.remove(),e&&(t._isAttached=!1,s(t,"detach",t)),t._isDestroyed=!0,t.supportsDestroyLifecycle||s(t,"destroy",t)}function q(t,n){var r=e.extend({},n);if(e.isString(t))return e.extend(r,{el:t}),P(r);if(e.isFunction(t))return e.extend(r,{regionClass:t}),P(r);if(e.isObject(t))return t.selector&&F("The selector option on a Region definition object is deprecated. Use el to pass a selector string"),e.extend(r,{el:t.selector},t),P(r);throw new J({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})}function P(t){return new(0,t.regionClass)(e.omit(t,"regionClass"))}function B(t,e){return e.model&&e.model.get(t)}function U(){throw new J({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.md#behaviorslookup"})}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var V=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(e,r)}},j=t.Model.extend,F=function t(n,r){e.isObject(n)&&(n=n.prev+" is going to be removed in the future. Please use "+n.next+" instead."+(n.url?" See: "+n.url:"")),jt.DEV_MODE&&(void 0!==r&&r||t._cache[n]||(t._warn("Deprecation warning: "+n),t._cache[n]=!0))};F._console="undefined"!=typeof console?console:{},F._warn=function(){return(F._console.warn||F._console.log||e.noop).apply(F._console,arguments)},F._cache={};var Y=function(t){return document.documentElement.contains(t&&t.parentNode)},H=function(t,n){var r=this;t&&e.each(n,function(e){var n=t[e];void 0!==n&&(r[e]=n)})},z=function(t){if(t)return this.options&&void 0!==this.options[t]?this.options[t]:this[t]},W=function(t){var n=this;return e.reduce(t,function(t,r,i){return e.isFunction(r)||(r=n[r]),r&&(t[i]=r),t},{})},$=/(^|:)(\w)/gi,G=e.memoize(function(t){return"on"+t.replace($,r)}),K=["description","fileName","lineNumber","name","message","number"],J=j.call(Error,{urlRoot:"http://marionettejs.com/docs/v3.5.1/",constructor:function(t,n){e.isObject(t)?(n=t,t=n.message):n||(n={});var r=Error.call(this,t);e.extend(this,e.pick(r,K),e.pick(n,K)),this.captureStackTrace(),n.url&&(this.url=this.urlRoot+n.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,J)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});J.extend=j;var X=function(t){this.options=e.extend({},e.result(this,"options"),t)},Z={normalizeMethods:W,_setOptions:X,mergeOptions:H,getOption:z,bindEvents:x,unbindEvents:C},Q={_initRadio:function(){var t=e.result(this,"channelName");if(t){if(!n)throw new J({name:"BackboneRadioMissing",message:'The dependency "backbone.radio" is missing.'});var r=this._channel=n.channel(t),i=e.result(this,"radioEvents");this.bindEvents(r,i);var s=e.result(this,"radioRequests");this.bindRequests(r,s),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel},bindEvents:x,unbindEvents:C,bindRequests:D,unbindRequests:E},tt=["channelName","radioEvents","radioRequests"],et=function(t){this.hasOwnProperty("options")||this._setOptions(t),this.mergeOptions(t,tt),this._setCid(),this._initRadio(),this.initialize.apply(this,arguments)};et.extend=j,e.extend(et.prototype,t.Events,Z,Q,{cidPrefix:"mno",_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},initialize:function(){},_setCid:function(){this.cid||(this.cid=e.uniqueId(this.cidPrefix))},destroy:function(){if(this._isDestroyed)return this;for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.triggerMethod.apply(this,["before:destroy",this].concat(e)),this._isDestroyed=!0,this.triggerMethod.apply(this,["destroy",this].concat(e)),this.stopListening(),this},triggerMethod:i});var nt=function(t){this.templateId=t};e.extend(nt,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new nt(t),this.templateCaches[t]=n),n.load(e)},clear:function(){for(var t=void 0,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.length;if(i>0)for(t=0;t<i;t++)delete this.templateCaches[n[t]];else this.templateCaches={}}}),e.extend(nt.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(e,n){var r=t.$(e);if(!r.length)throw new J({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return r.html()},compileTemplate:function(t,n){return e.template(t,n)}});var rt=e.invokeMap||e.invoke,it={_initBehaviors:function(){this._behaviors=this._getBehaviors()},_getBehaviors:function(){var t=e.result(this,"behaviors");return e.isObject(t)?S(this,t):{}},_getBehaviorTriggers:function(){var t=rt(this._behaviors,"getTriggers");return e.reduce(t,function(t,n){return e.extend(t,n)},{})},_getBehaviorEvents:function(){var t=rt(this._behaviors,"getEvents");return e.reduce(t,function(t,n){return e.extend(t,n)},{})},_proxyBehaviorViewProperties:function(){rt(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){rt(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){rt(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];rt.apply(void 0,[this._behaviors,"destroy"].concat(e))},_removeBehavior:function(t){this._isDestroyed||(this.undelegate(".trig"+t.cid+" ."+t.cid),this._behaviors=e.without(this._behaviors,t))},_bindBehaviorUIElements:function(){rt(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){rt(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(){for(var t=this._behaviors,e=0,n=t&&t.length;e<n;e++)i.apply(t[e],arguments)}},st={_delegateEntityEvents:function(t,n){var r=e.result(this,"modelEvents");r&&(C.call(this,t,r),x.call(this,t,r));var i=e.result(this,"collectionEvents");i&&(C.call(this,n,i),x.call(this,n,i))},_undelegateEntityEvents:function(t,n){var r=e.result(this,"modelEvents");C.call(this,t,r);var i=e.result(this,"collectionEvents");C.call(this,n,i)}},ot=/^(\S+)\s*(.*)$/,at=function(t,e){var n=t.match(ot);return n[1]+"."+e+" "+n[2]},lt={childViewEventPrefix:!0,triggersStopPropagation:!0,triggersPreventDefault:!0},ut={_getViewTriggers:function(t,n){var r=this;return e.reduce(n,function(e,n,i){return i=at(i,"trig"+r.cid),e[i]=L(t,n),e},{})}},ct=function(t,n){return e.reduce(t,function(t,e,r){return t[ht(r,n)]=e,t},{})},ht=function(t,e){return t.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(t){return e[t.slice(4)]})},dt=function t(n,r,i){return e.each(n,function(s,o){e.isString(s)?n[o]=ht(s,r):e.isObject(s)&&e.isArray(i)&&(e.extend(s,t(e.pick(s,i),r)),e.each(i,function(t){var n=s[t];e.isString(n)&&(s[t]=ht(n,r))}))}),n},ft={normalizeUIKeys:function(t){var e=this._getUIBindings();return ct(t,e)},normalizeUIString:function(t){var e=this._getUIBindings();return ht(t,e)},normalizeUIValues:function(t,e){var n=this._getUIBindings();return dt(t,n,e)},_getUIBindings:function(){var t=e.result(this,"_uiBindings"),n=e.result(this,"ui");return t||n},_bindUIElements:function(){var t=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var n=e.result(this,"_uiBindings");this._ui={},e.each(n,function(e,n){t._ui[n]=t.$(e)}),this.ui=this._ui}},_unbindUIElements:function(){var t=this;this.ui&&this._uiBindings&&(e.each(this.ui,function(e,n){delete t.ui[n]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(t){return this._ui[t]}},pt={createBuffer:function(){return document.createDocumentFragment()},getEl:function(t){return M(t)},findEl:function(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:M(t)).find(e)},hasEl:function(t,e){return t.contains(e&&e.parentNode)},detachEl:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:M(t)).detach()},replaceEl:function(t,e){if(t!==e){var n=e.parentNode;n&&n.replaceChild(t,e)}},swapEl:function(t,e){if(t!==e){var n=t.parentNode,r=e.parentNode;if(n&&r){var i=t.nextSibling,s=e.nextSibling;n.insertBefore(e,i),r.insertBefore(t,s)}}},setContents:function(t,e){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:M(t)).html(e)},appendContents:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n._$el,i=void 0===r?M(t):r,s=n._$contents,o=void 0===s?M(e):s;i.append(o)},hasContents:function(t){return!!t&&t.hasChildNodes()},detachContents:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:M(t)).contents().detach()}},gt={Dom:pt,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(n){this._proxyBehaviorViewProperties(),this._buildEventProxies();var r=this._getEvents(n);void 0===n&&(this.events=r);var i=e.extend({},this._getBehaviorEvents(),r,this._getBehaviorTriggers(),this.getTriggers());return t.View.prototype.delegateEvents.call(this,i),this},_getEvents:function(t){var n=t||this.events;return e.isFunction(n)?this.normalizeUIKeys(n.call(this)):this.normalizeUIKeys(n)},getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(e.result(this,"triggers"));return this._getViewTriggers(this,t)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},destroy:function(){if(this._isDestroyed)return this;for(var t=this._isAttached&&!this._shouldDisableEvents,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.triggerMethod.apply(this,["before:destroy",this].concat(n)),t&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),t&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._isDestroyed=!0,this._isRendered=!1,this._destroyBehaviors.apply(this,n),this.triggerMethod.apply(this,["destroy",this].concat(n)),this.stopListening(),this},_removeElement:function(){this.$el.off().removeData(),this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(t){return this._getUI(t)},childViewEventPrefix:function(){return!!I("childViewEventPrefix")&&"childview"},triggerMethod:function(){var t=i.apply(this,arguments);return this._triggerEventOnBehaviors.apply(this,arguments),t},_buildEventProxies:function(){this._childViewEvents=e.result(this,"childViewEvents"),this._childViewTriggers=e.result(this,"childViewTriggers")},_proxyChildViewEvents:function(t){this.listenTo(t,"all",this._childViewEventHandler)},_childViewEventHandler:function(t){for(var n=this.normalizeMethods(this._childViewEvents),r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];void 0!==n&&e.isFunction(n[t])&&n[t].apply(this,i);var o=this._childViewTriggers;o&&e.isString(o[t])&&this.triggerMethod.apply(this,[o[t]].concat(i));var a=e.result(this,"childViewEventPrefix");if(!1!==a){var l=a+":"+t;this.triggerMethod.apply(this,[l].concat(i))}}};e.extend(gt,it,Z,st,ut,ft);var mt=["allowMissingEl","parentEl","replaceElement"],vt=et.extend({Dom:pt,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,constructor:function(e){if(this._setOptions(e),this.mergeOptions(e,mt),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new J({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),et.call(this,e)},show:function(t,e){if(this._ensureElement(e))return(t=this._getView(t,e))===this.currentView?this:(this._isSwappingView=!!this.currentView,this.triggerMethod("before:show",this,t,e),t._isAttached||this.empty(e),this._setupChildView(t),this.currentView=t,N(t),this._attachView(t,e),this.triggerMethod("show",this,t,e),this._isSwappingView=!1,this)},_setupChildView:function(t){b(t),this._proxyChildViewEvents(t),t.on("destroy",this._empty,this)},_proxyChildViewEvents:function(t){var e=this._parentView;e&&e._proxyChildViewEvents(t)},_shouldDisableMonitoring:function(){return this._parentView&&!1===this._parentView.monitorViewEvents},_attachView:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!t._isAttached&&Y(this.el)&&!this._shouldDisableMonitoring(),i=void 0===n.replaceElement?!!e.result(this,"replaceElement"):!!n.replaceElement;r&&s(t,"before:attach",t),i?this._replaceEl(t):this.attachHtml(t),r&&(t._isAttached=!0,s(t,"attach",t))},_ensureElement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0],this.$el=this.Dom.getEl(this.el)),!this.$el||0===this.$el.length){if(void 0===t.allowMissingEl?!!e.result(this,"allowMissingEl"):!!t.allowMissingEl)return!1;throw new J('An "el" must exist in DOM for this region '+this.cid)}return!0},_getView:function(e){if(!e)throw new J({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(e._isDestroyed)throw new J({name:"ViewDestroyedError",message:'View (cid: "'+e.cid+'") has already been destroyed and cannot be used.'});if(e instanceof t.View)return e;var n=this._getViewOptions(e);return new xt(n)},_getViewOptions:function(t){return e.isFunction(t)?{template:t}:e.isObject(t)?t:{template:function(){return t}}},getEl:function(t){var n=e.result(this,"parentEl");return n&&e.isString(t)?this.Dom.findEl(n,t):this.Dom.getEl(t)},_replaceEl:function(t){this._restoreEl(),t.on("before:destroy",this._restoreEl,this),this.Dom.replaceEl(t.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var t=this.currentView;t&&(this._detachView(t),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(t){this.Dom.appendContents(this.el,t.el,{_$el:this.$el,_$contents:t.$el})},empty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},e=this.currentView;if(!e)return this._ensureElement(t)&&this.detachHtml(),this;var n=!t.preventDestroy;return n||F("The preventDestroy option is deprecated. Use Region#detachView"),this._empty(e,n),this},_empty:function(t,e){t.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,t),this._restoreEl(),delete this.currentView,t._isDestroyed||(e?this.removeView(t):this._detachView(t),this._stopChildViewEvents(t)),this.triggerMethod("empty",this,t)},_stopChildViewEvents:function(t){this._parentView&&this._parentView.stopListening(t)},destroyView:function(t){return t._isDestroyed?t:(t._shouldDisableEvents=this._shouldDisableMonitoring(),R(t),t)},removeView:function(t){this.destroyView(t)},detachView:function(){var t=this.currentView;if(t)return this._empty(t),t},_detachView:function(t){var e=t._isAttached&&!this._shouldDisableMonitoring(),n=this._isReplaced;e&&s(t,"before:detach",t),n?this.Dom.replaceEl(this.el,t.el):this.detachHtml(),e&&(t._isAttached=!1,s(t,"detach",t))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(t){return this.empty(t),this.$el&&(this.el=this._initEl),delete this.$el,this},destroy:function(t){return this._isDestroyed?this:(this.reset(t),this._name&&this._parentView._removeReferences(this._name),delete this._parentView,delete this._name,et.prototype.destroy.apply(this,arguments))}},{setDomApi:O}),yt=function(t,e){return t instanceof vt?t:q(t,e)},bt={regionClass:vt,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(e.result(this,"regions"))},_reInitRegions:function(){rt(this._regions,"reset")},addRegion:function(t,e){var n={};return n[t]=e,this.addRegions(n)[t]},addRegions:function(t){if(!e.isEmpty(t))return t=this.normalizeUIValues(t,["selector","el"]),this.regions=e.extend({},this.regions,t),this._addRegions(t)},_addRegions:function(t){var n=this,r={regionClass:this.regionClass,parentEl:e.partial(e.result,this,"el")};return e.reduce(t,function(t,e,i){return t[i]=yt(e,r),n._addRegion(t[i],i),t},{})},_addRegion:function(t,e){this.triggerMethod("before:add:region",this,e,t),t._parentView=this,t._name=e,this._regions[e]=t,this.triggerMethod("add:region",this,e,t)},removeRegion:function(t){var e=this._regions[t];return this._removeRegion(e,t),e},removeRegions:function(){var t=this._getRegions();return e.each(this._regions,e.bind(this._removeRegion,this)),t},_removeRegion:function(t,e){this.triggerMethod("before:remove:region",this,e,t),t.destroy(),this.triggerMethod("remove:region",this,e,t)},_removeReferences:function(t){delete this.regions[t],delete this._regions[t]},emptyRegions:function(){var t=this.getRegions();return rt(t,"empty"),t},hasRegion:function(t){return!!this.getRegion(t)},getRegion:function(t){return this._isRendered||this.render(),this._regions[t]},_getRegions:function(){return e.clone(this._regions)},getRegions:function(){return this._isRendered||this.render(),this._getRegions()},showChildView:function(t,e){for(var n=this.getRegion(t),r=arguments.length,i=Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return n.show.apply(n,[e].concat(i))},detachChildView:function(t){return this.getRegion(t).detachView()},getChildView:function(t){return this.getRegion(t).currentView}},_t={render:function(t,n){if(!t)throw new J({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});return(e.isFunction(t)?t:nt.get(t))(n)}},wt=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"],xt=t.View.extend({constructor:function(n){this.render=e.bind(this.render,this),this._setOptions(n),this.mergeOptions(n,wt),b(this),this._initBehaviors(),this._initRegions();var r=Array.prototype.slice.call(arguments);r[0]=this.options,t.View.prototype.constructor.apply(this,r),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},serializeData:function(){return this.model||this.collection?this.model?this.serializeModel():{items:this.serializeCollection()}:{}},serializeModel:function(){return this.model?e.clone(this.model.attributes):{}},serializeCollection:function(){return this.collection?this.collection.map(function(t){return e.clone(t.attributes)}):{}},setElement:function(){return t.View.prototype.setElement.apply(this,arguments),this._isRendered=this.Dom.hasContents(this.el),this._isAttached=Y(this.el),this._isRendered&&this.bindUIElements(),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this),this)},_renderTemplate:function(){var t=this.getTemplate();if(!1===t)return void F("template:false is deprecated.  Use _.noop.");var e=this.mixinTemplateContext(this.serializeData()),n=this._renderHtml(t,e);this.attachElContent(n)},_renderHtml:function(t,e){return _t.render(t,e,this)},getTemplate:function(){return this.template},mixinTemplateContext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.result(this,"templateContext");return e.extend(t,n)},attachElContent:function(t){return this.Dom.setContents(this.el,t,this.$el),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return e.chain(this._getRegions()).map("currentView").compact().value()}},{setRenderer:function(t){return this.prototype._renderHtml=t,this},setDomApi:O});e.extend(xt.prototype,gt,bt);var Ct=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce","partition"],At=function(t,n){e.each(Ct,function(r){t[r]=function(){var t=e.result(this,n),i=Array.prototype.slice.call(arguments);return e[r].apply(e,[t].concat(i))}})},Dt=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,e.bind(this.add,this))};At(Dt.prototype,"_getViews"),e.extend(Dt.prototype,{_getViews:function(){return e.values(this._views)},add:function(t,e){return this._add(t,e)._updateLength()},_add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){return this._remove(t)._updateLength()},_remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.some(this._indexByCustom,e.bind(function(t,e){if(t===n)return delete this._indexByCustom[e],!0},this)),delete this._views[n],this},_updateLength:function(){return this.length=e.size(this._views),this}});var Et=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","events","filter","emptyView","emptyViewOptions","modelEvents","reorderOnSort","sort","triggers","ui","viewComparator"],Tt=t.View.extend({sort:!0,constructor:function(n){this.render=e.bind(this.render,this),this._setOptions(n),this.mergeOptions(n,Et),b(this),this._initBehaviors(),this.once("render",this._initialEvents),this._initChildViewStorage(),this._bufferedChildren=[];var r=Array.prototype.slice.call(arguments);r[0]=this.options,t.View.prototype.constructor.apply(this,r),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_startBuffering:function(){this._isBuffering=!0},_endBuffering:function(){var t=this._isAttached&&!1!==this.monitorViewEvents,n=t?this._getImmediateChildren():[];this._isBuffering=!1,e.each(n,function(t){s(t,"before:attach",t)}),this.attachBuffer(this,this._createBuffer()),e.each(n,function(t){t._isAttached=!0,s(t,"attach",t)}),this._bufferedChildren=[]},_getImmediateChildren:function(){return e.values(this.children._views)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,n,r){var i=void 0!==r.at&&(r.index||n.indexOf(t));(this.filter||!1===i)&&(i=e.indexOf(this._filteredSortedModels(i),t)),this._shouldAddChild(t,i)&&(this._destroyEmptyView(),this._addChild(t,i))},_onCollectionUpdate:function(t,e){var n=e.changes;this._removeChildModels(n.removed)},_removeChildModels:function(t){var e=this._getRemovedViews(t);e.length&&(this.children._updateLength(),this._updateIndices(e,!1),this.isEmpty()&&this._showEmptyView())},_getRemovedViews:function(t){var n=this;return e.reduce(t,function(t,e){var r=e&&n.children.findByModel(e);return!r||r._isDestroyed?t:(n._removeChildView(r),t.push(r),t)},[])},_removeChildView:function(t){this.triggerMethod("before:remove:child",this,t),this.children._remove(t),t._shouldDisableEvents=!1===this.monitorViewEvents,R(t),this.stopListening(t),this.triggerMethod("remove:child",this,t)},setElement:function(){return t.View.prototype.setElement.apply(this,arguments),this._isAttached=Y(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._renderChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},setFilter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preventRender,r=this._isRendered&&!this._isDestroyed,i=this.filter!==t;if(r&&i&&!n){var s=this._filteredSortedModels();this.filter=t;var o=this._filteredSortedModels();this._applyModelDeltas(o,s)}else this.filter=t;return this},removeFilter:function(t){return this.setFilter(null,t)},_applyModelDeltas:function(t,n){var r=this,i={};e.each(t,function(t,e){!r.children.findByModel(t)&&r._onCollectionAdd(t,r.collection,{at:e}),i[t.cid]=!0});var s=e.filter(n,function(t){return!i[t.cid]&&r.children.findByModel(t)});this._removeChildModels(s)},reorder:function(){var t=this,n=this.children,r=this._filteredSortedModels();if(!r.length&&this._showingEmptyView)return this;if(e.some(r,function(t){return!n.findByModel(t)}))this.render();else{var i=[],s=e.reduce(this.children._views,function(t,n){var s=e.indexOf(r,n.model);return-1===s?(i.push(n.model),t):(n._index=s,t[s]=n.el,t)},new Array(r.length));this.triggerMethod("before:reorder",this);var o=this.Dom.createBuffer();e.each(s,function(e){t.Dom.appendContents(o,e)}),this._appendReorderedChildren(o),this._removeChildModels(i),this.triggerMethod("reorder",this)}return this},resortView:function(){return this.reorderOnSort?this.reorder():this._renderChildren(),this},_sortViews:function(){var t=this,n=this._filteredSortedModels();e.find(n,function(e,n){var r=t.children.findByModel(e);return!r||r._index!==n})&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.Dom.appendContents(this.el,t,{_$el:this.$el})},_renderChildren:function(){this._isRendered&&(this._destroyEmptyView(),this._destroyChildren());var t=this._filteredSortedModels();this.isEmpty({processedModels:t})?this._showEmptyView():(this.triggerMethod("before:render:children",this),this._startBuffering(),this._showCollection(t),this._endBuffering(),this.triggerMethod("render:children",this))},_createView:function(t,e){var n=this._getChildView(t),r=this._getChildViewOptions(t,e);return this.buildChildView(t,n,r)},_setupChildView:function(t,e){b(t),this._proxyChildViewEvents(t),this.sort&&(t._index=e)},_showCollection:function(t){e.each(t,e.bind(this._addChild,this)),this.children._updateLength()},_filteredSortedModels:function(t){if(!this.collection||!this.collection.length)return[];var e=this.getViewComparator(),n=this.collection.models;if(t=Math.min(Math.max(t,0),n.length-1),e){var r=void 0;t&&(r=n[t],n=n.slice(0,t).concat(n.slice(t+1))),n=this._sortModelsBy(n,e),r&&n.splice(t,0,r)}return n=this._filterModels(n)},getViewComparator:function(){return this.viewComparator},_filterModels:function(t){var n=this;return this.filter&&(t=e.filter(t,function(t,e){return n._shouldAddChild(t,e)})),t},_sortModelsBy:function(t,n){return"string"==typeof n?e.sortBy(t,function(t){return t.get(n)}):1===n.length?e.sortBy(t,e.bind(n,this)):e.clone(t).sort(e.bind(n,this))},_showEmptyView:function(){var n=this._getEmptyView();if(n&&!this._showingEmptyView){this._showingEmptyView=!0;var r=new t.Model,i=this.emptyViewOptions||this.childViewOptions;e.isFunction(i)&&(i=i.call(this,r,this._emptyViewIndex));var s=this.buildChildView(r,n,i);this.triggerMethod("before:render:empty",this,s),this.addChildView(s,0),this.triggerMethod("render:empty",this,s)}},_destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty",this),this._destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty",this))},_getEmptyView:function(){var t=this.emptyView;if(t)return this._getView(t)},_getChildView:function(t){var e=this.childView;if(!e)throw new J({name:"NoChildViewError",message:'A "childView" must be specified'});if(!(e=this._getView(e,t)))throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},_getView:function(n,r){return n.prototype instanceof t.View||n===t.View?n:e.isFunction(n)?n.call(this,r):void 0},_addChild:function(t,e){var n=this._createView(t,e);return this.addChildView(n,e),n},_getChildViewOptions:function(t,n){return e.isFunction(this.childViewOptions)?this.childViewOptions(t,n):this.childViewOptions},addChildView:function(t,e){return this.triggerMethod("before:add:child",this,t),this._setupChildView(t,e),this._isBuffering?this.children._add(t):(this._updateIndices(t,!0),this.children.add(t)),N(t),this._attachView(t,e),this.triggerMethod("add:child",this,t),t},_updateIndices:function(t,n){if(this.sort){if(!n)return void e.each(e.sortBy(this.children._views,"_index"),function(t,e){t._index=e});var r=e.isArray(t)?e.max(t,"_index"):t;e.isObject(r)&&e.each(this.children._views,function(t){t._index>=r._index&&(t._index+=1)})}},_attachView:function(t,e){var n=!t._isAttached&&!this._isBuffering&&this._isAttached&&!1!==this.monitorViewEvents;n&&s(t,"before:attach",t),this.attachHtml(this,t,e),n&&(t._isAttached=!0,s(t,"attach",t))},buildChildView:function(t,n,r){return new n(e.extend({model:t},r))},removeChildView:function(t){return!t||t._isDestroyed?t:(this._removeChildView(t),this.children._updateLength(),this._updateIndices(t,!1),t)},isEmpty:function(t){var n=void 0;return e.result(t,"processedModels")?n=t.processedModels:(n=this.collection?this.collection.models:[],n=this._filterModels(n)),0===n.length},attachBuffer:function(t,e){this.Dom.appendContents(t.el,e,{_$el:t.$el})},_createBuffer:function(){var t=this,n=this.Dom.createBuffer();return e.each(this._bufferedChildren,function(e){t.Dom.appendContents(n,e.el,{_$contents:e.$el})}),n},attachHtml:function(t,e,n){t._isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,n){var r=void 0;return this.sort&&n<this.children.length-1&&(r=e.find(this.children._views,function(t){return t._index===n+1})),!!r&&(this.beforeEl(r.el,t.el),!0)},beforeEl:function(t,e){this.$(t).before(e)},_insertAfter:function(t){this.Dom.appendContents(this.el,t.el,{_$el:this.$el,_$contents:t.$el})},_initChildViewStorage:function(){this.children=new Dt},_removeChildren:function(){this._destroyChildren()},_destroyChildren:function(t){this.children.length&&(this.triggerMethod("before:destroy:children",this),e.each(this.children._views,e.bind(this._removeChildView,this)),this.children._updateLength(),this.triggerMethod("destroy:children",this))},_shouldAddChild:function(t,n){var r=this.filter;return!e.isFunction(r)||r.call(this,t,n,this.collection)}},{setDomApi:O});e.extend(Tt.prototype,gt);var St=function(){this._init()};At(St.prototype,"_views"),e.extend(St.prototype,{_init:function(){this._views=[],this._viewsByCid={},this._indexByModel={},this._updateLength()},_add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._views.length,n=t.cid;this._viewsByCid[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),this._views.splice(e,0,t),this._updateLength()},_sort:function(t,n){return"string"==typeof t?(t=e.partial(B,t),this._sortBy(t)):1===t.length?this._sortBy(e.bind(t,n)):this._views.sort(e.bind(t,n))},_sortBy:function(t){var n=e.sortBy(this._views,t);return this._set(n),n},_set:function(t){this._views.length=0,this._views.push.apply(this._views,t.slice(0)),this._updateLength()},_swap:function(t,e){var n=this.findIndexByView(t),r=this.findIndexByView(e);if(-1!==n&&-1!==r){var i=this._views[n];this._views[n]=this._views[r],this._views[r]=i}},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByIndex:function(t){return this._views[t]},findIndexByView:function(t){return this._views.indexOf(t)},findByCid:function(t){return this._viewsByCid[t]},hasView:function(t){return!!this.findByCid(t.cid)},_remove:function(t){if(this._viewsByCid[t.cid]){t.model&&delete this._indexByModel[t.model.cid],delete this._viewsByCid[t.cid];var e=this.findIndexByView(t);this._views.splice(e,1),this._updateLength()}},_updateLength:function(){this.length=this._views.length}});var It=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","emptyView","emptyViewOptions","events","modelEvents","sortWithCollection","triggers","ui","viewComparator","viewFilter"],kt=t.View.extend({sortWithCollection:!0,constructor:function(e){this._setOptions(e),this.mergeOptions(e,It),b(this),this.once("render",this._initialEvents),this._initChildViewStorage(),this._initBehaviors();var n=Array.prototype.slice.call(arguments);n[0]=this.options,t.View.prototype.constructor.apply(this,n),this.getEmptyRegion(),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_initChildViewStorage:function(){this.children=new St},getEmptyRegion:function(){return this._emptyRegion&&!this._emptyRegion.isDestroyed()?this._emptyRegion:(this._emptyRegion=new vt({el:this.el,replaceElement:!1}),this._emptyRegion._parentView=this,this._emptyRegion)},_initialEvents:function(){this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(t,e){var n=e.add,r=e.merge,i=e.remove;this.sortWithCollection&&!1!==this.viewComparator&&(n||i||r||this.sort())},_onCollectionReset:function(){this.render()},_onCollectionUpdate:function(t,e){var n=e.changes,r=n.removed.length&&this._removeChildModels(n.removed);this._addedViews=n.added.length&&this._addChildModels(n.added),this._detachChildren(r),this._showChildren(),this._removeChildViews(r)},_removeChildModels:function(t){var n=this;return e.reduce(t,function(t,e){var r=n._removeChildModel(e);return r&&t.push(r),t},[])},_removeChildModel:function(t){var e=this.children.findByModel(t);return e&&this._removeChild(e),e},_removeChild:function(t){this.triggerMethod("before:remove:child",this,t),this.children._remove(t),this.triggerMethod("remove:child",this,t)},_addChildModels:function(t){return e.map(t,e.bind(this._addChildModel,this))},_addChildModel:function(t){var e=this._createChildView(t);return this._addChild(e),e},_createChildView:function(t){var e=this._getChildView(t),n=this._getChildViewOptions(t);return this.buildChildView(t,e,n)},_addChild:function(t,e){this.triggerMethod("before:add:child",this,t),this._setupChildView(t),this.children._add(t,e),this.triggerMethod("add:child",this,t)},_getChildView:function(t){var e=this.childView;if(!e)throw new J({name:"NoChildViewError",message:'A "childView" must be specified'});if(!(e=this._getView(e,t)))throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},_getView:function(n,r){return n.prototype instanceof t.View||n===t.View?n:e.isFunction(n)?n.call(this,r):void 0},_getChildViewOptions:function(t){return e.isFunction(this.childViewOptions)?this.childViewOptions(t):this.childViewOptions},buildChildView:function(t,n,r){return new n(e.extend({model:t},r))},_setupChildView:function(t){b(t),t.on("destroy",this.removeChildView,this),this._proxyChildViewEvents(t)},_getImmediateChildren:function(){return this.children._views},setElement:function(){return t.View.prototype.setElement.apply(this,arguments),this._isAttached=Y(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._destroyChildren(),this.children._init(),this.collection&&this._addChildModels(this.collection.models),this._showChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},sort:function(){return this._isDestroyed?this:this.children.length?(this._showChildren(),this):this},_showChildren:function(){if(this.isEmpty())return void this._showEmptyView();this._sortChildren(),this.filter()},isEmpty:function(t){return t||!this.children.length},_showEmptyView:function(){var t=this._getEmptyView();if(t){var e=this._getEmptyViewOptions();this.getEmptyRegion().show(new t(e))}},_getEmptyView:function(){var t=this.emptyView;if(t)return this._getView(t)},_destroyEmptyView:function(){var t=this.getEmptyRegion();t.hasView()&&t.empty()},_getEmptyViewOptions:function(){var t=this.emptyViewOptions||this.childViewOptions;return e.isFunction(t)?t.call(this):t},_sortChildren:function(){var t=this.getComparator();t&&(delete this._addedViews,this.triggerMethod("before:sort",this),this.children._sort(t,this),this.triggerMethod("sort",this))},setComparator:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preventRender,r=this.viewComparator!==t,i=r&&!n;return this.viewComparator=t,i&&this.sort(),this},removeComparator:function(t){return this.setComparator(null,t)},getComparator:function(){return this.viewComparator?this.viewComparator:!(!this.sortWithCollection||!1===this.viewComparator||!this.collection)&&this._viewComparator},_viewComparator:function(t){return this.collection.indexOf(t.model)},filter:function(){if(this._isDestroyed)return this;if(!this.children.length)return this;var t=this._filterChildren();return this._renderChildren(t),this},_filterChildren:function(){var t=this,n=this._getFilter(),r=this._addedViews;if(delete this._addedViews,!n)return r||this.children._views;this.triggerMethod("before:filter",this);var i=[],s=[];return e.each(this.children._views,function(e,r,o){(n.call(t,e,r,o)?i:s).push(e)}),this._detachChildren(s),this.triggerMethod("filter",this,i,s),i},_getFilter:function(){var t=this.getFilter();if(!t)return!1;if(e.isFunction(t))return t;if(e.isObject(t)){var n=e.matches(t);return function(t){return n(t.model&&t.model.attributes)}}if(e.isString(t))return function(e){return e.model&&e.model.get(t)};throw new J({name:"InvalidViewFilterError",message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy'})},getFilter:function(){return this.viewFilter},setFilter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.preventRender,r=this.viewFilter!==t,i=r&&!n;return this.viewFilter=t,i&&this.filter(),this},removeFilter:function(t){return this.setFilter(null,t)},_detachChildren:function(t){e.each(t,e.bind(this._detachChildView,this))},_detachChildView:function(t){var e=t._isAttached&&!1!==this.monitorViewEvents;e&&s(t,"before:detach",t),this.detachHtml(t),e&&(t._isAttached=!1,s(t,"detach",t))},detachHtml:function(t){this.Dom.detachEl(t.el,t.$el)},_renderChildren:function(t){if(this.isEmpty(!t.length))return void this._showEmptyView();this._destroyEmptyView(),this.triggerMethod("before:render:children",this,t);var e=this._getBuffer(t);this._attachChildren(e,t),this.triggerMethod("render:children",this,t)},_attachChildren:function(t,n){n=this._isAttached&&!1!==this.monitorViewEvents?n:[],e.each(n,function(t){t._isAttached||s(t,"before:attach",t)}),this.attachHtml(t),e.each(n,function(t){t._isAttached||(t._isAttached=!0,s(t,"attach",t))})},_getBuffer:function(t){var n=this,r=this.Dom.createBuffer();return e.each(t,function(t){N(t),n.Dom.appendContents(r,t.el,{_$contents:t.$el})}),r},attachHtml:function(t){this.Dom.appendContents(this.el,t,{_$el:this.$el})},swapChildViews:function(t,e){if(!this.children.hasView(t)||!this.children.hasView(e))throw new J({name:"ChildSwapError",message:"Both views must be children of the collection view"});return this.children._swap(t,e),this.Dom.swapEl(t.el,e.el),this.Dom.hasEl(this.el,t.el)!==this.Dom.hasEl(this.el,e.el)&&this.filter(),this},addChildView:function(t,e){return!t||t._isDestroyed?t:((!e||e>=this.children.length)&&(this._addedViews=[t]),this._addChild(t,e),this._showChildren(),t)},detachChildView:function(t){return this.removeChildView(t,{shouldDetach:!0}),t},removeChildView:function(t,e){return t?(this._removeChildView(t,e),this._removeChild(t),this.isEmpty()&&this._showEmptyView(),t):t},_removeChildViews:function(t){e.each(t,e.bind(this._removeChildView,this))},_removeChildView:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.shouldDetach;t.off("destroy",this.removeChildView,this),n?this._detachChildView(t):this._destroyChildView(t),this.stopListening(t)},_destroyChildView:function(t){t._isDestroyed||(t._shouldDisableEvents=!1===this.monitorViewEvents,R(t))},_removeChildren:function(){this._destroyChildren(),this.getEmptyRegion().destroy(),delete this._addedViews},_destroyChildren:function(){this.children&&this.children.length&&(this.triggerMethod("before:destroy:children",this),!1===this.monitorViewEvents&&this.Dom.detachContents(this.el,this.$el),e.each(this.children._views,e.bind(this._removeChildView,this)),this.triggerMethod("destroy:children",this))}},{setDomApi:O});e.extend(kt.prototype,gt);var Lt=["childViewContainer","template","templateContext"],Mt=Tt.extend({constructor:function(t){F("CompositeView is deprecated. Convert to View at your earliest convenience"),this.mergeOptions(t,Lt),Tt.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_getChildView:function(t){var e=this.childView;if(!e)return this.constructor;if(!(e=this._getView(e,t)))throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},serializeData:function(){return this.serializeModel()},render:function(){return this._isDestroyed?this:(this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.renderChildren(),this._isRendering=!1,this._isRendered=!0,this.triggerMethod("render",this),this)},renderChildren:function(){(this._isRendered||this._isRendering)&&Tt.prototype._renderChildren.call(this)},attachBuffer:function(t,e){var n=this.getChildViewContainer(t);this.Dom.appendContents(n[0],e,{_$el:n})},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);this.Dom.appendContents(e[0],t.el,{_$el:e,_$contents:t.$el})},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);this.Dom.appendContents(e[0],t,{_$el:e})},getChildViewContainer:function(t,n){if(t.$childViewContainer)return t.$childViewContainer;var r=void 0;if(t.childViewContainer){var i=e.result(t,"childViewContainer");if(r="@"===i.charAt(0)&&t.ui?t.ui[i.substr(4)]:this.$(i),r.length<=0)throw new J({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else r=t.$el;return t.$childViewContainer=r,r},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),Ot=e.pick(xt.prototype,"serializeModel","getTemplate","_renderTemplate","_renderHtml","mixinTemplateContext","attachElContent");e.extend(Mt.prototype,Ot);var Nt=["collectionEvents","events","modelEvents","triggers","ui"],Rt=et.extend({cidPrefix:"mnb",constructor:function(t,n){this.view=n,this.defaults&&F("Behavior defaults are deprecated. For similar functionality set options on the Behavior class."),this.defaults=e.clone(e.result(this,"defaults",{})),this._setOptions(e.extend({},this.defaults,t)),this.mergeOptions(this.options,Nt),this.ui=e.extend({},e.result(this,"ui"),e.result(n,"ui")),et.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this.view._removeBehavior(this),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(t){return this._getUI(t)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},getEvents:function(){var t=this,n=this.normalizeUIKeys(e.result(this,"events"));return e.reduce(n,function(n,r,i){return e.isFunction(r)||(r=t[r]),r?(i=at(i,t.cid),n[i]=e.bind(r,t),n):n},{})},getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(e.result(this,"triggers"));return this._getViewTriggers(this.view,t)}}});e.extend(Rt.prototype,st,ut,ft);var qt=["region","regionClass"],Pt=et.extend({cidPrefix:"mna",constructor:function(t){this._setOptions(t),this.mergeOptions(t,qt),this._initRegion(),et.prototype.constructor.apply(this,arguments)},regionClass:vt,_initRegion:function(){var t=this.region;if(t){var e={regionClass:this.regionClass};this._region=yt(t,e)}},getRegion:function(){return this._region},showView:function(t){for(var e=this.getRegion(),n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.show.apply(e,[t].concat(r))},getView:function(){return this.getRegion().currentView},start:function(t){return this.triggerMethod("before:start",this,t),this.triggerMethod("start",this,t),this}}),Bt=["appRoutes","controller"],Ut=t.Router.extend({constructor:function(e){this._setOptions(e),this.mergeOptions(e,Bt),t.Router.apply(this,arguments);var n=this.appRoutes,r=this._getController();this.processAppRoutes(r,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();return this._addAppRoute(n,t,e),this},_processOnRoute:function(t,n){if(e.isFunction(this.onRoute)){var r=e.invert(this.appRoutes)[t];this.onRoute(t,r,n)}},processAppRoutes:function(t,n){var r=this;if(!n)return this;var i=e.keys(n).reverse();return e.each(i,function(e){r._addAppRoute(t,e,n[e])}),this},_getController:function(){return this.controller},_addAppRoute:function(t,n,r){var i=t[r];if(!i)throw new J('Method "'+r+'" was not found on the controller');this.route(n,r,e.bind(i,t))},triggerMethod:i});e.extend(Ut.prototype,Z);var Vt=t.Marionette,jt=t.Marionette={};return jt.noConflict=function(){return t.Marionette=Vt,this},jt.bindEvents=V(x),jt.unbindEvents=V(C),jt.bindRequests=V(D),jt.unbindRequests=V(E),jt.mergeOptions=V(H),jt.getOption=V(z),jt.normalizeMethods=V(W),jt.extend=j,jt.isNodeAttached=Y,jt.deprecate=F,jt.triggerMethod=V(i),jt.triggerMethodOn=s,jt.isEnabled=I,jt.setEnabled=k,jt.monitorViewEvents=b,jt.Behaviors={},jt.Behaviors.behaviorsLookup=U,jt.Application=Pt,jt.AppRouter=Ut,jt.Renderer=_t,jt.TemplateCache=nt,jt.View=xt,jt.CollectionView=Tt,jt.NextCollectionView=kt,jt.CompositeView=Mt,jt.Behavior=Rt,jt.Region=vt,jt.Error=J,jt.Object=et,jt.DEV_MODE=!1,jt.FEATURES=lt,jt.VERSION="3.5.1",jt.DomApi=pt,jt.setDomApi=function(t){Tt.setDomApi(t),Mt.setDomApi(t),kt.setDomApi(t),vt.setDomApi(t),xt.setDomApi(t)},jt}),this&&this.Marionette&&(this.Mn=this.Marionette)},function(t,e,n){t.exports=n(104).default},function(t,e,n){var r;void 0!==(r=function(){"use strict";return window.OC||{}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){(function(r){var i,s;!function(o){var a="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r;i=[n(3),n(2),e],void 0!==(s=function(t,e,n){a.Backbone=o(a,n,t,e)}.apply(e,i))&&(t.exports=s)}(function(t,e,n,r){var i=t.Backbone,s=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],l(t,this),i)};case 4:return function(t,i,s){return n[e](this[r],l(t,this),i,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},a=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=o(e,i,r))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,d=function(t,e,r,i,s){var o,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in s&&void 0===s.context&&(s.context=i);for(o=n.keys(r);a<o.length;a++)e=d(t,e,o[a],r[o[a]],s)}else if(r&&h.test(r))for(o=r.split(h);a<o.length;a++)e=t(e,o[a],i,s);else e=t(e,r,i,s);return e};c.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,r,i){if(t._events=d(p,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){(t._listeners||(t._listeners={}))[i.id]=i}return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[i];if(!o){var a=this._listenId||(this._listenId=n.uniqueId("l"));o=s[i]={obj:t,objId:i,id:a,listeningTo:s,count:0}}return f(t,e,r,this,o),this};var p=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),s=r.context,o=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:s,ctx:s||o,listening:a})}return t};c.off=function(t,e,n){return this._events?(this._events=d(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var s=t?[t._listenId]:n.keys(i),o=0;o<s.length;o++){var a=i[s[o]];if(!a)break;a.obj.off(e,r,this)}return this};var g=function(t,e,r,i){if(t){var s,o=0,a=i.context,l=i.listeners;if(e||r||a){for(var u=e?[e]:n.keys(t);o<u.length;o++){e=u[o];var c=t[e];if(!c)break;for(var h=[],d=0;d<c.length;d++){var f=c[d];r&&r!==f.callback&&r!==f.callback._callback||a&&a!==f.context?h.push(f):(s=f.listening)&&0==--s.count&&(delete l[s.id],delete s.listeningTo[s.objId])}h.length?t[e]=h:delete t[e]}return t}for(var p=n.keys(l);o<p.length;o++)s=l[p[o]],delete l[s.id],delete s.listeningTo[s.objId]}};c.once=function(t,e,r){var i=d(m,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},c.listenToOnce=function(t,e,r){var i=d(m,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var m=function(t,e,r,i){if(r){var s=t[e]=n.once(function(){i(e,s),r.apply(this,arguments)});s._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return d(v,this._events,t,void 0,n),this};var v=function(t,e,n,r){if(t){var i=t[e],s=t.all;i&&s&&(s=s.slice()),i&&y(i,r),s&&y(s,[e].concat(r))}return t},y=function(t,e){var n,r=-1,i=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var s=r.unset,o=r.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in i)e=i[d],n.isEqual(u[d],e)||a.push(d),n.isEqual(h[d],e)?delete c[d]:c[d]=e,s?delete u[d]:u[d]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=r);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,u[a[f]],r)}if(l)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var s=t[i];n.isEqual(e[i],s)||(r[i]=s)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},U(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var s=r.wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,a=r.success,l=this.attributes;r.success=function(t){o.attributes=l;var e=r.parse?o.parse(t,r):t;if(s&&(e=n.extend({},i,e)),e&&!o.set(e,r))return!1;a&&a.call(r.context,o,t,r),o.trigger("sync",o,t,r)},U(this,r),i&&s&&(this.attributes=n.extend({},l,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var c=this.sync(u,this,r);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&s(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var o=!1;return this.isNew()?n.defer(t.success):(U(this,t),o=this.sync("delete",this,t)),i||s(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||B();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}}),a(b,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},C=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),s=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<s;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+s+n]=i[r]};n.extend(_.prototype,c,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,x))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var s,o,a=[],l=[],u=[],c=[],h={},d=e.add,f=e.merge,p=e.remove,g=!1,m=this.comparator&&null==i&&!1!==e.sort,v=n.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var y=this.get(s);if(y){if(f&&s!==y){var b=this._isModel(s)?s.attributes:s;e.parse&&(b=y.parse(b,e)),y.set(b,e),u.push(y),m&&!g&&(g=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[o]=y}else d&&(s=t[o]=this._prepareModel(s,e))&&(l.push(s),this._addReference(s,e),h[s.cid]=!0,a.push(s))}if(p){for(o=0;o<this.length;o++)s=this.models[o],h[s.cid]||c.push(s);c.length&&this._removeModels(c,e)}var _=!1,x=!m&&d&&p;if(a.length&&x?(_=this.length!==a.length||n.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,C(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),C(this.models,l,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(o=0;o<l.length;o++)null!=i&&(e.index=i+o),s=l[o],s.trigger("add",s,this,e);(g||_)&&this.trigger("sort",this,e),(l.length||c.length||u.length)&&(e.changes={added:l,removed:c,merged:u},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},U(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,n){r&&i.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var s=this.indexOf(i);this.models.splice(s,1),this.length--,delete this._byId[i.cid];var o=this.modelId(i.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}}),a(_,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var A=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,E)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];n.extend(A.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(D);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var s=T[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||B()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",i.emulateJSON&&(o.data._method=s);var a=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var l=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,l&&l.call(i.context,t,e,n)};var u=i.xhr=e.ajax(n.extend(o,i));return r.trigger("request",r,u,i),u};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,L=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(S.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return e.history.route(t,function(n){var o=s._extractParameters(t,n);!1!==s.execute(i,o,r)&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),e.history.trigger("route",s,r,o))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(I,"(?:$1)?").replace(k,function(t,e){return e?t:"([^/?]+)"}).replace(L,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var O=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,q=/#.*$/;O.started=!1,n.extend(O.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(N,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!O.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(q,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new O;var P=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};b.extend=_.extend=S.extend=A.extend=O.extend=P;var B=function(){throw new Error('A "url" property or function must be specified')},U=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})}).call(e,n(11))},function(t,e,n){var r,i,s;!function(o){i=[n(2)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function r(t){return h[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function s(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return f.test(t)?t.replace(d,r):t}function a(t){return!t&&0!==t||!(!m(t)||0!==t.length)}function l(t){var e=i({},t);return e._parent=t,e}function u(t,e){return t.path=e,t}function c(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=s,e.escapeExpression=o,e.isEmpty=a,e.createFrame=l,e.blockParams=u,e.appendContextPath=c;var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,f=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var g=function(t){return"function"==typeof t};g(/x/)&&(e.isFunction=g=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=g;var m=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};e.isArray=m},function(t,e,n){var r=n(5),i=n(32),s=String.prototype.trim;t.exports=function(t,e){return t=r(t),!e&&s?s.call(t):(e=i(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);u.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||o(s,this)}function s(t){t.end()}var o=n(25),a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var l=n(22);l.inherits=n(12);var u=n(75),c=n(38);l.inherits(r,u);for(var h=a(c.prototype),d=0;d<h.length;d++){var f=h[d];r.prototype[f]||(r.prototype[f]=c.prototype[f])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),o(e,t)}},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(){console.log("initializing cache");var t=c("#config-installed-version").val();if(h.isSet("mail-app-version")){h.get("mail-app-version")!==t&&(console.log("clearing cache because app version has changed"),h.removeAll())}else h.removeAll();h.set("mail-app-version",t)}function r(t){var e=t.map(function(t){return t.get("accountId")});u.each(h.get("messages"),function(t,n){u.any(e,function(t){return t===parseInt(n)})||h.remove("messages."+n)})}function i(t,e,n){var r=f.getMessagePath(t,e,n);if(h.isSet(r)){var i=h.get(r);return s(t,e,i),i}return null}function s(t,e,n){var r=f.getMessagePath(t,e,n.id);h.set(r,n)}function o(t,e,n){u.each(n,function(n){s(t,e,n)})}function a(t,e,n){i(t,e,n)&&h.remove(f.getMessagePath(t,e,n))}function l(t){var e=f.getAccountPath(t);h.isSet(e)&&h.remove(e),-1!==t.get("accountId")&&l(new d({accountId:-1}))}var u=n(3),c=n(2),h=n(233).localStorage,d=n(55),f={getAccountPath:function(t){return["messages",t.get("accountId").toString()].join(".")},getFolderPath:function(t,e){return[this.getAccountPath(t),e.get("id").toString()].join(".")},getMessagePath:function(t,e,n){return[this.getFolderPath(t,e),n.toString()].join(".")}};return{init:e,cleanUp:r,getMessage:i,addMessage:s,addMessages:o,removeMessage:a,removeAccount:l}}.call(e,n,e,t))&&(t.exports=r)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){g&&f&&(g=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!g){var t=i(o);g=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;)f&&f[m].run();m=-1,e=p.length}f=null,g=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var f,p=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||g||i(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){var r,i,s;/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){var e=0,n=Array.prototype.slice;return t.cleanData=function(e){return function(n){var r,i,s;for(s=0;null!=(i=n[s]);s++)try{r=t._data(i,"events"),r&&r.remove&&t(i).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,r){var i,s,o,a={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return r||(r=n,n=t.Widget),t.isArray(r)&&(r=t.extend.apply(null,[{}].concat(r))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},i=t[l][e],s=t[l][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,i,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),o=new n,o.options=t.widget.extend({},o.options),t.each(r,function(e,r){if(!t.isFunction(r))return void(a[e]=r);a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function i(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,s=this._superApply;return this._super=t,this._superApply=i,e=r.apply(this,arguments),this._super=n,this._superApply=s,e}}()}),s.prototype=t.widget.extend(o,{widgetEventPrefix:i?o.widgetEventPrefix||e:e},a,{constructor:s,namespace:l,widgetName:e,widgetFullName:u}),i?(t.each(i._childConstructors,function(e,n){var r=n.prototype;t.widget(r.namespace+"."+r.widgetName,s,n._proto)}),delete i._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var r,i,s=n.call(arguments,1),o=0,a=s.length;o<a;o++)for(r in s[o])i=s[o][r],s[o].hasOwnProperty(r)&&void 0!==i&&(t.isPlainObject(i)?e[r]=t.isPlainObject(e[r])?t.widget.extend({},e[r],i):t.widget.extend({},i):e[r]=i);return e},t.widget.bridge=function(e,r){var i=r.prototype.widgetFullName||e;t.fn[e]=function(s){var o="string"==typeof s,a=n.call(arguments,1),l=this;return o?this.length||"instance"!==s?this.each(function(){var n,r=t.data(this,i);return"instance"===s?(l=r,!1):r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(n=r[s].apply(r,a),n!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+s+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(a.length&&(s=t.widget.extend.apply(null,[s].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(s||{}),e._init&&e._init()):t.data(this,i,new r(s,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,r){r=t(r||this.defaultElement||this)[0],this.element=t(r),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},r!==this&&(t.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===r&&this.destroy()}}),this.document=t(r.style?r.ownerDocument:r.document||r),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var r,i,s,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},r=e.split("."),e=r.shift(),r.length){for(i=o[e]=t.widget.extend({},this.options[e]),s=0;s<r.length-1;s++)i[r[s]]=i[r[s]]||{},i=i[r[s]];if(e=r.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=n}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,r,i;for(n in e)i=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&i&&i.length&&(r=t(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,s){var o,a;for(a=0;a<n.length;a++)o=i.classesElementLookup[n[a]]||t(),o=t(e.add?t.unique(o.get().concat(e.element.get())):o.not(e.element).get()),i.classesElementLookup[n[a]]=o,r.push(n[a]),s&&e.classes[n[a]]&&r.push(e.classes[n[a]])}var r=[],i=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(r,i){-1!==t.inArray(e.target,i)&&(n.classesElementLookup[r]=t(i.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,r){r="boolean"==typeof r?r:n;var i="string"==typeof t||null===t,s={extra:i?e:n,keys:i?t:e,element:i?this.element:t,add:r};return s.element.toggleClass(this._classes(s),r),this},_on:function(e,n,r){var i,s=this;"boolean"!=typeof e&&(r=n,n=e,e=!1),r?(n=i=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),t.each(r,function(r,o){function a(){if(e||!0!==s.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?s[o]:o).apply(s,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+s.eventNamespace,c=l[2];c?i.on(u,c,a):n.on(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?r[t]:t).apply(r,arguments)}var r=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,r){var i,s,o=this.options[e];if(r=r||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(t.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,a=i?!0===i||"number"==typeof i?n:i.effect||n:e;i=i||{},"number"==typeof i&&(i={duration:i}),o=!t.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&t.effects&&t.effects.effect[a]?r[e](i):a!==e&&r[a]?r[a](i.duration,i.easing,s):r.queue(function(n){t(this)[e](),s&&s.call(r[0]),n()})}}),t.widget})},function(t,e,n){"use strict";function r(t,e){var n=e&&e.loc,s=void 0,o=void 0;n&&(s=n.start.line,o=n.start.column,t+=" - "+s+":"+o);for(var a=Error.prototype.constructor.call(this,t),l=0;l<i.length;l++)this[i[l]]=a[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{n&&(this.lineNumber=s,Object.defineProperty?Object.defineProperty(this,"column",{value:o,enumerable:!0}):this.column=o)}catch(t){}}e.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,e.default=r,t.exports=e.default},function(t,e,n){function r(e,n){return delete t.exports[e],t.exports[e]=n,n}var i=n(71),s=n(192);t.exports={Parser:i,Tokenizer:n(72),ElementType:n(21),DomHandler:s,get FeedHandler(){return r("FeedHandler",n(194))},get Stream(){return r("Stream",n(195))},get WritableStream(){return r("WritableStream",n(74))},get ProxyHandler(){return r("ProxyHandler",n(212))},get DomUtils(){return r("DomUtils",n(213))},get CollectingHandler(){return r("CollectingHandler",n(228))},DefaultHandler:s,get RssHandler(){return r("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var n=new s(e);return new i(n,e).end(t),n.dom},parseFeed:function(e,n){var r=new t.exports.FeedHandler(n);return new i(r,n).end(e),r.dom},createDomStream:function(t,e,n){var r=new s(t,e,n);return new i(r,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function s(t){return null==t}function o(t){return"number"==typeof t}function a(t){return"string"==typeof t}function l(t){return"symbol"==typeof t}function u(t){return void 0===t}function c(t){return"[object RegExp]"===m(t)}function h(t){return"object"==typeof t&&null!==t}function d(t){return"[object Date]"===m(t)}function f(t){return"[object Error]"===m(t)||t instanceof Error}function p(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function m(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=s,e.isNumber=o,e.isString=a,e.isSymbol=l,e.isUndefined=u,e.isRegExp=c,e.isObject=h,e.isDate=d,e.isError=f,e.isFunction=p,e.isPrimitive=g,e.isBuffer=t.isBuffer}).call(e,n(26).Buffer)},function(t,e,n){var r=n(5),i=n(35);t.exports=function(t,e,n,s){t=r(t),e=~~e;var o=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",s){case"right":return o=e-t.length,t+i(n,o);case"both":return o=e-t.length,i(n,Math.ceil(o/2))+t+i(n,Math.floor(o/2));default:return o=e-t.length,i(n,o)+t}}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(s(n))for(a=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,l=0;l<i;l++)u[l].apply(this,a);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,o,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";(function(e){function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return e.nextTick(function(){t.apply(null,s)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(e,n(17))},function(t,e,n){"use strict";(function(t){function r(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return o(this,t,e,n)}function o(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"==typeof e?c(t,e,n):f(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,n,r){return a(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function u(t,e){if(a(e),t=i(t,e<0?0:0|p(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n);t=i(t,r);var o=t.write(e,n);return o!==r&&(t=t.slice(0,o)),t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=h(t,e),t}function f(t,e){if(s.isBuffer(e)){var n=0|p(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?i(t,0):h(t,e);if("Buffer"===e.type&&Z(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function m(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){function s(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<a;u++)if(s(t,u)===s(e,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*o}else-1!==c&&(u-=u-c),c=-1}else for(n+l>a&&(n=a-l),u=n;u>=0;u--){for(var h=!0,d=0;d<l;d++)if(s(t,u+d)!==s(e,d)){h=!1;break}if(h)return u}return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function x(t,e,n,r){return G(H(e,t.length-n),t,n,r)}function C(t,e,n,r){return G(z(e),t,n,r)}function A(t,e,n,r){return C(t,e,n,r)}function D(t,e,n,r){return G($(e),t,n,r)}function E(t,e,n,r){return G(W(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=n){var l,u,c,h;switch(a){case 1:s<128&&(o=s);break;case 2:l=t[i+1],128==(192&l)&&(h=(31&s)<<6|63&l)>127&&(o=h);break;case 3:l=t[i+1],u=t[i+2],128==(192&l)&&128==(192&u)&&(h=(15&s)<<12|(63&l)<<6|63&u)>2047&&(h<55296||h>57343)&&(o=h);break;case 4:l=t[i+1],u=t[i+2],c=t[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(h=(15&s)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&h<1114112&&(o=h)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return I(r)}function I(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Q));return n}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function M(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=Y(t[s]);return i}function O(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function q(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||B(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,n,r,23,4),n+4}function V(t,e,n,r,i){return i||B(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,n,r,52,8),n+8}function j(t){if(t=F(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,s=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function W(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}function $(t){return J.toByteArray(j(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var J=n(198),X=n(199),Z=n(200);e.Buffer=s,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return o(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return l(null,t,e,n)},s.allocUnsafe=function(t){return u(null,t)},s.allocUnsafeSlow=function(t){return u(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,l=Math.min(o,a),u=this.slice(r,i),c=t.slice(e,n),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return D(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;s.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(s.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=s.prototype;else{var i=e-t;r=new s(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,i=1,s=this[t+--r];r>0&&(i*=256);)s+=this[t+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},s.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),X.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),X.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),X.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),X.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):q(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):q(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):q(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):q(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=s.isBuffer(t)?t:H(new s(t,r).toString()),l=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%l]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(11))},function(t,e,n){var r,i,s;/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},function(t,e,n){var r,i,s;!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(3),r=n(7);return function(t){return e.reduce(t,function(t,e,n){0!==n&&(t+=", ");var i=e.label.replace(/(^"|"$)/g,"").replace(/(^'|'$)/g,"");i=r.Utils.escapeExpression(i);var s=r.Utils.escapeExpression(e.email);return i===s?t+s:t+'"'+i+'" <'+s+">"},"")}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this._wrapped=t}function i(t,e){"function"==typeof e&&(r.prototype[t]=function(){var t=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=e.apply(null,t);return"string"==typeof n?new r(n):n})}r.VERSION="3.2.3",r.isBlank=n(58),r.stripTags=n(139),r.capitalize=n(31),r.decapitalize=n(59),r.chop=n(140),r.trim=n(14),r.clean=n(141),r.cleanDiacritics=n(61),r.count=n(142),r.chars=n(33),r.swapCase=n(143),r.escapeHTML=n(144),r.unescapeHTML=n(146),r.splice=n(62),r.insert=n(148),r.replaceAll=n(149),r.include=n(150),r.join=n(151),r.lines=n(152),r.dedent=n(153),r.reverse=n(154),r.startsWith=n(155),r.endsWith=n(156),r.pred=n(157),r.succ=n(158),r.titleize=n(159),r.camelize=n(65),r.underscored=n(66),r.dasherize=n(67),r.classify=n(160),r.humanize=n(161),r.ltrim=n(162),r.rtrim=n(34),r.truncate=n(163),r.prune=n(164),r.words=n(165),r.pad=n(23),r.lpad=n(166),r.rpad=n(167),r.lrpad=n(168),r.sprintf=n(68),r.vsprintf=n(169),r.toNumber=n(170),r.numberFormat=n(171),r.strRight=n(172),r.strRightBack=n(173),r.strLeft=n(174),r.strLeftBack=n(175),r.toSentence=n(69),r.toSentenceSerial=n(176),r.slugify=n(177),r.surround=n(70),r.quote=n(178),r.unquote=n(179),r.repeat=n(180),r.naturalCmp=n(181),r.levenshtein=n(182),r.toBoolean=n(183),r.exports=n(184),r.escapeRegExp=n(60),r.wrap=n(185),r.map=n(186),r.strip=r.trim,r.lstrip=r.ltrim,r.rstrip=r.rtrim,r.center=r.lrpad,r.rjust=r.lpad,r.ljust=r.rpad,r.contains=r.include,r.q=r.quote,r.toBool=r.toBoolean,r.camelcase=r.camelize,r.mapChars=r.map,r.prototype={value:function(){return this._wrapped}};for(var s in r)i(s,r[s]);i("tap",function(t,e){return e(t)});var o=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var a in o)!function(t){i(t,function(e){var n=Array.prototype.slice.call(arguments,1);return String.prototype[t].apply(e,n)})}(o[a]);t.exports=r},function(t,e,n){var r=n(5);t.exports=function(t,e){t=r(t);var n=e?t.slice(1).toLowerCase():t.slice(1);return t.charAt(0).toUpperCase()+n}},function(t,e,n){var r=n(60);t.exports=function(t){return null==t?"\\s":t.source?t.source:"["+r(t)+"]"}},function(t,e,n){var r=n(5);t.exports=function(t){return r(t).split("")}},function(t,e,n){var r=n(5),i=n(32),s=String.prototype.trimRight;t.exports=function(t,e){return t=r(t),!e&&s?s.call(t):(e=i(e),t.replace(new RegExp(e+"+$"),""))}},function(t,e){t.exports=function(t,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n}},function(t,e,n){e=t.exports=n(75),e.Stream=e,e.Readable=e,e.Writable=n(38),e.Duplex=n(15),e.Transform=n(78),e.PassThrough=n(206)},function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return o(t,e,n)}var s=n(26),o=s.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=s:(r(s,e),e.Buffer=i),r(o,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e,r,i){function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){T(e,t)}}function o(t){return N.from(t)}function a(t){return N.isBuffer(t)||t instanceof R}function l(){}function u(t,e){I=I||n(15),t=t||{},this.objectMode=!!t.objectMode,e instanceof I&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){y(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function c(t){if(I=I||n(15),!(P.call(c,this)||this instanceof I))return new c(t);this._writableState=new u(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),O.call(this)}function h(t,e){var n=new Error("write after end");t.emit("error",n),S(e,n)}function d(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),S(r,s),i=!1),i}function f(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=N.from(e,n)),e}function p(t,e,n,r,i,s){if(!n){var o=f(e,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=e.objectMode?1:r.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else g(t,e,!1,a,r,i,s);return l}function g(t,e,n,r,i,s,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function m(t,e,n,r,i){--e.pendingcb,n?(S(i,r),S(D,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),D(t,e))}function v(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function y(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(v(n),e)m(t,n,r,e,i);else{var s=x(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?k(b,t,n,s,i):b(t,n,s,i)}}function b(t,e,n,r){n||_(t,e),e.pendingcb--,r(),D(t,e)}function _(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,g(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e)}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback;if(g(t,e,!1,e.objectMode?1:u.length,u,c,h),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function C(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),D(t,e)})}function A(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,S(C,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function D(t,e){var n=x(e);return n&&(A(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function E(t,e,n){e.ending=!0,D(t,e),n&&(e.finished?S(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function T(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var S=n(25);t.exports=c;var I,k=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:S;c.WritableState=u;var L=n(22);L.inherits=n(12);var M={deprecate:n(205)},O=n(76),N=n(37).Buffer,R=i.Uint8Array||function(){},q=n(77);L.inherits(c,O),u.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(u.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var P;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(t){return!!P.call(this,t)||t&&t._writableState instanceof u}})):P=function(t){return t instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(t,e,n){var r=this._writableState,i=!1,s=a(t)&&!r.objectMode;return s&&!N.isBuffer(t)&&(t=o(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=l),r.ended?h(this,n):(s||d(this,r,t,n))&&(r.pendingcb++,i=p(this,r,s,t,e,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},c.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},c.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||E(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),c.prototype.destroy=q.destroy,c.prototype._undestroy=q.undestroy,c.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n(17),n(203).setImmediate,n(11))},function(t,e,n){function r(t){if(t&&!l(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function s(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function o(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=n(26).Buffer,l=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&r<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,i)}return e},u.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},u.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},function(e,n,r){var i;void 0!==(i=function(e){"use strict";function n(t,e,n,i){i=i||{};var s={force:!1};if(c.defaults(i,s),(!r(1).currentMessage||r(1).currentMessage.get("id")!==n.get("id"))&&(d.ui.trigger("composer:leave"),i.force,1)){var o="drafts"===r(1).currentFolder.get("specialRole");if(null!==r(1).currentMessage){var a=r(1).currentMessage;if(d.ui.trigger("messagesview:message:setactive",null),a.get("id")===n.get("id"))return}d.ui.trigger("message:loading"),d.ui.trigger("messagesview:message:setactive",n),r(1).currentMessageBody="",u("#mail_new_message").prop("disabled",!1),d.message.request("entity",t,e,n.get("id")).then(function(i){o?d.ui.trigger("composer:show",i,!0):(r(16).addMessage(t,e,i),d.ui.trigger("message:show",n,i))},function(){d.ui.trigger("message:error",f.getRandomMessageErrorMessage())})}}function i(){var e="\n\n\n\n-------- "+t("mail","Forwarded message")+" --------\n",n={subject:"Fwd: "+r(1).currentMessageSubject,body:e+r(1).currentMessageBody.replace(/<br \/>/g,"\n")};-1!==r(1).currentAccount.get("accountId")&&(n.accountId=r(1).currentAccount.get("accountId")),d.ui.trigger("composer:show",n)}function s(e,n,r){var i=c.isUndefined(n);return new Promise(function(s,o){h.dialogs.filepicker(t("mail","Choose a folder to store the attachment in"),function(a){"function"==typeof r&&r(),d.message.request("save:cloud",e,n,a).then(function(){i?d.ui.trigger("error:show",t("mail","Attachments saved to Files.")):d.ui.trigger("error:show",t("mail","Attachment saved to Files.")),s()},function(){i?d.ui.trigger("error:show",t("mail","Error while saving attachments to Files.")):d.ui.trigger("error:show",t("mail","Error while saving attachment to Files.")),o()})},!1,"httpd/unix-directory",!0)})}function o(e,n,r){var i=e.folder,s=i.account,o=i.get("unseen");if(e.get("flags").get(n)!==r){if(e.get("flags").set(n,r),"unseen"===n){var a=Math.max(0,o+(r?1:-1));i.set("unseen",a)}d.ui.trigger("title:update"),d.message.request("flag",s,i,e,n,r).catch(function(){d.ui.trigger("error:show",t("mail","Message flag could not be set.")),e.get("flags").set(n,!r),i.set("unseen",o),d.ui.trigger("title:update")})}}function a(e,n,r,i,s){e.get("accountId")===i.get("accountId")&&n.get("id")===s.get("id")||(n.messages.remove(r),s.addMessage(r),d.message.request("move",e,n,r,i,s).then(function(){},function(){d.ui.trigger("error:show",t("mail","Could not move message.")),n.addMessage(r)}))}function l(t,e){return s(t,null,e)}var u=r(2),c=r(3),h=r(8),d=r(4),f=r(82);return d.message.on("load",n),d.message.on("forward",i),d.message.on("flag",o),d.message.on("move",a),{saveAttachmentToFiles:s,saveAttachmentsToFiles:l}}.call(n,r,n,e))&&(e.exports=i)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(3),i=r(7);return function(e){var s=r(1).currentAccount,o=n.reduce(e,function(e,r,o){0!==o&&(e+=", ");var a=r.label.replace(/(^"|"$)/g,"").replace(/(^'|'$)/g,"");a=i.Utils.escapeExpression(a);var l=i.Utils.escapeExpression(r.email);return s&&(l===s.get("emailAddress")||n.find(s.get("aliases").toJSON(),function(t){return t.alias===l}))&&(a=t("mail","you")),e+='<span class="tooltip-mailto" title="'+t("mail","Send message to {email}",{email:l})+'">',e+='<a class="link-mailto" data-email="'+l+'" data-label="'+a+'">',e+=a+"</a></span>"},"");return new i.SafeString(o)}}.call(n,r,n,e))&&(e.exports=i)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(6),i=r(257);return n.View.extend({id:"emptycontent",className:"container",template:i,_text:void 0,_icon:void 0,_canRetry:void 0,events:{"click .retry":"_onRetry"},templateContext:function(){return{text:this._text,icon:this._icon,canRetry:this._canRetry}},initialize:function(e){this._text=e.text||t("mail","An unknown error occurred"),this._icon=e.icon||"icon-mail",this._canRetry=e.canRetry||!1},_onRetry:function(){this.triggerMethod("retry")}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(258);return e.View.extend({template:r,templateContext:function(){return{hint:this.hint}},className:"container",hint:"",initialize:function(t){this.hint=t.text||""}})}.call(e,n,e,t))&&(t.exports=r)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";function n(e){return f.folder.request("entities",e).catch(function(){f.ui.trigger("error:show",t("mail","Error while loading the selected account."))})}function i(e,n,i,s){return s=!1!==s,f.ui.trigger("composer:leave"),f.folder.trigger("setactive",e,n),n.get("noSelect")?(f.ui.trigger("content:error",t("mail","Can not load this folder.")),r(1).currentAccount=e,r(1).currentFolder=n,f.ui.trigger("messagesview:message:setactive",null),r(1).currentlyLoading=null,Promise.resolve()):f.message.request("entities",e,n,{cache:!0,filter:i,replace:!0}).then(function(t){if(f.ui.trigger("foldercontent:show",e,n,{searchQuery:i}),r(1).currentlyLoading=null,r(1).currentAccount=e,r(1).currentFolder=n,f.ui.trigger("messagesview:message:setactive",null),h("#mail_new_message").prop("disabled",!1),t.length>0&&(f.message.trigger("fetch:bodies",e,n,t.slice(0,10)),s)){var o=t.first();f.message.trigger("load",o.folder.account,o.folder,o)}},function(t){console.error("error while loading messages: ",t);var i;n.get("specialRole")&&(i="icon-"+n.get("specialRole")),f.ui.trigger("content:error",p.getRandomFolderErrorMessage(n),i);var s=r(1).currentFolder;f.folder.trigger("setactive",e,s)}).catch(console.error.bind(this))}function s(t,e,n){return n=!1!==n,f.ui.trigger("search:set",""),f.ui.trigger("content:loading",e.get("name")),new Promise(function(s,o){d.defer(function(){var a=i(t,e,void 0,n);f.folder.trigger("setactive",t,e),r(1).currentAccount=t,r(1).currentFolder=e,a.then(s).catch(o)})})}function o(e,n,r){f.ui.trigger("search:set",r),f.ui.trigger("composer:leave"),f.ui.trigger("content:loading",t("mail","Searching for {query}",{query:r})),d.defer(function(){g(e,n,r)})}function a(t,e,n){if(n.length>0){var i=d.map(n,function(t){return t.get("id")});f.message.request("bodies",t,e,i).then(function(n){r(16).addMessages(t,e,n)},console.error.bind(this))}}function l(t,e){if(-1===e.account.get("accountId"))return[t,e];var n=r(1).accounts.get(-1),i=n?n.folders.first():null;return"inbox"===e.get("specialRole")&&i?[t,i]:[t,null]}function u(t,e){t.forEach(function(t){if(t)return e(t)})}function c(e,n){var i=l(e.folder,n);u(i,function(t){t.set("total",Math.max(0,t.get("total")))});var s=n.messages,o=s.indexOf(e);0===o?o=1:o-=1;var a=s.at(o);return u(i,function(t){t.messages.remove(e)}),r(1).currentMessage&&r(1).currentMessage.get("id")===e.id&&a&&f.message.trigger("load",a.folder.account,a.folder,a),f.message.request("delete",e).catch(function(n){console.error(n),f.ui.trigger("error:show",t("mail","Error while deleting message.")),u(i,function(t){t.set("total",t.previousAttributes.total),t.addMessage(e)})})}var h=r(2),d=r(3),f=r(4),p=r(82);f.message.on("fetch:bodies",a),f.folder.reply("message:delete",c);var g=d.debounce(i,1e3);return{loadAccountFolders:n,showFolder:s,searchFolder:o}}.call(n,r,n,e))&&(e.exports=i)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";r(91).polyfill();var n=r(2),i=r(9),s=r(6),o=r(8),a=r(93),l=r(16),u=r(4),c=r(282),h=r(88),d=r(283);r(44),r(40),r(284),r(285),r(286),r(287),r(288),r(292),r(293),r(294),r(295),r(296);var f=s.Application.extend({_useExternalAvatars:!1,getUseExternalAvatars:function(){return this._useExternalAvatars},registerProtocolHandler:function(){if(window.navigator.registerProtocolHandler){var t=window.location.protocol+"//"+window.location.host+o.generateUrl("apps/mail/compose?uri=%s");try{window.navigator.registerProtocolHandler("mailto",t,o.theme.name+" Mail")}catch(t){}}},requestNotificationPermissions:function(){u.ui.trigger("notification:request")},setUpSearch:function(){SearchProxy.setFilter(r(297).filter)},startBackgroundSync:function(t){u.sync.trigger("start",t)}});return f=new f,f.on("start",function(){this._useExternalAvatars="true"===n("#external-avatars").val(),this.view=new a,l.init(),u.ui.trigger("content:loading",t("mail","Loading accounts")),this.registerProtocolHandler(),this.requestNotificationPermissions(),this.setUpSearch();var e=this;h.loadAccounts().then(function(t){e.router=new c({controller:new d(t)}),i.history.start(),e.startBackgroundSync(t)}),setInterval(function(){return function(){var t=n(".message-body");if(t.val()){var e=t.val(),r=t.val();r!==e&&(t.trigger("autosize.resize"),e=r)}}}(),1e3)}),f}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){!function(e,r){t.exports=r(n(3),n(9))}(0,function(t,e){"use strict";function n(t,e,n,r){var i=t[e];if(!(n&&n!==i.callback&&n!==i.callback._callback||r&&r!==i.context))return delete t[e],!0}function r(e,r,i,s){e||(e={});for(var o=r?[r]:t.keys(e),a=!1,l=0,u=o.length;l<u;l++)r=o[l],e[r]&&n(e,r,i,s)&&(a=!0);return a}function i(e){return c[e]||(c[e]=t.bind(l.log,l,e))}function s(e){return t.isFunction(e)?e:function(){return e}}t="default"in t?t.default:t,e="default"in e?e.default:e;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=e.Radio,l=e.Radio={};l.VERSION="2.0.0",l.noConflict=function(){return e.Radio=a,this},l.DEBUG=!1,l._debugText=function(t,e,n){return t+(n?" on the "+n+" channel":"")+': "'+e+'"'},l.debugLog=function(t,e,n){l.DEBUG&&console&&console.warn&&console.warn(l._debugText(t,e,n))};var u=/\s+/;l._eventsApi=function(e,n,r,i){if(!r)return!1;var s={};if("object"===(void 0===r?"undefined":o(r))){for(var a in r){var l=e[n].apply(e,[a,r[a]].concat(i));u.test(a)?t.extend(s,l):s[a]=l}return s}if(u.test(r)){for(var c=r.split(u),h=0,d=c.length;h<d;h++)s[c[h]]=e[n].apply(e,[c[h]].concat(i));return s}return!1},l._callHandler=function(t,e,n){var r=n[0],i=n[1],s=n[2];switch(n.length){case 0:return t.call(e);case 1:return t.call(e,r);case 2:return t.call(e,r,i);case 3:return t.call(e,r,i,s);default:return t.apply(e,n)}};var c={};t.extend(l,{log:function(e,n){if("undefined"!=typeof console){var r=t.toArray(arguments).slice(2);console.log("["+e+'] "'+n+'"',r)}},tuneIn:function(t){var e=l.channel(t);return e._tunedIn=!0,e.on("all",i(t)),this},tuneOut:function(t){var e=l.channel(t);return e._tunedIn=!1,e.off("all",i(t)),delete c[t],this}}),l.Requests={request:function(e){var n=t.toArray(arguments).slice(1),r=l._eventsApi(this,"request",e,n);if(r)return r;var i=this.channelName,s=this._requests;if(i&&this._tunedIn&&l.log.apply(this,[i,e].concat(n)),s&&(s[e]||s.default)){var o=s[e]||s.default;return n=s[e]?n:arguments,l._callHandler(o.callback,o.context,n)}l.debugLog("An unhandled request was fired",e,i)},reply:function(t,e,n){return l._eventsApi(this,"reply",t,[e,n])?this:(this._requests||(this._requests={}),this._requests[t]&&l.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:s(e),context:n||this},this)},replyOnce:function(e,n,r){if(l._eventsApi(this,"replyOnce",e,[n,r]))return this;var i=this,o=t.once(function(){return i.stopReplying(e),s(n).apply(this,arguments)});return this.reply(e,o,r)},stopReplying:function(t,e,n){return l._eventsApi(this,"stopReplying",t)?this:(t||e||n?r(this._requests,t,e,n)||l.debugLog("Attempted to remove the unregistered request",t,this.channelName):delete this._requests,this)}},l._channels={},l.channel=function(t){if(!t)throw new Error("You must provide a name for the channel.");return l._channels[t]?l._channels[t]:l._channels[t]=new l.Channel(t)},l.Channel=function(t){this.channelName=t},t.extend(l.Channel.prototype,e.Events,l.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var h,d,f=[e.Events,l.Requests];return t.each(f,function(e){t.each(e,function(e,n){l[n]=function(e){return d=t.toArray(arguments).slice(1),h=this.channel(e),h[n].apply(h,d)}})}),l.reset=function(e){var n=e?[this._channels[e]]:this._channels;t.each(n,function(t){t.reset()})},l})},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(6),i=r(2);r(96),r(49);var s=r(3),o=r(99),a=r(8),l=r(4),u=r(50),c=r(100),h=r(121),d=r(53),f=r(54);return n.View.extend({template:h,templateContext:function(){var e=null;return this.accounts&&(e=this.buildAliases(),e=s.filter(e,function(t){return-1!==t.accountId})),{aliases:e,isReply:this.isReply(),to:this.data.to,cc:this.data.cc,bcc:this.data.bcc,subject:this.data.subject,message:this.data.body,submitButtonTitle:this.isReply()?t("mail","Reply"):t("mail","Send")}},type:"new",data:null,attachments:null,accounts:null,aliases:null,account:null,folder:null,repliedMessage:null,draftInterval:1500,draftTimer:null,draftUID:null,hasData:!1,autosized:!1,regions:{attachmentsRegion:".new-message-attachments"},events:{"click .submit-message":"submitMessage","click .submit-message-wrapper-inside":"submitMessageWrapperInside","keypress .message-body":"handleKeyPress","input  .to":"onInputChanged","paste  .to":"onInputChanged","keyup  .to":"onInputChanged","input  .cc":"onInputChanged","paste  .cc":"onInputChanged","keyup  .cc":"onInputChanged","input  .bcc":"onInputChanged","paste  .bcc":"onInputChanged","keyup  .bcc":"onInputChanged","input  .subject":"onInputChanged","paste  .subject":"onInputChanged","keyup  .subject":"onInputChanged","input  .message-body":"onInputChanged","paste  .message-body":"onInputChanged","keyup  .message-body":"onInputChanged","focus  .recipient-autocomplete":"onAutoComplete","click .composer-cc-bcc-toggle":"ccBccToggle"},initialize:function(t){var e={type:"new",account:null,repliedMessage:null,data:{}};s.defaults(t,e),s.defaults(t.data,{to:[],cc:[],bcc:[],subject:"",body:""}),this.type=t.type,t.el&&(this.el=t.el),this.attachments=new u,this.bindAttachments(),this.data=t.data,this.accounts=t.accounts,this.isReply()?(this.account=t.account,this.folder=t.folder,this.repliedMessage=t.repliedMessage):(this.account=t.account||this.accounts.at(0),this.draftUID=t.data.id)},onRender:function(){if(this.showChildView("attachmentsRegion",new c({collection:this.attachments})),f(".tooltip-mailto",{placement:"bottom"}),this.isReply()){var t=this;this.$(".message-body").click(function(){t.setAutoSize(!0)})}else this.setAutoSize(!0);this.defaultMailSelect()},setAutoSize:function(t){!0===t?(this.autosized||(o(this.$("textarea"),{append:"\n\n"}),this.autosized=!0),this.$(".message-body").trigger("autosize.resize")):(this.$(".message-body").trigger("autosize.destroy"),this.$(".message-body").css("height",""),this.autosized=!1)},bindAttachments:function(){this.attachments.bind("all",this.onInputChanged.bind(this))},isReply:function(){return"reply"===this.type},onInputChanged:function(){var t=this.$(".to").val(),e=this.$(".subject").val(),n=this.$(".message-body").val(),r=this.checkAllAttachmentsValid();""===t&&""===e&&""===n||!r?this.$(".submit-message").attr("disabled",!0):this.$(".submit-message").removeAttr("disabled"),this.hasData=!0,clearTimeout(this.draftTimer);var i=this;this.draftTimer=setTimeout(function(){i.saveDraft()},this.draftInterval)},handleKeyPress:function(t){t=t||window.event;var e=t.which;if((13===e||10===e)&&t.ctrlKey){void 0===this.$(".submit-message").attr("disabled")&&this.submitMessage()}return!0},ccBccToggle:function(t){t.preventDefault(),this.$(".composer-cc-bcc").slideToggle(),this.$(".composer-cc-bcc .cc").focus(),this.$(".composer-cc-bcc-toggle").fadeOut()},getMessage:function(){var t={},e=this.$(".message-body"),n=this.$(".to"),r=this.$(".cc"),i=this.$(".bcc"),s=this.$(".subject");return t.body=e.val(),t.to=n.val(),t.cc=r.val(),t.bcc=i.val(),t.subject=s.val(),t.attachments=this.attachments.toJSON(),t},submitMessageWrapperInside:function(){this._isVisible()?this.$(".submit-message").click():(i("#mail-message").animate({scrollTop:this.$el.offset().top},1e3),this.$(".submit-message-wrapper-inside").hide(),this._setCaretToPos(this.$(".message-body")[0],0))},_setSelectionRange:function(t,e,n){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,n);else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r.select()}},_setCaretToPos:function(t,e){this._setSelectionRange(t,e,e)},_isVisible:function(){var t=this.$el,e=i(window),n=e.scrollTop(),r=n+e.height();return t.offset().top<=r},submitMessage:function(){clearTimeout(this.draftTimer);var e=this.$(".message-body"),n=this.$(".submit-message");e.addClass("icon-loading");var r=this.$(".to"),i=this.$(".cc"),o=this.$(".bcc"),u=this.$(".subject");this.$(".mail-account").prop("disabled",!0),r.prop("disabled",!0),i.prop("disabled",!0),o.prop("disabled",!0),u.prop("disabled",!0),this.$(".new-message-attachments-action").css("display","none"),this.$("#add-cloud-attachment").prop("disabled",!0),this.$("#add-local-attachment").prop("disabled",!0),e.prop("disabled",!0),n.prop("disabled",!0),n.val(t("mail","Sending "));var c=null;this.$(".mail-account").length>0&&(c=this.findAliasById(this.$(".mail-account").find(":selected").val()),this.account=this.accounts.get(c.accountId));var h=this,d={draftUID:this.draftUID,aliasId:c.aliasId};return this.isReply()&&(d.repliedMessage=this.repliedMessage,d.folder=this.folder),l.message.request("send",this.account,this.getMessage(),d).then(function(){a.Notification.showTemporary(t("mail","Message sent!")),d.repliedMessage&&l.message.trigger("flag",d.repliedMessage,"answered",!0),h.$("#mail_new_message").prop("disabled",!1),r.val(""),i.val(""),o.val(""),u.val(""),e.val(""),e.trigger("autosize.resize"),h.attachments.reset(),null!==h.draftUID&&(s.isUndefined(l.ui.request("messagesview:collection"))||l.ui.request("messagesview:collection").remove({id:h.draftUID}),h.draftUID=null)},function(e){var r="";if(500===e.status)r=t("mail","Server error");else{r=JSON.parse(e.responseText).message}n.prop("disabled",!1),a.Notification.showTemporary(r)}).then(function(){e.removeClass("icon-loading"),h.$(".mail-account").prop("disabled",!1),r.prop("disabled",!1),i.prop("disabled",!1),o.prop("disabled",!1),u.prop("disabled",!1),h.$(".new-message-attachments-action").css("display","inline-block"),h.$("#add-cloud-attachment").prop("disabled",!1),h.$("#add-local-attachment").prop("disabled",!1),e.prop("disabled",!1),n.prop("disabled",!1),n.val(t("mail","Send"))}),!1},saveDraft:function(t){if(clearTimeout(this.draftTimer),this.$(".mail-account").length>0){var e=this.findAliasById(this.$(".mail-account").find(":selected").val());this.account=this.accounts.get(e.accountId)}var n=this;return l.message.request("draft",this.account,this.getMessage(),{folder:n.folder,repliedMessage:n.repliedMessage,draftUID:n.draftUID}).then(function(e){if(s.isFunction(t)&&t(),null!==n.draftUID){var r=l.ui.request("messagesview:collection"),i=r.findWhere({id:n.draftUID});i&&(i.set({id:e.uid}),r.set([i],{remove:!1}))}n.draftUID=e.uid},console.error.bind(this)),!1},setReplyBody:function(t,e,n){var r=e.getMinutes();this.$(".message-body").first().text("\n\n\n"+t.label+"  "+i.datepicker.formatDate("D, d. MM yy ",e)+e.getHours()+":"+(r<10?"0":"")+r+"\n> "+n.replace(/\n/g,"\n> ")),this.setAutoSize(!1);var s=this;this.$(".message-body").click(function(){s.setAutoSize(!0)})},focusTo:function(){this.$el.find("input.to").focus()},setTo:function(t){this.$el.find("input.to").val(t)},focusSubject:function(){this.$el.find("input.subject").focus()},onAutoComplete:function(t){function e(t){return t.split(/,\s*/)}function n(t){return e(t).pop()}var r=i(t.target);if(!r.data("autocomplete")){var s=!1;r.on("keydown",function(t){9===t.which&&void 0!==r.data("autocomplete")&&r.data("autocomplete").menu.active&&t.preventDefault()}),r.autocomplete({source:function(t,e){i.getJSON(a.generateUrl("/apps/mail/api/autoComplete"),{term:n(t.term)},e)},search:function(){return n(this.value).length>=2},response:function(){s=!1},focus:function(){return!1},select:function(t,n){var r=e(this.value);return r.pop(),r.push(n.item.value),r.push(""),this.value=r.join(", "),!1}}).data("ui-autocomplete")._renderItem=function(t,e){var n=i("<li/>"),r=i("<a/>");r.addClass("mail-recipient-autocomplete");var o;if(s===e.id)o=i("<div/>"),o.addClass("avatar"),r.append(o);else if(e.photo&&null!==e.photo){var a=i("<img/>");a.addClass("avatar"),a.height("32px"),a.width("32px"),a.attr("src",e.photo),r.append(a)}else o=i("<div/>"),d(o,e.label||e.value),o.addClass("avatar"),r.append(o);return s=e.id,r.append(i("<span>").text(e.label||e.value)),n.append(r),n.appendTo(t),n}}},buildAliases:function(){var t=[],e=1;return this.accounts.forEach(function(n){var r=n.toJSON();t.push({id:e++,accountId:r.accountId,aliasId:null,emailAddress:r.emailAddress,name:r.name});for(var i in r.aliases)t.push({id:e++,accountId:r.aliases[i].accountId,aliasId:r.aliases[i].id,emailAddress:r.aliases[i].alias,name:r.aliases[i].name})}),this.aliases=t,t},findAliasById:function(t){return s.find(this.aliases,function(e){return parseInt(e.id)===parseInt(t)})},defaultMailSelect:function(){var t=null;if(this.isReply()){var e=this.data.fromEmail;t=s.find(this.aliases,function(t){return t.emailAddress===e})}else if(-1!==r(1).currentAccount.get("accountId"))t=s.find(this.aliases,function(t){return t.emailAddress===r(1).currentAccount.get("email")});else{var n=this.accounts.filter(function(t){return-1!==t.get("accountId")})[0];t=s.find(this.aliases,function(t){return t.emailAddress===n.get("emailAddress")})}t&&this.$(".mail-account").val(t.id)},checkAllAttachmentsValid:function(){for(var t=!0,e=this.attachments.length,n=0;n<e;n++){var r=this.attachments.models[n],i=r.get("uploadStatus");void 0!==i&&i<3&&(t=!1)}return t}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r,i,s;/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return function(){function e(t,e,n){return[parseFloat(t[0])*(h.test(t[0])?e/100:1),parseFloat(t[1])*(h.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function r(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var i,s=Math.max,o=Math.abs,a=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,h=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==i)return i;var e,n,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return t("body").append(r),e=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,e===n&&(n=r[0].clientWidth),r.remove(),i=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),r=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),i="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:i?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),r=t.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:r||i?{left:0,top:0}:t(e).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return d.apply(this,arguments);i=t.extend({},i);var h,f,p,g,m,v,y=t(i.of),b=t.position.getWithinInfo(i.within),_=t.position.getScrollInfo(b),w=(i.collision||"flip").split(" "),x={};return v=r(y),y[0].preventDefault&&(i.at="left top"),f=v.width,p=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,n=(i[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",t=u.exec(n[0]),e=u.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],i[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===i.at[0]?m.left+=f:"center"===i.at[0]&&(m.left+=f/2),"bottom"===i.at[1]?m.top+=p:"center"===i.at[1]&&(m.top+=p/2),h=e(x.at,f,p),m.left+=h[0],m.top+=h[1],this.each(function(){var r,a,l=t(this),u=l.outerWidth(),c=l.outerHeight(),d=n(this,"marginLeft"),v=n(this,"marginTop"),C=u+d+n(this,"marginRight")+_.width,A=c+v+n(this,"marginBottom")+_.height,D=t.extend({},m),E=e(x.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?D.left-=u:"center"===i.my[0]&&(D.left-=u/2),"bottom"===i.my[1]?D.top-=c:"center"===i.my[1]&&(D.top-=c/2),D.left+=E[0],D.top+=E[1],r={marginLeft:d,marginTop:v},t.each(["left","top"],function(e,n){t.ui.position[w[e]]&&t.ui.position[w[e]][n](D,{targetWidth:f,targetHeight:p,elemWidth:u,elemHeight:c,collisionPosition:r,collisionWidth:C,collisionHeight:A,offset:[h[0]+E[0],h[1]+E[1]],my:i.my,at:i.at,within:b,elem:l})}),i.using&&(a=function(t){var e=g.left-D.left,n=e+f-u,r=g.top-D.top,a=r+p-c,h={target:{element:y,left:g.left,top:g.top,width:f,height:p},element:{element:l,left:D.left,top:D.top,width:u,height:c},horizontal:n<0?"left":e>0?"right":"center",vertical:a<0?"top":r>0?"bottom":"middle"};f<u&&o(e+n)<f&&(h.horizontal="center"),p<c&&o(r+a)<p&&(h.vertical="middle"),s(o(e),o(n))>s(o(r),o(a))?h.important="horizontal":h.important="vertical",i.using.call(this,t,h)}),l.offset(t.extend(D,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n,r=e.within,i=r.isWindow?r.scrollLeft:r.offset.left,o=r.width,a=t.left-e.collisionPosition.marginLeft,l=i-a,u=a+e.collisionWidth-o-i;e.collisionWidth>o?l>0&&u<=0?(n=t.left+l+e.collisionWidth-o-i,t.left+=l-n):t.left=u>0&&l<=0?i:l>u?i+o-e.collisionWidth:i:l>0?t.left+=l:u>0?t.left-=u:t.left=s(t.left-a,t.left)},top:function(t,e){var n,r=e.within,i=r.isWindow?r.scrollTop:r.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=i-a,u=a+e.collisionHeight-o-i;e.collisionHeight>o?l>0&&u<=0?(n=t.top+l+e.collisionHeight-o-i,t.top+=l-n):t.top=u>0&&l<=0?i:l>u?i+o-e.collisionHeight:i:l>0?t.top+=l:u>0?t.top-=u:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,r,i=e.within,s=i.offset.left+i.scrollLeft,a=i.width,l=i.isWindow?i.scrollLeft:i.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((n=t.left+d+f+p+e.collisionWidth-a-s)<0||n<o(c))&&(t.left+=d+f+p):h>0&&((r=t.left-e.collisionPosition.marginLeft+d+f+p-l)>0||o(r)<h)&&(t.left+=d+f+p)},top:function(t,e){var n,r,i=e.within,s=i.offset.top+i.scrollTop,a=i.height,l=i.isWindow?i.scrollTop:i.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-a-l,d="top"===e.my[1],f=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?((r=t.top+f+p+g+e.collisionHeight-a-s)<0||r<o(c))&&(t.top+=f+p+g):h>0&&((n=t.top-e.collisionPosition.marginTop+f+p+g-l)>0||o(n)<h)&&(t.top+=f+p+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position})},function(t,e,n){var r,i,s;/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(10),n(27)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){function e(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,i)}function i(){t.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function s(e,n){t.extend(e,n);for(var r in n)null==n[r]&&(e[r]=n[r]);return e}t.extend(t.ui,{datepicker:{version:"1.12.1"}});var o;return t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var r,i,s;r=e.nodeName.toLowerCase(),i="div"===r||"span"===r,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),i),s.settings=t.extend({},n||{}),"input"===r?this._connectDatepicker(e,s):i&&this._inlineDatepicker(e,s)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var r=t(e);n.append=t([]),n.trigger=t([]),r.hasClass(this.markerClassName)||(this._attachments(r,n),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var r,i,s,o=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),r=this._get(n,"showOn"),"focus"!==r&&"both"!==r||e.on("focus",this._showDatepicker),"button"!==r&&"both"!==r||(i=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:i,title:i}):i)),e[a?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,r,i,s=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(n=0,r=0,i=0;i<t.length;i++)t[i].length>n&&(n=t[i].length,r=i);return r},s.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,n){var r=t(e);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,r,i,o){var a,l,u,c,h,d=this._dialogInst;return d||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),s(d.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var n,r=t(e),i=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||r.removeClass(this.markerClassName).empty(),o===i&&(o=null))},_enableDatepicker:function(e){var n,r,i=t(e),s=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(r=i.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,r,i=t(e),s=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(r=i.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,r){var i,o,a,l,u=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null;i=n||{},"string"==typeof n&&(i={},i[n]=r),u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),s(u.settings,i),null!==a&&void 0!==i.dateFormat&&void 0===i.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==i.dateFormat&&void 0===i.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in i&&(i.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,r,i,s=t.datepicker._getInst(e.target),o=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return i=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),i[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,i[0]),n=t.datepicker._get(s,"onSelect"),n?(r=t.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[r,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,r,i=t.datepicker._getInst(e.target);if(t.datepicker._get(i,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(e){var n,r=t.datepicker._getInst(e.target);if(r.input.val()!==r.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,t.datepicker._getFormatConfig(r)),n&&(t.datepicker._setDateFromField(r),t.datepicker._updateAlternate(r),t.datepicker._updateDatepicker(r))}catch(t){}return!0},_showDatepicker:function(n){if(n=n.target||n,"input"!==n.nodeName.toLowerCase()&&(n=t("input",n.parentNode)[0]),!t.datepicker._isDisabledDatepicker(n)&&t.datepicker._lastInput!==n){var r,i,o,a,l,u,c;r=t.datepicker._getInst(n),t.datepicker._curInst&&t.datepicker._curInst!==r&&(t.datepicker._curInst.dpDiv.stop(!0,!0),r&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(r,"beforeShow"),o=i?i.apply(n,[n,r]):{},!1!==o&&(s(r.settings,o),r.lastVal=null,t.datepicker._lastInput=n,t.datepicker._setDateFromField(r),t.datepicker._inDialog&&(n.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(n),t.datepicker._pos[1]+=n.offsetHeight),a=!1,t(n).parents().each(function(){return!(a|="fixed"===t(this).css("position"))}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(r),l=t.datepicker._checkOffset(r,l,a),r.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),r.inline||(u=t.datepicker._get(r,"showAnim"),c=t.datepicker._get(r,"duration"),r.dpDiv.css("z-index",e(t(n))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?r.dpDiv.show(u,t.datepicker._get(r,"showOptions"),c):r.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(r)&&r.input.trigger("focus"),t.datepicker._curInst=r))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,r=this._getNumberOfMonths(e),s=r[1],a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&i.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),e.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,r){var i=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(r?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(r?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?i-o:0,n.left-=r&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=r&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>l&&l>i?Math.abs(n.left+i-l):0),n.top-=Math.min(n.top,n.top+s>u&&u>s?Math.abs(s+a):0),n},_findPos:function(e){for(var n,r=this._getInst(e),i=this._get(r,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,r,i,s,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),r=this._get(o,"duration"),i=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[n]||t.effects[n])?o.dpDiv.hide(n,t.datepicker._get(o,"showOptions"),r,i):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),r=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===r)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,r){var i=t(e),s=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(s,n+("M"===r?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s))},_gotoToday:function(e){var n,r=t(e),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(e,n,r){var i=t(e),s=this._getInst(i[0]);s["selected"+("M"===r?"Month":"Year")]=s["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(i)},_selectDay:function(e,n,r,i){var s,o=t(e);t(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=t("a",i).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=r,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var r,i=t(e),s=this._getInst(i[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,r,i,s=this._get(e,"altField");s&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e)),t(s).val(i))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,r){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var i,s,o,a,l=0,u=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,d=(r?r.dayNames:null)||this._defaults.dayNames,f=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,p=(r?r.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,_=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},w=function(t){var e=_(t),r="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,i="y"===t?r:1,s=new RegExp("^\\d{"+i+","+r+"}"),o=n.substring(l).match(s);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(e,r,i){var s=-1,o=t.map(_(e)?i:r,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var r=e[1];if(n.substr(l,r.length).toLowerCase()===r.toLowerCase())return s=e[0],l+=r.length,!1}),-1!==s)return s+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==e.charAt(i))throw"Unexpected literal at position "+l;l++};for(i=0;i<e.length;i++)if(b)"'"!==e.charAt(i)||_("'")?C():b=!1;else switch(e.charAt(i)){case"d":v=w("d");break;case"D":x("D",h,d);break;case"o":y=w("o");break;case"m":m=w("m");break;case"M":m=x("M",f,p);break;case"y":g=w("y");break;case"@":a=new Date(w("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?C():b=!0;break;default:C()}if(l<n.length&&(o=n.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),y>-1)for(m=1,v=y;;){if(s=this._getDaysInMonth(g,m-1),v<=s)break;m++,v-=s}if(a=this._daylightSavingAdjust(new Date(g,m-1,v)),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},u=function(t,e,n){var r=""+e;if(l(t))for(;r.length<n;)r="0"+r;return r},c=function(t,e,n,r){return l(t)?r[e]:n[e]},h="",d=!1;if(e)for(r=0;r<t.length;r++)if(d)"'"!==t.charAt(r)||l("'")?h+=t.charAt(r):d=!1;else switch(t.charAt(r)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),i,s);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),o,a);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(r)}return h},_possibleChars:function(t){var e,n="",r=!1,i=function(n){var r=e+1<t.length&&t.charAt(e+1)===n;return r&&e++,r};for(e=0;e<t.length;e++)if(r)"'"!==t.charAt(e)||i("'")?n+=t.charAt(e):r=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),r=t.lastVal=t.input?t.input.val():null,i=this._getDefaultDate(t),s=i,o=this._getFormatConfig(t);try{s=this.parseDate(n,r,o)||i}catch(t){r=e?"":r}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=r?s.getDate():0,t.currentMonth=r?s.getMonth():0,t.currentYear=r?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,r){var i=null==n||""===n?r:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(i,s))}l=a.exec(n)}return new Date(i,s,o)}(n):"number"==typeof n?isNaN(n)?r:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return i=i&&"Invalid Date"===i.toString()?r:i,i&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var r=!e,i=t.selectedMonth,s=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),i===t.selectedMonth&&s===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(r?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),r="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(r,-n,"M")},next:function(){t.datepicker._adjustDate(r,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(r)},selectDay:function(){return t.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(r,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,r,i,s,o,a,l,u,c,h,d,f,p,g,m,v,y,b,_,w,x,C,A,D,E,T,S,I,k,L,M,O,N,R,q,P,B,U,V=new Date,j=this._daylightSavingAdjust(new Date(V.getFullYear(),V.getMonth(),V.getDate())),F=this._get(t,"isRTL"),Y=this._get(t,"showButtonPanel"),H=this._get(t,"hideIfNoPrevNext"),z=this._get(t,"navigationAsDateFormat"),W=this._getNumberOfMonths(t),$=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),K=1!==W[0]||1!==W[1],J=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),Q=t.drawMonth-$,tt=t.drawYear;if(Q<0&&(Q+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-W[0]*W[1]+1,Z.getDate())),e=X&&e<X?X:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)--Q<0&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,n=this._get(t,"prevText"),n=z?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Q-G,1)),this._getFormatConfig(t)):n,r=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"e":"w")+"'>"+n+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"e":"w")+"'>"+n+"</span></a>",i=this._get(t,"nextText"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Q+G,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"w":"e")+"'>"+i+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(F?"w":"e")+"'>"+i+"</span></a>",o=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?J:j,o=z?this.formatDate(o,a,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(F?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(F?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",x=0;x<W[0];x++){for(C="",this.maxRows=4,A=0;A<W[1];A++){if(D=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),E=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",W[1]>1)switch(A){case 0:T+=" ui-datepicker-group-first",E=" ui-corner-"+(F?"right":"left");break;case W[1]-1:T+=" ui-datepicker-group-last",E=" ui-corner-"+(F?"left":"right");break;default:T+=" ui-datepicker-group-middle",E=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+E+"'>"+(/all|left/.test(E)&&0===x?F?s:r:"")+(/all|right/.test(E)&&0===x?F?r:s:"")+this._generateMonthYearHeader(t,Q,tt,X,Z,x>0||A>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)I=(w+c)%7,S+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[I]+"'>"+f[I]+"</span></th>";for(T+=S+"</tr></thead><tbody>",k=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,k)),L=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,M=Math.ceil((L+k)/7),O=K&&this.maxRows>M?this.maxRows:M,this.maxRows=O,N=this._daylightSavingAdjust(new Date(tt,Q,1-L)),R=0;R<O;R++){for(T+="<tr>",q=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",w=0;w<7;w++)P=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],B=N.getMonth()!==Q,U=B&&!y||!P[0]||X&&N<X||Z&&N>Z,q+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(N.getTime()===D.getTime()&&Q===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+P[1]+(N.getTime()===J.getTime()?" "+this._currentClass:"")+(N.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(B&&!v||!P[2]?"":" title='"+P[2].replace(/'/g,"&#39;")+"'")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":U?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===j.getTime()?" ui-state-highlight":"")+(N.getTime()===J.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);T+=q+"</tr>"}Q++,Q>11&&(Q=0,tt++),T+="</tbody></table>"+(K?"</div>"+(W[0]>0&&A===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=T}_+=C}return _+=u,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,r,i,s,o,a){var l,u,c,h,d,f,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(s||!m)_+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=r&&r.getFullYear()===n,u=i&&i.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=r.getMonth())&&(!u||c<=i.getMonth())&&(_+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");_+="</select>"}if(y||(b+=_+(!s&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},p=f(h[0]),g=Math.max(p,f(h[1]||"")),p=r?Math.max(p,r.getFullYear()):p,g=i?Math.min(g,i.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!s&&m&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(t,e,n){var r=t.selectedYear+("Y"===n?e:0),i=t.selectedMonth+("M"===n?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(r,i))+("D"===n?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(r,i,s)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),i=n&&e<n?n:e;return r&&i>r?r:i},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,r){var i=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(n,r+(e<0?e:i[0]*i[1]),1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var n,r,i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),o=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(a+=r)),(!i||e.getTime()>=i.getTime())&&(!s||e.getTime()<=s.getTime())&&(!o||e.getFullYear()>=o)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,r){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var i=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(r,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),i,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(9),r=n(51);return e.Collection.extend({model:r})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(9),r=n(3);return e.Model.extend({defaults:{isLocal:!1},initialize:function(){r.isUndefined(this.get("id"))&&this.set("id",r.uniqueId());var t=this.get("fileName");r.isUndefined(t)||("/"===t.charAt(0)&&(t=t.substr(1)),this.set("displayName",t))}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=i;var s=n(13),o=n(19),a=r(o),l=n(105),u=n(113),c=n(115),h=r(c);e.VERSION="4.0.11";e.COMPILER_REVISION=7;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=d;i.prototype={constructor:i,logger:h.default,log:h.default.log,registerHelper:function(t,e){if("[object Object]"===s.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===s.toString.call(t))s.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===s.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple decorators");s.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var f=h.default.log;e.log=f,e.createFrame=s.createFrame,e.logger=h.default},function(t,e,n){var r;void 0!==(r=function(){"use strict";function t(t,e){$(t).imageplaceholder(e)}return t}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(){"use strict";function t(t,e){$(t).tooltip(e)}return t}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(3),r=n(9),i=n(56),s=n(129),o=n(8);return r.Model.extend({defaults:{aliases:[],specialFolders:[],isUnified:!1},idAttribute:"accountId",url:function(){return o.generateUrl("apps/mail/api/accounts")},initialize:function(){this.folders=new i,this.set("aliases",new s(this.get("aliases")))},_getFolderByIdRecursively:function(t,e){if(!t)return null;if(t.get("id")===e)return t;var n=t.folders;if(!n)return null;for(var r=0;r<n.length;r++){var i=this._getFolderByIdRecursively(n.at(r),e);if(i)return i}return null},addFolder:function(t){t.account=this,this.folders.add(t)},getFolderById:function(t){if(this.folders)for(var e=0;e<this.folders.length;e++){var n=this._getFolderByIdRecursively(this.folders.at(e),t);if(n)return n}},getSpecialFolder:function(){if(this.folders)return e.find(this.folders,function(t){if("draft"===t.get("specialRole"))return!0})},toJSON:function(){var t=r.Model.prototype.toJSON.call(this);return t.folders&&t.folders.toJSON&&(t.folders=t.folders.toJSON()),t.aliases&&t.aliases.toJSON&&(t.aliases=t.aliases.toJSON()),t.id||(t.id=this.cid),t}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(9),r=n(125);return e.Collection.extend({model:r})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(9),r=n(126);return e.Collection.extend({model:r,comparator:function(t){return-1*t.get("dateInt")}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r=n(5);t.exports=function(t){return/^\s*$/.test(r(t))}},function(t,e,n){var r=n(5);t.exports=function(t){return t=r(t),t.charAt(0).toLowerCase()+t.slice(1)}},function(t,e,n){var r=n(5);t.exports=function(t){return r(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},function(t,e,n){var r=n(5),i="",s="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";i+=i.toUpperCase(),s+=s.toUpperCase(),s=s.split(""),i+="",s.push("ss"),t.exports=function(t){return r(t).replace(/.{1}/g,function(t){var e=i.indexOf(t);return-1===e?t:s[e]})}},function(t,e,n){var r=n(33);t.exports=function(t,e,n,i){var s=r(t);return s.splice(~~e,~~n,i),s.join("")}},function(t,e){t.exports=function(t){return t<0?0:+t||0}},function(t,e,n){var r=n(5);t.exports=function(t,e){return t=r(t),0===t.length?"":t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+e)}},function(t,e,n){var r=n(14),i=n(59);t.exports=function(t,e){return t=r(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),!0===e?i(t):t}},function(t,e,n){var r=n(14);t.exports=function(t){return r(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},function(t,e,n){var r=n(14);t.exports=function(t){return r(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},function(t,e,n){var r=n(35),i=Object.prototype.toString,s=function(){function t(t){return i.call(t).slice(8,-1).toLowerCase()}var e=r,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i,o,a,l,u,c,h,d=1,f=n.length,p="",g=[];for(o=0;o<f;o++)if("string"===(p=t(n[o])))g.push(n[o]);else if("array"===p){if(l=n[o],l[2])for(i=r[d],a=0;a<l[2].length;a++){if(!i.hasOwnProperty(l[2][a]))throw new Error(s('[_.sprintf] property "%s" does not exist',l[2][a]));i=i[l[2][a]]}else i=l[1]?r[l[1]]:r[d++];if(/[^s]/.test(l[8])&&"number"!=t(i))throw new Error(s("[_.sprintf] expecting number but found %s",t(i)));switch(l[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=l[7]?i.toExponential(l[7]):i.toExponential();break;case"f":i=l[7]?parseFloat(i).toFixed(l[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&l[7]?i.substring(0,l[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(l[8])&&l[3]&&i>=0?"+"+i:i,c=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",h=l[6]-String(i).length,u=l[6]?e(c,h):"",g.push(l[5]?i+u:u+i)}return g.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],r=[],i=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var s=[],o=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(o)))throw new Error("[_.sprintf] huh?");for(s.push(a[1]);""!==(o=o.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(o)))s.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(o)))throw new Error("[_.sprintf] huh?");s.push(a[1])}n[2]=s}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}e=e.substring(n[0].length)}return r},n}();t.exports=s},function(t,e,n){var r=n(34);t.exports=function(t,e,n,i){e=e||", ",n=n||" and ";var s=t.slice(),o=s.pop();return t.length>2&&i&&(n=r(e)+n),s.length?s.join(e)+n+o:o}},function(t,e){t.exports=function(t,e){return[e,t,e].join("")}},function(t,e,n){function r(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(i=this._options.Tokenizer),this._tokenizer=new i(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var i=n(72),s={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:s,input:s,output:s,button:s,datalist:s,textarea:s,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},l=/\s|\//;n(12)(r,n(24).EventEmitter),r.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},r.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},r.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in o)for(var e;(e=this._stack[this._stack.length-1])in o[t];this.onclosetag(e));!this._options.xmlMode&&t in a||this._stack.push(t),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},r.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},r.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),!this._stack.length||t in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},r.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},r.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},r.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},r.prototype.onattribdata=function(t){this._attribvalue+=t},r.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},r.prototype._getInstructionName=function(t){var e=t.search(l),n=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},r.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},r.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},r.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},r.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},r.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},r.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},r.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},r.prototype.parseComplete=function(t){this.reset(),this.end(t)},r.prototype.write=function(t){this._tokenizer.write(t)},r.prototype.end=function(t){this._tokenizer.end(t)},r.prototype.pause=function(){this._tokenizer.pause()},r.prototype.resume=function(){this._tokenizer.resume()},r.prototype.parseChunk=r.prototype.write,r.prototype.done=r.prototype.end,t.exports=r},function(t,e,n){function r(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function i(t,e,n){var r=t.toLowerCase();return t===r?function(t){t===r?this._state=e:(this._state=n,this._index--)}:function(i){i===r||i===t?this._state=e:(this._state=n,this._index--)}}function s(t,e){var n=t.toLowerCase();return function(r){r===n||r===t?this._state=e:(this._state=p,this._index--)}}function o(t,e){this._state=d,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=d,this._special=pt,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}t.exports=o;var a=n(187),l=n(189),u=n(190),c=n(191),h=0,d=h++,f=h++,p=h++,g=h++,m=h++,v=h++,y=h++,b=h++,_=h++,w=h++,x=h++,C=h++,A=h++,D=h++,E=h++,T=h++,S=h++,I=h++,k=h++,L=h++,M=h++,O=h++,N=h++,R=h++,q=h++,P=h++,B=h++,U=h++,V=h++,j=h++,F=h++,Y=h++,H=h++,z=h++,W=h++,$=h++,G=h++,K=h++,J=h++,X=h++,Z=h++,Q=h++,tt=h++,et=h++,nt=h++,rt=h++,it=h++,st=h++,ot=h++,at=h++,lt=h++,ut=h++,ct=h++,ht=h++,dt=h++,ft=0,pt=ft++,gt=ft++,mt=ft++;o.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=f,this._sectionStart=this._index):this._decodeEntities&&this._special===pt&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=d,this._state=lt,this._sectionStart=this._index)},o.prototype._stateBeforeTagName=function(t){"/"===t?this._state=m:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==pt||r(t)?this._state=d:"!"===t?(this._state=E,this._sectionStart=this._index+1):"?"===t?(this._state=S,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?p:F,this._sectionStart=this._index)},o.prototype._stateInTagName=function(t){("/"===t||">"===t||r(t))&&(this._emitToken("onopentagname"),this._state=b,this._index--)},o.prototype._stateBeforeCloseingTagName=function(t){r(t)||(">"===t?this._state=d:this._special!==pt?"s"===t||"S"===t?this._state=Y:(this._state=d,this._index--):(this._state=v,this._sectionStart=this._index))},o.prototype._stateInCloseingTagName=function(t){(">"===t||r(t))&&(this._emitToken("onclosetag"),this._state=y,this._index--)},o.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=d,this._sectionStart=this._index+1)},o.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=d,this._sectionStart=this._index+1):"/"===t?this._state=g:r(t)||(this._state=_,this._sectionStart=this._index)},o.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=d,this._sectionStart=this._index+1):r(t)||(this._state=b,this._index--)},o.prototype._stateInAttributeName=function(t){("="===t||"/"===t||">"===t||r(t))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=w,this._index--)},o.prototype._stateAfterAttributeName=function(t){"="===t?this._state=x:"/"===t||">"===t?(this._cbs.onattribend(),this._state=b,this._index--):r(t)||(this._cbs.onattribend(),this._state=_,this._sectionStart=this._index)},o.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=C,this._sectionStart=this._index+1):"'"===t?(this._state=A,this._sectionStart=this._index+1):r(t)||(this._state=D,this._sectionStart=this._index,this._index--)},o.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=b):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=lt,this._sectionStart=this._index)},o.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=b):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=lt,this._sectionStart=this._index)},o.prototype._stateInAttributeValueNoQuotes=function(t){r(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=b,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=lt,this._sectionStart=this._index)},o.prototype._stateBeforeDeclaration=function(t){this._state="["===t?O:"-"===t?I:T},o.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=d,this._sectionStart=this._index+1)},o.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=d,this._sectionStart=this._index+1)},o.prototype._stateBeforeComment=function(t){"-"===t?(this._state=k,this._sectionStart=this._index+1):this._state=T},o.prototype._stateInComment=function(t){"-"===t&&(this._state=L)},o.prototype._stateAfterComment1=function(t){this._state="-"===t?M:k},o.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=d,this._sectionStart=this._index+1):"-"!==t&&(this._state=k)},o.prototype._stateBeforeCdata1=i("C",N,T),o.prototype._stateBeforeCdata2=i("D",R,T),o.prototype._stateBeforeCdata3=i("A",q,T),o.prototype._stateBeforeCdata4=i("T",P,T),o.prototype._stateBeforeCdata5=i("A",B,T),o.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=U,this._sectionStart=this._index+1):(this._state=T,this._index--)},o.prototype._stateInCdata=function(t){"]"===t&&(this._state=V)},o.prototype._stateAfterCdata1=function(t,e){return function(n){n===t&&(this._state=e)}}("]",j),o.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=d,this._sectionStart=this._index+1):"]"!==t&&(this._state=U)},o.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=H:"t"===t||"T"===t?this._state=tt:(this._state=p,this._index--)},o.prototype._stateBeforeSpecialEnd=function(t){this._special!==gt||"c"!==t&&"C"!==t?this._special!==mt||"t"!==t&&"T"!==t?this._state=d:this._state=it:this._state=K},o.prototype._stateBeforeScript1=s("R",z),o.prototype._stateBeforeScript2=s("I",W),o.prototype._stateBeforeScript3=s("P",$),o.prototype._stateBeforeScript4=s("T",G),o.prototype._stateBeforeScript5=function(t){("/"===t||">"===t||r(t))&&(this._special=gt),this._state=p,this._index--},o.prototype._stateAfterScript1=i("R",J,d),o.prototype._stateAfterScript2=i("I",X,d),o.prototype._stateAfterScript3=i("P",Z,d),o.prototype._stateAfterScript4=i("T",Q,d),o.prototype._stateAfterScript5=function(t){">"===t||r(t)?(this._special=pt,this._state=v,this._sectionStart=this._index-6,this._index--):this._state=d},o.prototype._stateBeforeStyle1=s("Y",et),o.prototype._stateBeforeStyle2=s("L",nt),o.prototype._stateBeforeStyle3=s("E",rt),o.prototype._stateBeforeStyle4=function(t){("/"===t||">"===t||r(t))&&(this._special=mt),this._state=p,this._index--},o.prototype._stateAfterStyle1=i("Y",st,d),o.prototype._stateAfterStyle2=i("L",ot,d),o.prototype._stateAfterStyle3=i("E",at,d),o.prototype._stateAfterStyle4=function(t){">"===t||r(t)?(this._special=pt,this._state=v,this._sectionStart=this._index-5,this._index--):this._state=d},o.prototype._stateBeforeEntity=i("#",ut,ct),o.prototype._stateBeforeNumericEntity=i("X",dt,ht),o.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?c:l;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},o.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(e>6&&(e=6);e>=2;){var n=this._buffer.substr(t,e);if(u.hasOwnProperty(n))return this._emitPartial(u[n]),void(this._sectionStart+=e+1);e--}},o.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==d?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},o.prototype._decodeNumericEntity=function(t,e){var n=this._sectionStart+t;if(n!==this._index){var r=this._buffer.substring(n,this._index),i=parseInt(r,e);this._emitPartial(a(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},o.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},o.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},o.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===d?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},o.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},o.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===d?this._stateText(t):this._state===f?this._stateBeforeTagName(t):this._state===p?this._stateInTagName(t):this._state===m?this._stateBeforeCloseingTagName(t):this._state===v?this._stateInCloseingTagName(t):this._state===y?this._stateAfterCloseingTagName(t):this._state===g?this._stateInSelfClosingTag(t):this._state===b?this._stateBeforeAttributeName(t):this._state===_?this._stateInAttributeName(t):this._state===w?this._stateAfterAttributeName(t):this._state===x?this._stateBeforeAttributeValue(t):this._state===C?this._stateInAttributeValueDoubleQuotes(t):this._state===A?this._stateInAttributeValueSingleQuotes(t):this._state===D?this._stateInAttributeValueNoQuotes(t):this._state===E?this._stateBeforeDeclaration(t):this._state===T?this._stateInDeclaration(t):this._state===S?this._stateInProcessingInstruction(t):this._state===I?this._stateBeforeComment(t):this._state===k?this._stateInComment(t):this._state===L?this._stateAfterComment1(t):this._state===M?this._stateAfterComment2(t):this._state===O?this._stateBeforeCdata1(t):this._state===N?this._stateBeforeCdata2(t):this._state===R?this._stateBeforeCdata3(t):this._state===q?this._stateBeforeCdata4(t):this._state===P?this._stateBeforeCdata5(t):this._state===B?this._stateBeforeCdata6(t):this._state===U?this._stateInCdata(t):this._state===V?this._stateAfterCdata1(t):this._state===j?this._stateAfterCdata2(t):this._state===F?this._stateBeforeSpecial(t):this._state===Y?this._stateBeforeSpecialEnd(t):this._state===H?this._stateBeforeScript1(t):this._state===z?this._stateBeforeScript2(t):this._state===W?this._stateBeforeScript3(t):this._state===$?this._stateBeforeScript4(t):this._state===G?this._stateBeforeScript5(t):this._state===K?this._stateAfterScript1(t):this._state===J?this._stateAfterScript2(t):this._state===X?this._stateAfterScript3(t):this._state===Z?this._stateAfterScript4(t):this._state===Q?this._stateAfterScript5(t):this._state===tt?this._stateBeforeStyle1(t):this._state===et?this._stateBeforeStyle2(t):this._state===nt?this._stateBeforeStyle3(t):this._state===rt?this._stateBeforeStyle4(t):this._state===it?this._stateAfterStyle1(t):this._state===st?this._stateAfterStyle2(t):this._state===ot?this._stateAfterStyle3(t):this._state===at?this._stateAfterStyle4(t):this._state===lt?this._stateBeforeEntity(t):this._state===ut?this._stateBeforeNumericEntity(t):this._state===ct?this._stateInNamedEntity(t):this._state===ht?this._stateInNumericEntity(t):this._state===dt?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},o.prototype.pause=function(){this._running=!1},o.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},o.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},o.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},o.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===U||this._state===V||this._state===j?this._cbs.oncdata(t):this._state===k||this._state===L||this._state===M?this._cbs.oncomment(t):this._state!==ct||this._xmlMode?this._state!==ht||this._xmlMode?this._state!==dt||this._xmlMode?this._state!==p&&this._state!==b&&this._state!==x&&this._state!==w&&this._state!==_&&this._state!==A&&this._state!==C&&this._state!==D&&this._state!==v&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},o.prototype.reset=function(){o.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},o.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},o.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},o.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},o.prototype._emitPartial=function(t){this._baseState!==d?this._cbs.onattribdata(t):this._cbs.ontext(t)}},function(t,e){var n=t.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(t){var e=r[t];Object.defineProperty(n,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},function(t,e,n){function r(t,e){var n=this._parser=new i(t,e),r=this._decoder=new o;s.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(r.end())})}t.exports=r;var i=n(71),s=n(196).Writable||n(211).Writable,o=n(39).StringDecoder,a=n(26).Buffer;n(12)(r,s),s.prototype._write=function(t,e,n){t instanceof a&&(t=this._decoder.write(t)),this._parser.write(t),n()}},function(t,e,n){"use strict";(function(e,r){function i(t){return P.from(t)}function s(t){return P.isBuffer(t)||t instanceof B}function o(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?N(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function a(t,e){O=O||n(15),t=t||{},this.objectMode=!!t.objectMode,e instanceof O&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(F||(F=n(39).StringDecoder),this.decoder=new F(t.encoding),this.encoding=t.encoding)}function l(t){if(O=O||n(15),!(this instanceof l))return new l(t);this._readableState=new a(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),q.call(this)}function u(t,e,n,r,s){var o=t._readableState;if(null===e)o.reading=!1,g(t,o);else{var a;s||(a=h(o,e)),a?t.emit("error",a):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===P.prototype||(e=i(e)),r?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):c(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?c(t,o,e,!1):y(t,o)):c(t,o,e,!1))):r||(o.reading=!1)}return d(o)}function c(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&m(t)),y(t,e)}function h(t,e){var n;return s(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function f(t){return t>=W?t=W:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function p(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=f(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function g(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,m(t)}}function m(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(j("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?M(v,t):v(t))}function v(t){j("emit readable"),t.emit("readable"),A(t)}function y(t,e){e.readingMore||(e.readingMore=!0,M(b,t,e))}function b(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(j("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function _(t){return function(){var e=t._readableState;j("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&R(t,"data")&&(e.flowing=!0,A(t))}}function w(t){j("readable nexttick read 0"),t.read(0)}function x(t,e){e.resumeScheduled||(e.resumeScheduled=!0,M(C,t,e))}function C(t,e){e.reading||(j("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(j("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=E(t,e.buffer,e.decoder),n}function E(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?T(t,e):S(t,e),r}function T(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),0===(t-=o)){o===s.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++r}return e.length-=r,i}function S(t,e){var n=P.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,o),0===(t-=o)){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}function I(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,M(k,e,t))}function k(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function L(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var M=n(25);t.exports=l;var O,N=n(197);l.ReadableState=a;var R=(n(24).EventEmitter,function(t,e){return t.listeners(e).length}),q=n(76),P=n(37).Buffer,B=e.Uint8Array||function(){},U=n(22);U.inherits=n(12);var V=n(201),j=void 0;j=V&&V.debuglog?V.debuglog("stream"):function(){};var F,Y=n(202),H=n(77);U.inherits(l,q);var z=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),l.prototype.destroy=H.destroy,l.prototype._undestroy=H.undestroy,l.prototype._destroy=function(t,e){this.push(null),e(t)},l.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=P.from(t,e),e=""),n=!0),u(this,t,e,!1,n)},l.prototype.unshift=function(t){return u(this,t,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(t){return F||(F=n(39).StringDecoder),this._readableState.decoder=new F(t),this._readableState.encoding=t,this};var W=8388608;l.prototype.read=function(t){j("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return j("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?I(this):m(this),null;if(0===(t=p(t,e))&&e.ended)return 0===e.length&&I(this),null;var r=e.needReadable;j("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,j("length less than watermark",r)),e.ended||e.reading?(r=!1,j("reading or ended",r)):r&&(j("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=p(n,e)));var i;return i=t>0?D(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&I(this)),null!==i&&this.emit("data",i),i},l.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(t,e){function n(t,e){j("onunpipe"),t===d&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,s())}function i(){j("onend"),t.end()}function s(){j("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",m),t.removeListener("error",l),t.removeListener("unpipe",n),d.removeListener("end",i),d.removeListener("end",h),d.removeListener("data",a),v=!0,!f.awaitDrain||t._writableState&&!t._writableState.needDrain||m()}function a(e){j("ondata"),y=!1,!1!==t.write(e)||y||((1===f.pipesCount&&f.pipes===t||f.pipesCount>1&&-1!==L(f.pipes,t))&&!v&&(j("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,y=!0),d.pause())}function l(e){j("onerror",e),h(),t.removeListener("error",l),0===R(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),h()}function c(){j("onfinish"),t.removeListener("close",u),h()}function h(){j("unpipe"),d.unpipe(t)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,j("pipe count=%d opts=%j",f.pipesCount,e);var p=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr,g=p?i:h;f.endEmitted?M(g):d.once("end",g),t.on("unpipe",n);var m=_(d);t.on("drain",m);var v=!1,y=!1;return d.on("data",a),o(t,"error",l),t.once("close",u),t.once("finish",c),t.emit("pipe",d),f.flowing||(j("pipe resume"),d.resume()),t},l.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,n);return this}var o=L(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},l.prototype.on=function(t,e){var n=q.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&m(this):M(w,this))}return n},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var t=this._readableState;return t.flowing||(j("resume"),t.flowing=!0,x(this,t)),this},l.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(j("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(j("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){r.push(i)||(n=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<z.length;s++)t.on(z[s],r.emit.bind(r,z[s]));return r._read=function(e){j("wrapped _read",e),n&&(n=!1,t.resume())},r},l._fromList=D}).call(e,n(11),n(17))},function(t,e,n){t.exports=n(24).EventEmitter},function(t,e,n){"use strict";function r(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(r||i)return void(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||o(s,this,t));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(o(s,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(t,e){t.emit("error",e)}var o=n(25);t.exports={destroy:r,undestroy:i}},function(t,e,n){"use strict";function r(t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);a.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,n){o(e,t,n)}):o(e)})}function o(t,e,n){if(e)return t.emit("error",e);null!==n&&void 0!==n&&t.push(n);var r=t._writableState,i=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=s;var a=n(15),l=n(22);l.inherits=n(12),l.inherits(s,a),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;a.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(t,e){t.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(t,e,n){function r(t,e){for(var n=e.longWordSplit.wrapCharacters||[],r=e.longWordSplit.forceWrapOnLimit||!1,i=e.wordwrap,s=[],o=0;t.length>i;){var a=t.substr(0,i),l=t.substr(i),u=a.lastIndexOf(n[o]);if(u>-1)t=a.substr(u+1)+l,s.push(a.substr(0,u+1));else{if(++o>=n.length){if(r){if(s.push(a),t=l,t.length>i)continue}else t=a+l,e.preserveNewlines||(t+="\n");break}t=a+l}}return s.push(t),s.join("\n")}var i=n(3),s=n(30);e.wordwrap=function(t,e){var n=e.wordwrap,o=e.preserveNewlines,a=e.lineCharCount,l=s.startsWith(t," ")?" ":"";a+=l.length;var u=[],c=o?t.replace(/\n/g,"\n ").split(/\ +/):s.words(t);return i.each(c,function(t){(n||0===n)&&a>0&&(a+t.length>n||a+t.indexOf("\n")>n)&&(l+=u.join(" ")+"\n",u.length=a=0),(n||0===n)&&e.longWordSplit&&t.length>n&&(t=r(t,e)),u.push(t),-1!==t.indexOf("\n")?(l+=u.join(" "),u.length=0,(a=t.length-(t.lastIndexOf("\n")+1))&&(l+=" ",a++)):a+=t.length+1}),l+=u.join(" "),s.endsWith(t," ")?s.endsWith(l," ")||(l+=" "):l=s.rtrim(l),l},e.arrayZip=function(t){return i.zip.apply(i,t)},e.splitCssSearchTag=function(t){function e(t,e){for(var n,r=[];null!==(n=t.exec(e));)r.push(n[1]);return r}var n={},r=/(^\w*)/g;return n.element=r.exec(t)[1],n.classes=e(/\.([\d\w-]*)/g,t),n.ids=e(/#([\d\w-]*)/g,t),n}},function(e,n,r){var i;void 0!==(i=function(){"use strict";function e(){return i[Math.floor(Math.random()*i.length)]}function n(n){var r=n.get("name"),i=[t("mail","Could not load {tag}{name}{endtag}",{name:r}),t("mail","Could not load {tag}{name}{endtag}",{name:r}),t("mail","There was a problem loading {tag}{name}{endtag}",{name:r})],s=_.map(i,function(t){return t.replace("{tag}","<strong>").replace("{endtag}","</strong>")});return s[Math.floor(Math.random()*s.length)]+" "+e()}function r(){var n=[t("mail","Could not load your message"),t("mail","Could not load the desired message"),t("mail","Could not load the message")];return n[Math.floor(Math.random()*n.length)]+" "+e()}var i=[":-(",":-/",":-\\",":-|",":'-(",":'-/",":'-\\",":'-|"];return{getRandomFolderErrorMessage:n,getRandomMessageErrorMessage:r}}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(){"use strict";return function(t){return humanFileSize(t)}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r,i,s;/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(85),n(245),n(246),n(28),n(247),n(248),n(10),n(18)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",e,r))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,r=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(r=t.ui.ddmanager.drop(this,e)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,r=t.isFunction(n.helper),i=r?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,r,i=this.options,s=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=t(i.containment),void((r=n[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,r,i,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,u=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,r){return r=r||this._uiHash(),t.ui.plugin.call(this,e,[n,r,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,r){var i=t.extend({},n,{item:r.element});r.sortables=[],t(r.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,i))})},stop:function(e,n,r){var i=t.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,t.each(r.sortables,function(){var t=this;t.isOver?(t.isOver=0,r.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,i))})},drag:function(e,n,r){t.each(r.sortables,function(){var i=!1,s=this;s.positionAbs=r.positionAbs,s.helperProportions=r.helperProportions,s.offset.click=r.offset.click,s._intersectsWith(s.containerCache)&&(i=!0,t.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&t.contains(s.element[0],this.element[0])&&(i=!1),i})),i?(s.isOver||(s.isOver=1,r._parent=n.helper.parent(),s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},e.target=s.currentItem[0],s._mouseCapture(e,!0),s._mouseStart(e,!0,!0),s.offset.click.top=r.offset.click.top,s.offset.click.left=r.offset.click.left,s.offset.parent.left-=r.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=r.offset.parent.top-s.offset.parent.top,r._trigger("toSortable",e),r.dropped=s.element,t.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,s.fromOutside=r),s.currentItem&&(s._mouseDrag(e),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",e,s._uiHash(s)),s._mouseStop(e,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(e),n.position=r._generatePosition(e,!0),r._trigger("fromSortable",e),r.dropped=!1,t.each(r.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,r){var i=t("body"),s=r.options;i.css("cursor")&&(s._cursor=i.css("cursor")),i.css("cursor",s.cursor)},stop:function(e,n,r){var i=r.options;i._cursor&&t("body").css("cursor",i._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,r){var i=t(n.helper),s=r.options;i.css("opacity")&&(s._opacity=i.css("opacity")),i.css("opacity",s.opacity)},stop:function(e,n,r){var i=r.options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,r){var i=r.options,s=!1,o=r.scrollParentNotHidden[0],a=r.document[0];o!==a&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+o.offsetHeight-e.pageY<i.scrollSensitivity?o.scrollTop=s=o.scrollTop+i.scrollSpeed:e.pageY-r.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+o.offsetWidth-e.pageX<i.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+i.scrollSpeed:e.pageX-r.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-t(a).scrollTop()<i.scrollSensitivity?s=t(a).scrollTop(t(a).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<i.scrollSensitivity&&(s=t(a).scrollTop(t(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-t(a).scrollLeft()<i.scrollSensitivity?s=t(a).scrollLeft(t(a).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<i.scrollSensitivity&&(s=t(a).scrollLeft(t(a).scrollLeft()+i.scrollSpeed)))),!1!==s&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(r,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,r){var i=r.options;r.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=t(this),n=e.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,r){var i,s,o,a,l,u,c,h,d,f,p=r.options,g=p.snapTolerance,m=n.offset.left,v=m+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(d=r.snapElements.length-1;d>=0;d--)l=r.snapElements[d].left-r.margins.left,u=l+r.snapElements[d].width,c=r.snapElements[d].top-r.margins.top,h=c+r.snapElements[d].height,v<l-g||m>u+g||b<c-g||y>h+g||!t.contains(r.snapElements[d].item.ownerDocument,r.snapElements[d].item)?(r.snapElements[d].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(c-b)<=g,s=Math.abs(h-y)<=g,o=Math.abs(l-v)<=g,a=Math.abs(u-m)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:h,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left)),f=i||s||o||a,"outer"!==p.snapMode&&(i=Math.abs(c-y)<=g,s=Math.abs(h-b)<=g,o=Math.abs(l-m)<=g,a=Math.abs(u-v)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left)),!r.snapElements[d].snapping&&(i||s||o||a||f)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=i||s||o||a||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,r){var i,s=r.options,o=t.makeArray(t(s.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});o.length&&(i=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",i+e)}),this.css("zIndex",i+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,r){var i=t(n.helper),s=r.options;i.css("zIndex")&&(s._zIndex=i.css("zIndex")),i.css("zIndex",s.zIndex)},stop:function(e,n,r){var i=r.options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}}),t.ui.draggable})},function(t,e,n){var r,i,s;/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(244),n(10),n(18)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,s=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(i&&!s&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return r._mouseMove(t)},this._mouseUpDelegate=function(t){return r._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(7);return function(t){var n=md5(t),r=null;if("function"==typeof n.toHsl){var i=n.toHsl();return r=40*Math.round(i[0]/40),new e.SafeString("hsl("+r+", "+i[1]+"%, "+i[2]+"%)")}var s=parseInt("ffffffffffffffffffffffffffffffff",16);return r=parseInt(n,16)/s*256,new e.SafeString("hsl("+r+", 90%, 65%)")}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(262),i=Object.seal(["inbox","flagged","drafts","sent"]);return e.CollectionView.extend({childView:r,className:"folders",collapsed:!0,initialize:function(t){this.collapsed=t.collapsed},filter:function(t){if(!this.collapsed)return!0;var e=t.get("specialRole");return-1!==i.indexOf(e)}})}.call(e,n,e,t))&&(t.exports=r)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";function n(){return s.ui.trigger("sidebar:loading"),s.account.request("entities").then(function(t){return 0===t.length?(s.navigation.trigger("setup"),s.ui.trigger("sidebar:accounts"),Promise.resolve(t)):Promise.all(t.map(function(t){return i.loadAccountFolders(t)})).then(function(){return t})}).then(function(t){return s.ui.trigger("sidebar:accounts"),t},function(e){console.error(e),s.ui.trigger("error:show",t("mail","Error while loading the accounts."))})}var i=r(44),s=r(4);return{loadAccounts:n}}.call(n,r,n,e))&&(e.exports=i)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(3),i=r(6),s=r(272);return i.View.extend({id:"account-form",template:s,templateContext:function(){return{config:this._config}},firstToggle:!0,settingsPage:!1,_config:"",ui:{form:"form",inputs:"input, select",toggleManualMode:".toggle-manual-mode",accountName:'input[name="account-name"]',mailAddress:'input[name="mail-address"]',mailPassword:'input[name="mail-password"]',manualInputs:".manual-inputs",imapHost:'input[name="imap-host"]',imapPort:'input[name="imap-port"]',imapSslMode:"#setup-imap-ssl-mode",imapUser:'input[name="imap-user"]',imapPassword:'input[name="imap-password"]',smtpHost:'input[name="smtp-host"]',smtpSslMode:"#setup-smtp-ssl-mode",smtpPort:'input[name="smtp-port"]',smtpUser:'input[name="smtp-user"]',smtpPassword:'input[name="smtp-password"]',submitButton:"input[type=submit]",emptyContent:"#emptycontent"},events:{"click @ui.submitButton":"onSubmit","submit @ui.form":"onSubmit","click @ui.toggleManualMode":"toggleManualMode","change @ui.imapSslMode":"onImapSslModeChange","change @ui.smtpSslMode":"onSmtpSslModeChange"},initialize:function(t){this._config=n.defaults(t.config||{},{accountName:"",emailAddress:"",autoDetect:!0,imapPort:993,imapSslMode:"ssl",smtpPort:587,smtpSslMode:"tls"}),this.settingsPage=n.defaults(t.settingsPage,{settingsPage:!1})},onRender:function(){this.settingsPage&&(this.getUI("emptyContent").hide(),this.getUI("submitButton").val(t("mail","Save"))),this._config.autoDetect?(this.getUI("mailPassword").show(),this.getUI("manualInputs").hide()):this.getUI("mailPassword").hide(),this.getUI("imapSslMode").find('[value="'+this._config.imapSslMode+'"]').attr({selected:"selected"}),this.getUI("smtpSslMode").find('[value="'+this._config.smtpSslMode+'"]').attr({selected:"selected"})},toggleManualMode:function(t){if(t.stopPropagation(),this._config.autoDetect=!this._config.autoDetect,this.getUI("manualInputs").slideToggle(),this.getUI("imapHost").focus(),this._config.autoDetect)this.getUI("mailPassword").slideToggle(),this.getUI("mailAddress").parent().removeClass("groupbottom").addClass("groupmiddle");else{if(this.firstToggle){var e=this.getUI("mailAddress").val(),n=this.getUI("mailPassword").val();this.getUI("imapUser").val(e),this.getUI("imapPassword").val(n),this.getUI("smtpUser").val(e),this.getUI("smtpPassword").val(n),this.firstToggle=!1}var r=this;this.getUI("mailPassword").slideToggle(function(){r.getUI("mailAddress").parent().removeClass("groupmiddle").addClass("groupbottom"),r.getUI("imapHost").focus()})}},onSubmit:function(t){t.preventDefault(),t.stopPropagation();var e=this.getUI("mailAddress").val(),n=this.getUI("accountName").val(),r=this.getUI("mailPassword").val(),i={accountName:n,emailAddress:e,password:r,autoDetect:!0};this._config.autoDetect||(i={accountName:n,emailAddress:e,password:r,imapHost:this.getUI("imapHost").val(),imapPort:this.getUI("imapPort").val(),imapSslMode:this.getUI("imapSslMode").val(),imapUser:this.getUI("imapUser").val(),imapPassword:this.getUI("imapPassword").val(),smtpHost:this.getUI("smtpHost").val(),smtpPort:this.getUI("smtpPort").val(),smtpSslMode:this.getUI("smtpSslMode").val(),smtpUser:this.getUI("smtpUser").val(),smtpPassword:this.getUI("smtpPassword").val(),autoDetect:!1}),this.triggerMethod("form:submit",i)},onImapSslModeChange:function(){switch(this.getUI("imapSslMode").val()){case"none":case"tls":this.getUI("imapPort").val(143);break;case"ssl":this.getUI("imapPort").val(993)}},onSmtpSslModeChange:function(){switch(this.getUI("smtpSslMode").val()){case"none":case"tls":this.getUI("smtpPort").val(587);break;case"ssl":this.getUI("smtpPort").val(465)}}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){var e=n(2),r=n(8),i=n(45);e(function(){e.ajaxSetup({headers:{requesttoken:r.requestToken}}),console.log("Starting Mail "),i.start()})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){(function(e,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.2+97478eb6
 */
!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function i(t){return"function"==typeof t}function s(t){Y=t}function o(t){H=t}function a(){return void 0!==F?function(){F(u)}:l()}function l(){var t=setTimeout;return function(){return t(u,1)}}function u(){for(var t=0;t<j;t+=2){(0,J[t])(J[t+1]),J[t]=void 0,J[t+1]=void 0}j=0}function c(t,e){var n=this,r=new this.constructor(d);void 0===r[Z]&&L(r);var i=n._state;if(i){var s=arguments[i-1];H(function(){return S(i,r,s,n._result)})}else A(n,r,t,e);return r}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(d);return _(n,t),n}function d(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(t){return nt.error=t,nt}}function m(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function v(t,e,n){H(function(t){var r=!1,i=m(n,e,function(n){r||(r=!0,e!==n?_(t,n):x(t,n))},function(e){r||(r=!0,C(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,C(t,i))},t)}function y(t,e){e._state===tt?x(t,e._result):e._state===et?C(t,e._result):A(e,void 0,function(e){return _(t,e)},function(e){return C(t,e)})}function b(t,e,n){e.constructor===t.constructor&&n===c&&e.constructor.resolve===h?y(t,e):n===nt?(C(t,nt.error),nt.error=null):void 0===n?x(t,e):i(n)?v(t,e,n):x(t,e)}function _(e,n){e===n?C(e,f()):t(n)?b(e,n,g(n)):x(e,n)}function w(t){t._onerror&&t._onerror(t._result),D(t)}function x(t,e){t._state===Q&&(t._result=e,t._state=tt,0!==t._subscribers.length&&H(D,t))}function C(t,e){t._state===Q&&(t._state=et,t._result=e,H(w,t))}function A(t,e,n,r){var i=t._subscribers,s=i.length;t._onerror=null,i[s]=e,i[s+tt]=n,i[s+et]=r,0===s&&t._state&&H(D,t)}function D(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,s=t._result,o=0;o<e.length;o+=3)r=e[o],i=e[o+n],r?S(n,r,i,s):i(s);t._subscribers.length=0}}function E(){this.error=null}function T(t,e){try{return t(e)}catch(t){return rt.error=t,rt}}function S(t,e,n,r){var s=i(n),o=void 0,a=void 0,l=void 0,u=void 0;if(s){if(o=T(n,r),o===rt?(u=!0,a=o.error,o.error=null):l=!0,e===o)return void C(e,p())}else o=r,l=!0;e._state!==Q||(s&&l?_(e,o):u?C(e,a):t===tt?x(e,o):t===et&&C(e,o))}function I(t,e){try{e(function(e){_(t,e)},function(e){C(t,e)})}catch(e){C(t,e)}}function k(){return it++}function L(t){t[Z]=it++,t._state=void 0,t._result=void 0,t._subscribers=[]}function M(){return new Error("Array Methods must be provided an Array")}function M(){return new Error("Array Methods must be provided an Array")}function O(t){return new st(this,t).promise}function N(t){var e=this;return new e(V(t)?function(n,r){for(var i=t.length,s=0;s<i;s++)e.resolve(t[s]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function R(t){var e=this,n=new e(d);return C(n,t),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(){var t=void 0;if(void 0!==r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=ot}var U=void 0;U=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var V=U,j=0,F=void 0,Y=void 0,H=function(t,e){J[j]=t,J[j+1]=e,2===(j+=2)&&(Y?Y(u):X())},z="undefined"!=typeof window?window:void 0,W=z||{},$=W.MutationObserver||W.WebKitMutationObserver,G="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3),X=void 0;X=G?function(){return function(){return e.nextTick(u)}}():$?function(){var t=0,e=new $(u),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():K?function(){var t=new MessageChannel;return t.port1.onmessage=u,function(){return t.port2.postMessage(0)}}():void 0===z?function(){try{var t=n(92);return F=t.runOnLoop||t.runOnContext,a()}catch(t){return l()}}():l();var Z=Math.random().toString(36).substring(16),Q=void 0,tt=1,et=2,nt=new E,rt=new E,it=0,st=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[Z]||L(this.promise),V(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&x(this.promise,this._result))):C(this.promise,M())}return t.prototype._enumerate=function(t){for(var e=0;this._state===Q&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var i=g(t);if(i===c&&t._state!==Q)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===ot){var s=new n(d);b(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===Q&&(this._remaining--,t===et?C(r,n):this._result[e]=n),0===this._remaining&&x(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){return n._settledAt(tt,e,t)},function(t){return n._settledAt(et,e,t)})},t}(),ot=function(){function t(e){this[Z]=k(),this._result=this._state=void 0,this._subscribers=[],d!==e&&("function"!=typeof e&&q(),this instanceof t?I(this,e):P())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,n=e.constructor;return e.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})},t}();return ot.prototype.then=c,ot.all=O,ot.race=N,ot.resolve=h,ot.reject=R,ot._setScheduler=s,ot._setAsap=o,ot._asap=H,ot.polyfill=B,ot.Promise=ot,ot})}).call(e,n(17),n(11))},function(t,e){},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(94),r=n(6),i=n(2),s=n(8),o=n(4),a=n(95),l=n(260),u=n(266),c=n(42),h=n(43),d=n(268),f=n(271),p=n(274),g=n(279);n(281);var m=Object.freeze({ERROR:-2,LOADING:-1,FOLDER_CONTENT:0,SETUP:1,ACCOUNT_SETTINGS:2,KEYBOARD_SHORTCUTS:3});return r.View.extend({el:"#app",accountsView:null,activeContent:null,regions:{content:"#app-content .mail-content",setup:"#setup"},initialize:function(){this.bindUIElements(),this.listenTo(o.notification,"favicon:change",this.changeFavicon),this.listenTo(o.ui,"notification:show",this.showNotification),this.listenTo(o.ui,"error:show",this.showError),this.listenTo(o.ui,"setup:show",this.showSetup),this.listenTo(o.ui,"foldercontent:show",this.showFolderContent),this.listenTo(o.ui,"content:error",this.showContentError),this.listenTo(o.ui,"content:loading",this.showContentLoading),this.listenTo(o.ui,"title:update",this.updateTitle),this.listenTo(o.ui,"accountsettings:show",this.showAccountSettings),this.listenTo(o.ui,"search:set",this.setSearchQuery),this.listenTo(o.ui,"sidebar:loading",this.showSidebarLoading),this.listenTo(o.ui,"sidebar:accounts",this.showSidebarAccounts),this.listenTo(o.ui,"keyboardShortcuts:show",this.showKeyboardShortcuts),i(window).focus(this.onDocumentShow.bind(this)),i(e).on("click",this.onDocumentClick),i(e).keyup(this.onKeyUp),window.addEventListener("resize",this.onWindowResize),i(e).on("click",function(t){o.ui.trigger("document:click",t)}),i(e).on("click","#forward-button",function(){o.message.trigger("forward")}),i(e).on("click",".link-mailto",function(t){o.ui.trigger("composer:show",t)}),i(e).on("click","#mail-message-close",function(){i("#mail-message").addClass("hidden-mobile")}),i(e).on("click","#show-images-button",function(){i("#show-images-text").hide(),i("iframe").contents().find("img[data-original-src]").each(function(){i(this).attr("src",i(this).attr("data-original-src")),i(this).show()}),i("iframe").contents().find("[data-original-style]").each(function(){i(this).attr("style",i(this).attr("data-original-style"))})}),this.navigation=new d({accounts:n(1).accounts}),this.navigation.showChildView("settings",new u)},onDocumentClick:function(t){o.ui.trigger("document:click",t)},onDocumentShow:function(t){t.preventDefault(),this.changeFavicon(s.filePath("mail","img","favicon.png"))},onKeyUp:function(t){var e=t.which;0!==i("input:focus").length||0!==i("textarea:focus").length||t.ctrlKey||o.keyboard.trigger("keyup",t,e)},onWindowResize:function(){var t=i("#mail-content iframe");t.height(t.contents().find("html").height()+20)},render:function(){},changeFavicon:function(t){i('link[rel="icon"]').attr("href",t)},showNotification:function(t){s.Notification.showTemporary(t)},showError:function(t){s.Notification.showTemporary(t),i("#mail_message").removeClass("icon-loading")},showSetup:function(){this.activeContent=m.SETUP,this.showChildView("content",new f({config:{accountName:i("#user-displayname").text(),emailAddress:i("#user-email").text()}}))},showKeyboardShortcuts:function(){this.activeContent=m.KEYBOARD_SHORTCUTS,this.showChildView("content",new g({}))},showFolderContent:function(t,e,n){this.activeContent=m.FOLDER_CONTENT,n.account=t,n.folder=e,this.showChildView("content",new a(n))},showContentError:function(t,e){this.activeContent=m.ERROR,this.showChildView("content",new c({text:t,icon:e}))},showContentLoading:function(t){this.activeContent=m.LOADING,this.showChildView("content",new h({text:t}))},updateTitle:function(){var t="";if(n(1).currentAccount){if(-1!==n(1).currentAccount.get("accountId")){t=" - "+n(1).currentAccount.get("email")}var e=n(1).currentFolder,r=e.name||e.get("name"),i=0;i="Drafts"===r?e.total||e.get("total"):e.unseen||e.get("unseen"),window.document.title=i>0?r+" ("+i+")"+t+" - Mail - "+oc_defaults.title:r+t+" - Mail - "+oc_defaults.title}},showAccountSettings:function(t){this.activeContent=m.ACCOUNT_SETTINGS,this.showChildView("content",new p({account:t}))},setSearchQuery:function(t){t=t||"",i("#searchbox").val(t)},showSidebarLoading:function(){i("#app-navigation").addClass("icon-loading"),this.navigation.getChildView("accounts")&&this.navigation.detachChildView("accounts")},showSidebarAccounts:function(){i("#app-navigation").removeClass("icon-loading"),this.navigation.showChildView("accounts",new l({collection:n(1).accounts})),o.ui.trigger("navigation:newmessage:show")}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function(e,n){t.exports=n()}(0,function(){var t,e=[],n=document,r=n.documentElement.doScroll,i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener("DOMContentLoaded",t=function(){for(n.removeEventListener("DOMContentLoaded",t),i=1;t=e.shift();)t()}),function(t){i?setTimeout(t,0):e.push(t)}})},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(2),i=r(3),s=r(9),o=r(6),a=r(4),l=r(47),u=r(131),c=r(242),h=r(42),d=r(43),f=r(259),p=Object.freeze({ERROR:-2,MESSAGE:1,COMPOSER:2});return o.View.extend({template:f,className:"container",detailView:null,account:null,folder:null,searchQuery:null,composer:null,regions:{messages:"#mail-messages",message:"#mail-message"},initialize:function(t){this.account=t.account,this.folder=t.folder,this.searchQuery=t.searchQuery,this.listenTo(a.ui,"message:show",this.onShowMessage),this.listenTo(a.ui,"message:error",this.onShowError),this.listenTo(a.ui,"composer:show",this.onShowComposer),this.listenTo(a.ui,"composer:leave",this.onComposerLeave),this.listenTo(a.keyboard,"keyup",this.onKeyUp),this.listenTo(a.ui,"composer:events:undelegate",function(){this.composer&&this.composer.undelegateEvents()}),this.listenTo(a.ui,"message:loading",this.onMessageLoading)},onRender:function(){this.showChildView("messages",new c({collection:this.folder.messages,searchQuery:this.searchQuery}))},onShowMessage:function(t,e){a.ui.trigger("composer:events:undelegate");var n=new s.Model(e);this.showChildView("message",new u({account:this.account,folder:this.folder,message:t,model:n})),this.detailView=p.MESSAGE,this.markMessageAsRead(t)},markMessageAsRead:function(t){!1==n(window).width()<768&&a.message.trigger("flag",t,"unseen",!1)},onShowError:function(t){this.showChildView("message",new h({text:t})),this.detailView=p.ERROR},onShowComposer:function(e,s){if(s=!i.isUndefined(s)&&s,n(".tooltip").remove(),n("#mail_new_message").prop("disabled",!0),n("#mail-message").removeClass("hidden-mobile"),this.showChildView("message",new l({accounts:r(1).accounts,data:e})),this.detailView=p.COMPOSER,this.composer=this.getChildView("message"),e&&e.hasHtmlBody&&a.ui.trigger("error:show",t("mail","Opening HTML drafts is not supported yet.")),this.composer.focusTo(),e&&!i.isUndefined(e.currentTarget)&&!i.isUndefined(n(e.currentTarget).data().email)){var o='"'+n(e.currentTarget).data().label+'" <'+n(e.currentTarget).data().email+">";this.composer.setTo(o),this.composer.focusSubject()}s||a.ui.trigger("messagesview:message:setactive",null)},onComposerLeave:function(){this.detailView===p.COMPOSER&&(this.detailView=null,this.composer&&!0===this.composer.hasData&&(!0===this.composer.hasUnsavedChanges?this.composer.saveDraft(function(){a.ui.trigger("notification:show",t("mail","Draft saved!"))}):a.ui.trigger("notification:show",t("mail","Draft saved!"))))},onMessageLoading:function(t){this.showChildView("message",new d({text:t}))},onKeyUp:function(t,e){var i,s;switch(e){case 46:n(".mail-message-summary.active .icon-delete.action.delete").click();break;case 39:case 74:t.preventDefault(),a.message.trigger("messagesview:message:next");break;case 37:case 75:t.preventDefault(),a.message.trigger("messagesview:message:prev");break;case 67:t.preventDefault(),a.ui.trigger("composer:show");break;case 82:t.preventDefault(),a.ui.trigger("messagesview:messages:update");break;case 83:t.preventDefault(),i=r(1).currentMessage,i&&(s=i.get("flags").get("flagged"),a.message.trigger("flag",i,"flagged",!s));break;case 85:t.preventDefault(),i=r(1).currentMessage,i&&(s=i.get("flags").get("unseen"),a.message.trigger("flag",i,"unseen",!s))}}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r,i,s;/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(97),n(27),n(48),n(28),n(10),n(18)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,r,i=this.element[0].nodeName.toLowerCase(),s="textarea"===i,o="input"===i;this.isMultiLine=s||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return e=!0,r=!0,void(n=!0);e=!1,r=!1,n=!1;var s=t.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",i);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",i);break;case s.UP:e=!0,this._keyEvent("previous",i);break;case s.DOWN:e=!0,this._keyEvent("next",i);break;case s.ENTER:this.menu.active&&(e=!0,i.preventDefault(),this.menu.select(i));break;case s.TAB:this.menu.active&&this.menu.select(i);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!n){var i=t.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(t){if(r)return r=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var r,i;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:i})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value),(r=n.item.attr("aria-label")||i.value)&&t.trim(r).length&&(this.liveRegion.children().hide(),t("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(e,n){var r=n.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=r})),!1!==this._trigger("select",e,{item:r})&&this._value(r.value),this.term=this._value(),this.close(e),this.selectedItem=r}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,r=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,r){r(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,i){r.xhr&&r.xhr.abort(),r.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){i(t)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),r=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||r)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var r=this;t.each(n,function(t,n){r._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var r=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return r.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete})},function(t,e,n){var r,i,s;/*!
 * jQuery UI Menu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(27),n(48),n(28),n(98),n(10),n(18)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),r=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),r=t(e.currentTarget);n[0]===r[0]&&(this._removeClass(r.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,r))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,r,i,s,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,r=this.previousFilter||"",s=!1,i=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),i===r?s=!0:i=r+i,n=this._filterMenuItems(i),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(i=String.fromCharCode(e.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(e,n),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,r,i,s,o=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),r=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),r=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(r,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(r,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),i=n.not(".ui-menu-item, .ui-menu-divider"),s=i.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,r,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),r=this.active.children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,r,i,s,o,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,i=e.offset().top-this.activeMenu.offset().top-n-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),i<0?this.activeMenu.scrollTop(s+i):i+a>o&&this.activeMenu.scrollTop(s+i-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(e),this._removeClass(r.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=r},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var r;this.active&&(r="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[e]()),this.focus(n,r)},nextPage:function(e){var n,r,i;if(!this.active)return void this.next(e);this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-r-i<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(e){var n,r,i;if(!this.active)return void this.next(e);this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-r+i>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}})})},function(t,e,n){var r,i,s;/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}})})},function(t,e,n){var r,i,s;/*!
	Autosize 4.0.0
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(n,o){i=[e,t],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(0,function(t,e){"use strict";function n(t){function e(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function n(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function r(){var e=t.style.height,r=n(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="";var s=t.scrollHeight+a;if(0===t.scrollHeight)return void(t.style.height=e);t.style.height=s+"px",l=t.clientWidth,r.forEach(function(t){t.node.scrollTop=t.scrollTop}),i&&(document.documentElement.scrollTop=i)}function i(){r();var n=Math.round(parseFloat(t.style.height)),i=window.getComputedStyle(t,null),s="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):t.offsetHeight;if(s!==n?"hidden"===i.overflowY&&(e("scroll"),r(),s="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==i.overflowY&&(e("hidden"),r(),s="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),u!==s){u=s;var a=o("autosize:resized");try{t.dispatchEvent(a)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!s.has(t)){var a=null,l=t.clientWidth,u=null,c=function(){t.clientWidth!==l&&i()},h=function(e){window.removeEventListener("resize",c,!1),t.removeEventListener("input",i,!1),t.removeEventListener("keyup",i,!1),t.removeEventListener("autosize:destroy",h,!1),t.removeEventListener("autosize:update",i,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),s.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",h,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",i,!1),window.addEventListener("resize",c,!1),t.addEventListener("input",i,!1),t.addEventListener("autosize:update",i,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",s.set(t,{destroy:h,update:i}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),a="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(a)&&(a=0),i()}()}}function r(t){var e=s.get(t);e&&e.destroy()}function i(t){var e=s.get(t);e&&e.update()}var s="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(n){return e[t.indexOf(n)]},set:function(n,r){-1===t.indexOf(n)&&(t.push(n),e.push(r))},delete:function(n){var r=t.indexOf(n);r>-1&&(t.splice(r,1),e.splice(r,1))}}}(),o=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(a=function(t){return t},a.destroy=function(t){return t},a.update=function(t){return t}):(a=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t)}),t},a.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],r),t},a.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t}),e.exports=a})},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(3),i=r(6),s=r(8),o=r(4),a=r(101),l=r(119),u=r(120);return i.CompositeView.extend({collection:null,childView:a,childViewContainer:"ul",template:l,ui:{fileInput:"#local-attachments"},events:{"click #add-cloud-attachment":"addCloudAttachment","click #add-local-attachment":"addLocalAttachment","change @ui.fileInput":"onLocalAttachmentsChanged"},initialize:function(t){this.collection=t.collection},addCloudAttachment:function(){var e=t("mail","Choose a file to add as attachment");s.dialogs.filepicker(e,n.bind(this.onCloudFileSelected,this))},onCloudFileSelected:function(t){this.collection.add({fileName:t})},addLocalAttachment:function(){this.ui.fileInput.val(""),this.ui.fileInput.click()},onLocalAttachmentsChanged:function(t){for(var e=t.target.files,n=0;n<e.length;n++){var r=e[n];this.uploadLocalAttachment(r)}},uploadLocalAttachment:function(e){var n=new u({fileName:e.name});o.attachment.request("upload:local",e,n).then(function(t){o.attachment.request("upload:finished",n,t)}).catch(function(){o.attachment.request("upload:finished",n);var r=t("mail","An error occurred while uploading {fname}",{fname:e.name});o.ui.trigger("error:show",r)}),this.collection.add(n)}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";n(102);var e=n(6),r=n(4),i=n(103);return e.View.extend({tagName:"li",template:i,ui:{attachmentName:".new-message-attachment-name"},events:{"click .icon-delete":"removeAttachment"},modelEvents:{"change:progress":"onProgress","change:uploadStatus":"onUploadStatus"},onRender:function(){this.model.get("uploadRequest")&&(this.ui.attachmentName.progressbar({value:0,max:1}),this.ui.attachmentName.removeClass("ui-progressbar").removeClass("ui-widget-content").addClass("upload-ongoing"))},removeAttachment:function(){r.attachment.request("upload:abort",this.model)},onProgress:function(){var t=this.model.get("progress");this.ui.attachmentName.progressbar("option","value",t)},onUploadStatus:function(){switch(this.model.get("uploadStatus")){case 1:this.ui.attachmentName.addClass("upload-ongoing");break;case 2:this.ui.attachmentName.removeClass("upload-ongoing").addClass("upload-warning");break;case 3:this.ui.attachmentName.removeClass("upload-ongoing").removeClass("upload-warning"),this.ui.attachmentName.find(".ui-progressbar-value").fadeOut()}}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r,i,s;/*!
 * jQuery UI Progressbar 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(10),n(18)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})})},function(t,e,n){var r=n(7);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s;return'<div class="new-message-attachment-name">'+t.escapeExpression((s=null!=(s=n.displayName||(null!=e?e.displayName:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:t.nullContext||{},{name:"displayName",hash:{},data:i}):s))+'</div>\n<div class="new-message-attachments-action svg icon-delete"></div>\n'},useData:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function s(){var t=new a.HandlebarsEnvironment;return f.extend(t,a),t.SafeString=u.default,t.Exception=h.default,t.Utils=f,t.escapeExpression=f.escapeExpression,t.VM=g,t.template=function(e){return g.template(e,t)},t}e.__esModule=!0;var o=n(52),a=i(o),l=n(116),u=r(l),c=n(19),h=r(c),d=n(13),f=i(d),p=n(117),g=i(p),m=n(118),v=r(m),y=s();y.create=s,v.default(y),y.default=y,e.default=y,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){o.default(t),l.default(t),c.default(t),d.default(t),p.default(t),m.default(t),y.default(t)}e.__esModule=!0,e.registerDefaultHelpers=i;var s=n(106),o=r(s),a=n(107),l=r(a),u=n(108),c=r(u),h=n(109),d=r(h),f=n(110),p=r(f),g=n(111),m=r(g),v=n(112),y=r(v)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(13);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,s=n.fn;if(!0===e)return s(this);if(!1===e||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var o=r.createFrame(n.data);o.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:o}}return s(e,n)})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(13),i=n(19),s=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t){t.registerHelper("each",function(t,e){function n(e,n,s){u&&(u.key=e,u.index=n,u.first=0===n,u.last=!!s,c&&(u.contextPath=c+e)),l+=i(t[e],{data:u,blockParams:r.blockParams([t[e],e],[c+e,null])})}if(!e)throw new s.default("Must pass iterator to #each");var i=e.fn,o=e.inverse,a=0,l="",u=void 0,c=void 0;if(e.data&&e.ids&&(c=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(u=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var h=t.length;a<h;a++)a in t&&n(a,a,a===t.length-1);else{var d=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==d&&n(d,a-1),d=f,a++);void 0!==d&&n(d,a-1,!0)}return 0===a&&(l=o(this)),l})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(19),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(13);e.default=function(t){t.registerHelper("if",function(t,e){return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(13);e.default=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&(i=r.createFrame(e.data),i.contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";function r(t){s.default(t)}e.__esModule=!0,e.registerDefaultDecorators=r;var i=n(114),s=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(13);e.default=function(t){t.registerDecorator("inline",function(t,e,n,i){var s=t;return e.partials||(e.partials={},s=function(i,s){var o=n.partials;n.partials=r.extend({},o,e.partials);var a=t(i,s);return n.partials=o,a}),e.partials[i.args[0]]=i.fn,s})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(13),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];console[e].apply(console,r)}}};e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){this.string=t}e.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){var e=t&&t[0]||1,n=g.COMPILER_REVISION;if(e!==n){if(e<n){var r=g.REVISION_CHANGES[n],i=g.REVISION_CHANGES[e];throw new p.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new p.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function i(t,e){function n(n,r,i){i.hash&&(r=d.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,i);var s=e.VM.invokePartial.call(this,n,r,i);if(null==s&&e.compile&&(i.partials[i.name]=e.compile(n,t.compilerOptions,e),s=i.partials[i.name](r,i)),null!=s){if(i.indent){for(var o=s.split("\n"),a=0,l=o.length;a<l&&(o[a]||a+1!==l);a++)o[a]=i.indent+o[a];s=o.join("\n")}return s}throw new p.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(e){function n(e){return""+t.main(i,e,i.helpers,i.partials,o,l,a)}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s.data;r._setup(s),!s.partial&&t.useData&&(o=u(e,o));var a=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(a=s.depths?e!=s.depths[0]?[e].concat(s.depths):s.depths:[e]),(n=c(t.main,n,i,s.depths||[],o,l))(e,s)}if(!e)throw new p.default("No environment passed to template");if(!t||!t.main)throw new p.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i={strict:function(t,e){if(!(e in t))throw new p.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:d.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var o=this.programs[t],a=this.fn(t);return e||i||r||n?o=s(this,t,a,e,n,r,i):o||(o=this.programs[t]=s(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=d.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=i.merge(n.decorators,e.decorators)))},r._child=function(e,n,r,o){if(t.useBlockParams&&!r)throw new p.default("must pass block params");if(t.useDepths&&!o)throw new p.default("must pass parent depths");return s(i,e,t[e],n,0,r,o)},r}function s(t,e,n,r,i,s,o){function a(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o;return!o||e==o[0]||e===t.nullContext&&null===o[0]||(a=[e].concat(o)),n(t,e,t.helpers,t.partials,i.data||r,s&&[i.blockParams].concat(s),a)}return a=c(n,a,t,o,r,s),a.program=e,a.depth=o?o.length:0,a.blockParams=i||0,a}function o(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function a(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==l&&function(){n.data=g.createFrame(n.data);var t=n.fn;i=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=g.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=d.extend({},n.partials,t.partials))}(),void 0===t&&i&&(t=i),void 0===t)throw new p.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function l(){return""}function u(t,e){return e&&"root"in e||(e=e?g.createFrame(e):{},e.root=t),e}function c(t,e,n,r,i,s){if(t.decorator){var o={};e=t.decorator(e,o,n,r&&r[0],i,s,r),d.extend(e,o)}return e}e.__esModule=!0,e.checkRevision=r,e.template=i,e.wrapProgram=s,e.resolvePartial=o,e.invokePartial=a,e.noop=l;var h=n(13),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h),f=n(19),p=function(t){return t&&t.__esModule?t:{default:t}}(f),g=n(52)},function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default}).call(e,n(11))},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a=null!=e?e:t.nullContext||{},l=t.escapeExpression;return'<ul></ul>\n<button type="button" id="add-local-attachment" style="display: inline-block;">\n  <span class="icon-upload"/> '+l(r(n(0)).call(a,"Upload attachment",{name:"t",hash:{},data:o}))+'\n</button>\n<button type="button" id="add-cloud-attachment" style="display: inline-block;">\n  <span class="icon-folder"/> '+l(r(n(0)).call(a,"Add attachment from Files",{name:"t",hash:{},data:o}))+'\n</button>\n<input type="file" multiple id="local-attachments" style="display: none;">\n'},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";return n(51).extend({defaults:{progress:0,uploadStatus:0,isLocal:!0},onProgress:function(t){t.lengthComputable&&(this.set("uploadStatus",1),this.set("progress",t.loaded/t.total))}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({1:function(t,e,i,s,o){var a=t.lambda,l=t.escapeExpression;return'\t\t<option value="'+l(a(null!=e?e.id:e,e))+'">'+l(r(n(0)).call(null!=e?e:t.nullContext||{},"from",{name:"t",hash:{},data:o}))+" "+l(a(null!=e?e.name:e,e))+" &lt;"+l(a(null!=e?e.emailAddress:e,e))+"&gt;</option>\n"},3:function(t,e,n,r,i){return"\t\t\thidden\n\t\t\t"},5:function(t,e,n,r,i){return"\t\t    hidden\n\t\t    "},7:function(t,e,i,s,o){var a=t.escapeExpression;return'\t\t<input type="text" name="subject" value="'+a(t.lambda(null!=e?e.subject:e,e))+'" class="subject" autocomplete="off"\n\t\t\tplaceholder="'+a(r(n(0)).call(null!=e?e:t.nullContext||{},"Subject",{name:"t",hash:{},data:o}))+'" />\n'},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a,l=null!=e?e:t.nullContext||{},u=t.escapeExpression,c=t.lambda;return'<div class="message-composer">\n\t<select class="mail-account">\n'+(null!=(a=i.each.call(l,null!=e?e.aliases:e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'\t</select>\n\t<div class="composer-fields">\n\t\t<a href="#" class="composer-cc-bcc-toggle transparency\n'+(null!=(a=r(n(122)).call(l,{name:"ifHasCC",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o}))?a:"")+'">'+u(r(n(0)).call(l,"+ cc/bcc",{name:"t",hash:{},data:o}))+'</a>\n\t\t<input type="text" name="to"\n\t\t    value="'+u(r(n(29)).call(l,null!=e?e.to:e,{name:"printAddressListPlain",hash:{},data:o}))+'"\n\t\t    class="to recipient-autocomplete" />\n\t\t<label class="to-label transparency" for="to">'+u(r(n(0)).call(l,"to",{name:"t",hash:{},data:o}))+'</label>\n\t\t<div class="composer-cc-bcc\n'+(null!=(a=r(n(123)).call(l,{name:"unlessHasCC",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?a:"")+'">\n\t\t\t<input type="text"\n\t\t\t       name="cc"\n\t\t\t       class="cc recipient-autocomplete"\n\t\t\t       value="'+u(r(n(29)).call(l,null!=e?e.cc:e,{name:"printAddressListPlain",hash:{},data:o}))+'"\n\t\t\t       />\n\t\t\t<label for="cc" class="cc-label transparency">'+u(r(n(0)).call(l,"cc",{name:"t",hash:{},data:o}))+'</label>\n\t\t\t<input type="text"\n\t\t\t       name="bcc"\n\t\t\t       class="bcc recipient-autocomplete"\n\t\t\t       value="'+u(r(n(29)).call(l,null!=e?e.bcc:e,{name:"printAddressListPlain",hash:{},data:o}))+'"\n\t\t\t       />\n\t\t\t<label for="bcc" class="bcc-label transparency">'+u(r(n(0)).call(l,"bcc",{name:"t",hash:{},data:o}))+"</label>\n\t\t</div>\n"+(null!=(a=i.unless.call(l,null!=e?e.isReply:e,{name:"unless",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?a:"")+'\t\t<textarea name="body"\n\t\t\t  class="message-body"\n\t\t\t  placeholder="'+u(r(n(0)).call(l,"Message ",{name:"t",hash:{},data:o}))+'">'+u(c(null!=e?e.message:e,e))+'</textarea>\n\t</div>\n\t<div class="submit-message-wrapper">\n\t\t<input class="submit-message send primary" type="submit" value="'+u(c(null!=e?e.submitButtonTitle:e,e))+'" disabled>\n\t\t<div class="submit-message-wrapper-inside" ></div>\n\t</div>\n\t<div class="new-message-attachments">\n\t</div>\n</div>\n'},useData:!0})},function(t,e,n){var r;void 0!==(r=function(){"use strict";return function(t){var e=this.cc.length>0,n=this.bcc.length>0;return e||n?t.fn(this):t.inverse(this)}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(){"use strict";return function(t){var e=this.cc.length>0,n=this.bcc.length>0;return e||n?t.inverse(this):t.fn(this)}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(9),r=n(55),i=n(8);return e.Collection.extend({model:r,url:function(){return i.generateUrl("apps/mail/api/accounts")},comparator:function(t){return t.get("accountId")}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(3),r=n(9);return r.Model.extend({messages:void 0,account:void 0,folder:void 0,folders:void 0,defaults:{open:!1,folders:[],messagesLoaded:!1},initialize:function(){var t=n(56),r=n(57),i=n(128);this.account=this.get("account"),this.unset("account"),this.folders=new t(this.get("folders")||[]),this.folders.forEach(e.bind(function(t){t.account=this.account},this)),this.unset("folders"),this.account&&!0===this.account.get("isUnified")?this.messages=new i:this.messages=new r},toggleOpen:function(){this.set({open:!this.get("open")})},addMessage:function(t){return-1!==this.account.id&&(t.folder=this),t=this.messages.add(t),-1===this.account.id&&t.set("unifiedId",this.messages.getUnifiedId(t)),t},addMessages:function(t){var n=this;return e.map(t,n.addMessage,this)},addFolder:function(t){t=this.folders.add(t),t.account=this.account},toJSON:function(){var t=r.Model.prototype.toJSON.call(this);return t.id||(t.id=this.cid),t}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(9),r=n(127);return e.Model.extend({folder:void 0,defaults:{flags:[],active:!1,from:[],to:[],cc:[],bcc:[]},initialize:function(){this.set("flags",new r(this.get("flags"))),this.get("folder")&&(this.folder=this.get("folder"),this.unset("folder")),this.listenTo(this.get("flags"),"change",this._transformEvent),this.set("dateMicro",1e3*this.get("dateInt"))},_transformEvent:function(){this.trigger("change"),this.trigger("change:flags",this)},toJSON:function(){var t=e.Model.prototype.toJSON.call(this);return t.flags&&t.flags.toJSON&&(t.flags=t.flags.toJSON()),t.id||(t.id=this.cid),t}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";return n(9).Model.extend({defaults:{answered:!1}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";return n(57).extend({modelId:function(t){return t.unifiedId},getUnifiedId:function(t){return t.id+"-"+t.folder.id+"-"+t.folder.account.id}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(9),r=n(130);return e.Collection.extend({model:r})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(9);return e.Model.extend({defaults:{},initialize:function(){},toJSON:function(){var t=e.Model.prototype.toJSON.call(this);return t.alias&&t.alias.toJSON&&(t.alias=t.alias.toJSON()),t.id||(t.id=this.cid),t}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(3),i=n(2);n(49);var s=n(50),o=n(132),a=n(47),l=n(232),u=n(240),c=n(241);return e.View.extend({template:u,className:"mail-message-container",message:null,messageBody:null,reply:null,account:null,folder:null,ui:{messageIframe:"iframe"},regions:{replyComposer:"#reply-composer",attachments:".mail-message-attachments"},initialize:function(t){if(this.account=t.account,this.folder=t.folder,this.message=t.message,this.messageBody=t.model,this.reply=c.buildReply(this.message,this.messageBody),!this.messageBody.get("hasHtmlBody")){var e=new Date(this.messageBody.get("dateIso")),r=e.getMinutes(),s=o.htmlToText(this.messageBody.get("body"));this.reply.body="\n\n\n\n"+this.messageBody.get("from")[0].label+"  "+i.datepicker.formatDate("D, d. MM yy ",e)+e.getHours()+":"+(r<10?"0":"")+r+"\n> "+s.replace(/\n/g,"\n> ")}this.messageBody.get("hasHtmlBody")||(n(1).currentMessageBody=this.messageBody.get("body")),n(1).currentMessageSubject=this.messageBody.get("subject"),adjustControlsWidth(),this.messageBody.get("hasHtmlBody")&&i("#forward-button").hide()},onIframeLoad:function(){this.getUI("messageIframe").height(this.getUI("messageIframe").contents().find("html").height()+20),this.getUI("messageIframe").contents().find("body").css({margin:"0","font-weight":"normal","font-size":".8em","line-height":"1.6em","font-family":'"Open Sans", Frutiger, Calibri, "Myriad Pro", Myriad, sans-serif',color:"#000"}),this.getUI("messageIframe").contents().find("font").prop({face:"Open Sans",color:"#000"}),this.getUI("messageIframe").contents().find(".moz-text-flowed").css({"font-family":"inherit","font-size":"inherit"}),this.getUI("messageIframe").height(this.getUI("messageIframe").contents().find("html").height()+20),this.getUI("messageIframe").contents().find("blockquote").css({color:"#888"}),this.getUI("messageIframe").parent().removeClass("icon-loading");var t=!1;this.getUI("messageIframe").contents().find("[data-original-src],[data-original-style]").length&&(t=!0),t?i("#show-images-text").show():i("#show-images-text").hide();var e=this.getUI("messageIframe").contents().find("body").html();e=o.htmlToText(e);var r=new Date(this.messageBody.get("dateIso"));this.getChildView("replyComposer").setReplyBody(this.messageBody.get("from")[0],r,e),n(1).currentMessageBody=e,this.$("#forward-button").show()},onRender:function(){this.getUI("messageIframe").on("load",r.bind(this.onIframeLoad,this)),this.showChildView("attachments",new l({collection:new s(this.messageBody.get("attachments")),message:this.message})),this.showChildView("replyComposer",new a({type:"reply",accounts:n(1).accounts,account:this.account,folder:this.folder,repliedMessage:this.message,data:this.reply}))}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t){return r.fromString(t,{noLinkBrackets:!0,ignoreHref:!0,ignoreImage:!0,wordwrap:78})}var r=(n(2),n(133));return{htmlToText:e}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){t.exports=n(134)},function(t,e,n){function r(t,e){e=e||{},l.defaults(e,{wordwrap:80,tables:[],preserveNewlines:!1,uppercaseHeadings:!0,singleNewLineParagraphs:!1,hideLinkHrefIfSameAsText:!1,linkHrefBaseUrl:null,noLinkBrackets:!1,noAnchorUrl:!0,baseElement:"body",returnDomByDefault:!0,format:{},decodeOptions:{isAttributeValue:!1,strict:!1},longWordSplit:{wrapCharacters:[],forceWrapOnLimit:!1}});var n=new c.DefaultHandler(function(t,e){},{verbose:!0});new c.Parser(n).parseComplete(t),e.lineCharCount=0;for(var r="",s=Array.isArray(e.baseElement)?e.baseElement:[e.baseElement],a=0;a<s.length;++a)r+=o(i(n.dom,e,s[a]),e);return u.strip(r)}function i(t,e,n){function r(t){i||l.each(t,function(t){if(!i){if(t.name===s.element){var e=t.attribs&&t.attribs.class?t.attribs.class.split(" "):[],n=t.attribs&&t.attribs.id?t.attribs.id.split(" "):[];if(s.classes.every(function(t){return e.indexOf(t)>=0})&&s.ids.every(function(t){return n.indexOf(t)>=0}))return void(i=[t])}t.children&&r(t.children)}})}var i=null,s=h.splitCssSearchTag(n);return r(t),e.returnDomByDefault?i||t:i}function s(t,e){function n(t){return t.substr(1)}function r(t){return function(e){return u.startsWith(e,t)}}function i(t,e){return l(t).chain().filter(r(e)).map(n).value()}if(!0===e)return!0;var s=i(e,"."),o=i(e,"#");return t&&(l.include(s,t.class)||l.include(o,t.id))}function o(t,e,n){arguments.length<3&&(n="");var r=/\s$/,i=l.assign({},d,e.format);return l.each(t,function(t){switch(t.type){case"tag":switch(t.name.toLowerCase()){case"img":n+=i.image(t,e);break;case"a":t.trimLeadingSpace=r.test(n),n+=i.anchor(t,o,e);break;case"p":n+=i.paragraph(t,o,e);break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":n+=i.heading(t,o,e);break;case"br":n+=i.lineBreak(t,o,e);break;case"hr":n+=i.horizontalLine(t,o,e);break;case"ul":n+=i.unorderedList(t,o,e);break;case"ol":n+=i.orderedList(t,o,e);break;case"pre":var a=l(e).clone();a.isInPre=!0,n+=i.paragraph(t,o,a);break;case"table":n=s(t.attribs,e.tables)?n+i.table(t,o,e):o(t.children||[],e,n);break;default:n=o(t.children||[],e,n)}break;case"text":"\r\n"!==t.data&&(t.trimLeadingSpace=r.test(n),n+=i.text(t,e));break;default:l.include(f,t.type)||(n=o(t.children||[],e,n))}e.lineCharCount=n.length-(n.lastIndexOf("\n")+1)}),n}var a=n(135),l=(n(136),n(3)),u=n(30),c=n(20),h=n(81),d=n(229),f=["style","script"];e.fromFile=function(t,e,n){n||(n=e,e={}),a.readFile(t,"utf8",function(t,i){return t?n(t):n(null,r(i,e))})},e.fromString=function(t,e){return r(t,e||{})}},function(t,e){},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,t,r.depth)}function s(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function o(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=l(t,i,r)),i}var s=u(t,n);if(s)return s;var o=Object.keys(n),g=a(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),D(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(n);if(0===o.length){if(E(n)){var m=n.name?": "+n.name:"";return t.stylize("[Function"+m+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return t.stylize(Date.prototype.toString.call(n),"date");if(D(n))return c(n)}var v="",y=!1,_=["{","}"];if(p(n)&&(y=!0,_=["[","]"]),E(n)){v=" [Function"+(n.name?": "+n.name:"")+"]"}if(x(n)&&(v=" "+RegExp.prototype.toString.call(n)),A(n)&&(v=" "+Date.prototype.toUTCString.call(n)),D(n)&&(v=" "+c(n)),0===o.length&&(!y||0==n.length))return _[0]+v+_[1];if(r<0)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var w;return w=y?h(t,n,r,g,o):o.map(function(e){return d(t,n,r,g,e,y)}),t.seen.pop(),f(w,v,_)}function u(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i){for(var s=[],o=0,a=e.length;o<a;++o)L(e,String(o))?s.push(d(t,e,n,r,String(o),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(d(t,e,n,r,i,!0))}),s}function d(t,e,n,r,i,s){var o,a,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),L(r,i)||(o="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(n)?l(t,u.value,null):l(t,u.value,n-1),a.indexOf("\n")>-1&&(a=s?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function f(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return C(t)&&"[object RegExp]"===S(t)}function C(t){return"object"==typeof t&&null!==t}function A(t){return C(t)&&"[object Date]"===S(t)}function D(t){return C(t)&&("[object Error]"===S(t)||t instanceof Error)}function E(t){return"function"==typeof t}function T(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function S(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}function k(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var M=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,s=r.length,o=String(t).replace(M,function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<s;a=r[++n])m(a)||!C(a)?o+=" "+a:o+=" "+i(a);return o},e.deprecate=function(n,i){function s(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return s};var O,N={};e.debuglog=function(t){if(w(O)&&(O=Object({NODE_ENV:"production"}).NODE_DEBUG||""),t=t.toUpperCase(),!N[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var n=r.pid;N[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else N[t]=function(){};return N[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=g,e.isNull=m,e.isNullOrUndefined=v,e.isNumber=y,e.isString=b,e.isSymbol=_,e.isUndefined=w,e.isRegExp=x,e.isObject=C,e.isDate=A,e.isError=D,e.isFunction=E,e.isPrimitive=T,e.isBuffer=n(137);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(138),e._extend=function(t,e){if(!e||!C(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(11),n(17))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(5);t.exports=function(t){return r(t).replace(/<\/?[^>]+>/g,"")}},function(t,e){t.exports=function(t,e){return null==t?[]:(t=String(t),e=~~e,e>0?t.match(new RegExp(".{1,"+e+"}","g")):[t])}},function(t,e,n){var r=n(14);t.exports=function(t){return r(t).replace(/\s\s+/g," ")}},function(t,e,n){var r=n(5);t.exports=function(t,e){return t=r(t),e=r(e),0===t.length||0===e.length?0:t.split(e).length-1}},function(t,e,n){var r=n(5);t.exports=function(t){return r(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})}},function(t,e,n){var r=n(5),i=n(145),s="[";for(var o in i)s+=o;s+="]";var a=new RegExp(s,"g");t.exports=function(t){return r(t).replace(a,function(t){return"&"+i[t]+";"})}},function(t,e){var n={"":"cent","":"pound","":"yen","":"euro","":"copy","":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};t.exports=n},function(t,e,n){var r=n(5),i=n(147);t.exports=function(t){return r(t).replace(/\&([^;]+);/g,function(t,e){var n;return e in i?i[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):t})}},function(t,e){var n={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};t.exports=n},function(t,e,n){var r=n(62);t.exports=function(t,e,n){return r(t,e,0,n)}},function(t,e,n){var r=n(5);t.exports=function(t,e,n,i){var s=!0===i?"gi":"g",o=new RegExp(e,s);return r(t).replace(o,n)}},function(t,e,n){var r=n(5);t.exports=function(t,e){return""===e||-1!==r(t).indexOf(e)}},function(t,e,n){var r=n(5),i=[].slice;t.exports=function(){var t=i.call(arguments),e=t.shift();return t.join(r(e))}},function(t,e){t.exports=function(t){return null==t?[]:String(t).split(/\r\n?|\n/)}},function(t,e,n){function r(t){for(var e=t.match(/^[\s\\t]*/gm),n=e[0].length,r=1;r<e.length;r++)n=Math.min(e[r].length,n);return n}var i=n(5);t.exports=function(t,e){t=i(t);var n,s=r(t);return 0===s?t:(n="string"==typeof e?new RegExp("^"+e,"gm"):new RegExp("^[ \\t]{"+s+"}","gm"),t.replace(n,""))}},function(t,e,n){var r=n(33);t.exports=function(t){return r(t).reverse().join("")}},function(t,e,n){var r=n(5),i=n(63);t.exports=function(t,e,n){return t=r(t),e=""+e,n=null==n?0:Math.min(i(n),t.length),t.lastIndexOf(e,n)===n}},function(t,e,n){var r=n(5),i=n(63);t.exports=function(t,e,n){return t=r(t),e=""+e,(n=void 0===n?t.length-e.length:Math.min(i(n),t.length)-e.length)>=0&&t.indexOf(e,n)===n}},function(t,e,n){var r=n(64);t.exports=function(t){return r(t,-1)}},function(t,e,n){var r=n(64);t.exports=function(t){return r(t,1)}},function(t,e,n){var r=n(5);t.exports=function(t){return r(t).toLowerCase().replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()})}},function(t,e,n){var r=n(31),i=n(65),s=n(5);t.exports=function(t){return t=s(t),r(i(t.replace(/[\W_]/g," ")).replace(/\s/g,""))}},function(t,e,n){var r=n(31),i=n(66),s=n(14);t.exports=function(t){return r(s(i(t).replace(/_id$/,"").replace(/_/g," ")))}},function(t,e,n){var r=n(5),i=n(32),s=String.prototype.trimLeft;t.exports=function(t,e){return t=r(t),!e&&s?s.call(t):(e=i(e),t.replace(new RegExp("^"+e+"+"),""))}},function(t,e,n){var r=n(5);t.exports=function(t,e,n){return t=r(t),n=n||"...",e=~~e,t.length>e?t.slice(0,e)+n:t}},function(t,e,n){var r=n(5),i=n(34);t.exports=function(t,e,n){if(t=r(t),e=~~e,n=null!=n?String(n):"...",t.length<=e)return t;var s=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},o=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,s);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):i(o.slice(0,o.length-1)),(o+n).length>t.length?t:t.slice(0,o.length)+n}},function(t,e,n){var r=n(58),i=n(14);t.exports=function(t,e){return r(t)?[]:i(t,e).split(e||/\s+/)}},function(t,e,n){var r=n(23);t.exports=function(t,e,n){return r(t,e,n)}},function(t,e,n){var r=n(23);t.exports=function(t,e,n){return r(t,e,n,"right")}},function(t,e,n){var r=n(23);t.exports=function(t,e,n){return r(t,e,n,"both")}},function(t,e,n){var r=n(68);t.exports=function(t,e){return e.unshift(t),r.apply(null,e)}},function(t,e){t.exports=function(t,e){if(null==t)return 0;var n=Math.pow(10,isFinite(e)?e:0);return Math.round(t*n)/n}},function(t,e){t.exports=function(t,e,n,r){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),r="string"==typeof r?r:",";var i=t.split("."),s=i[0],o=i[1]?(n||".")+i[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+o}},function(t,e,n){var r=n(5);t.exports=function(t,e){t=r(t),e=r(e);var n=e?t.indexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},function(t,e,n){var r=n(5);t.exports=function(t,e){t=r(t),e=r(e);var n=e?t.lastIndexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},function(t,e,n){var r=n(5);t.exports=function(t,e){t=r(t),e=r(e);var n=e?t.indexOf(e):-1;return~n?t.slice(0,n):t}},function(t,e,n){var r=n(5);t.exports=function(t,e){t=r(t),e=r(e);var n=t.lastIndexOf(e);return~n?t.slice(0,n):t}},function(t,e,n){var r=n(69);t.exports=function(t,e,n){return r(t,e,n,!0)}},function(t,e,n){var r=n(14),i=n(67),s=n(61);t.exports=function(t){return r(i(s(t).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},function(t,e,n){var r=n(70);t.exports=function(t,e){return r(t,e||'"')}},function(t,e){t.exports=function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t}},function(t,e,n){var r=n(5),i=n(35);t.exports=function(t,e,n){if(t=r(t),e=~~e,null==n)return i(t,e);for(var s=[];e>0;s[--e]=t);return s.join(n)}},function(t,e){t.exports=function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+|\d+|\D+)/g,r=String(t).match(n),i=String(e).match(n),s=Math.min(r.length,i.length),o=0;o<s;o++){var a=r[o],l=i[o];if(a!==l){var u=+a,c=+l;return u===u&&c===c?u>c?1:-1:a<l?-1:1}}return r.length!=i.length?r.length-i.length:t<e?-1:1}},function(t,e,n){var r=n(5);t.exports=function(t,e){"use strict";if(t=r(t),e=r(e),t===e)return 0;if(!t||!e)return Math.max(t.length,e.length);for(var n=new Array(e.length+1),i=0;i<n.length;++i)n[i]=i;for(i=0;i<t.length;++i){for(var s=i+1,o=0;o<e.length;++o){var a=s;s=n[o]+(t.charAt(i)===e.charAt(o)?0:1);var l=a+1;s>l&&(s=l),l=n[o+1]+1,s>l&&(s=l),n[o]=a}n[o]=s}return s}},function(t,e,n){function r(t,e){var n,r,i=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(r=e[n]){if(r.test&&r.test(t))return!0;if(r.toLowerCase()===i)return!0}}var i=n(14);t.exports=function(t,e,n){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=i(t),!!r(t,e||["true","1"])||!r(t,n||["false","0"])&&void 0)}},function(t,e){t.exports=function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse|join|map)$/)&&(t[e]=this[e]);return t}},function(t,e,n){var r=n(5);t.exports=function(t,e){t=r(t),e=e||{};var n,i=e.width||75,s=e.seperator||"\n",o=e.cut||!1,a=e.preserveSpaces||!1,l=e.trailingSpaces||!1;if(i<=0)return t;if(o){var u=0;for(n="";u<t.length;)u%i==0&&u>0&&(n+=s),n+=t.charAt(u),u++;if(l)for(;u%i>0;)n+=" ",u++;return n}var c=t.split(" "),h=0;for(n="";c.length>0;){if(1+c[0].length+h>i&&h>0){if(a)n+=" ",h++;else if(l)for(;h<i;)n+=" ",h++;n+=s,h=0}h>0&&(n+=" ",h++),n+=c[0],h+=c[0].length,c.shift()}if(l)for(;h<i;)n+=" ",h++;return n}},function(t,e,n){var r=n(5);t.exports=function(t,e){return t=r(t),0===t.length||"function"!=typeof e?t:t.replace(/./g,e)}},function(t,e,n){function r(t){if(t>=55296&&t<=57343||t>1114111)return"";t in i&&(t=i[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}var i=n(188);t.exports=r},function(t,e){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(t,e){t.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(t,e){t.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},function(t,e){t.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(t,e,n){function r(t,e,n){"object"==typeof t?(n=e,e=t,t=null):"function"==typeof e&&(n=e,e=l),this._callback=t,this._options=e||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var i=n(21),s=/\s+/g,o=n(73),a=n(193),l={normalizeWhitespace:!1,withStartIndices:!1};r.prototype.onparserinit=function(t){this._parser=t},r.prototype.onreset=function(){r.call(this,this._callback,this._options,this._elementCB)},r.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},r.prototype._handleCallback=r.prototype.onerror=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},r.prototype.onclosetag=function(){var t=this._tagStack.pop();this._elementCB&&this._elementCB(t)},r.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],n=e?e.children:this.dom,r=n[n.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withDomLvl1&&(t.__proto__="tag"===t.type?a:o),r?(t.prev=r,r.next=t):t.prev=null,n.push(t),t.parent=e||null},r.prototype.onopentag=function(t,e){var n={type:"script"===t?i.Script:"style"===t?i.Style:i.Tag,name:t,attribs:e,children:[]};this._addDomElement(n),this._tagStack.push(n)},r.prototype.ontext=function(t){var e,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===i.Text?n?e.data=(e.data+t).replace(s," "):e.data+=t:this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===i.Text?n?e.data=(e.data+t).replace(s," "):e.data+=t:(n&&(t=t.replace(s," ")),this._addDomElement({data:t,type:i.Text}))},r.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===i.Comment)return void(e.data+=t);var n={data:t,type:i.Comment};this._addDomElement(n),this._tagStack.push(n)},r.prototype.oncdatastart=function(){var t={children:[{data:"",type:i.Text}],type:i.CDATA};this._addDomElement(t),this._tagStack.push(t)},r.prototype.oncommentend=r.prototype.oncdataend=function(){this._tagStack.pop()},r.prototype.onprocessinginstruction=function(t,e){this._addDomElement({name:t,data:e,type:i.Directive})},t.exports=r},function(t,e,n){var r=n(73),i=t.exports=Object.create(r),s={tagName:"name"};Object.keys(s).forEach(function(t){var e=s[t];Object.defineProperty(i,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t,t}})})},function(t,e,n){function r(t,e){this.init(t,e)}function i(t,e){return c.getElementsByTagName(t,e,!0)}function s(t,e){return c.getElementsByTagName(t,e,!0,1)[0]}function o(t,e,n){return c.getText(c.getElementsByTagName(t,e,n,1)).trim()}function a(t,e,n,r,i){var s=o(n,r,i);s&&(t[e]=s)}var l=n(20),u=l.DomHandler,c=l.DomUtils;n(12)(r,u),r.prototype.init=u;var h=function(t){return"rss"===t||"feed"===t||"rdf:RDF"===t};r.prototype.onend=function(){var t,e,n={},r=s(h,this.dom);r&&("feed"===r.name?(e=r.children,n.type="atom",a(n,"id","id",e),a(n,"title","title",e),(t=s("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),a(n,"description","subtitle",e),(t=o("updated",e))&&(n.updated=new Date(t)),a(n,"author","email",e,!0),n.items=i("entry",e).map(function(t){var e,n={};return t=t.children,a(n,"id","id",t),a(n,"title","title",t),(e=s("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),(e=o("summary",t)||o("content",t))&&(n.description=e),(e=o("updated",t))&&(n.pubDate=new Date(e)),n})):(e=s("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",a(n,"title","title",e),a(n,"link","link",e),a(n,"description","description",e),(t=o("lastBuildDate",e))&&(n.updated=new Date(t)),a(n,"author","managingEditor",e,!0),n.items=i("item",r.children).map(function(t){var e,n={};return t=t.children,a(n,"id","guid",t),a(n,"title","title",t),a(n,"link","link",t),a(n,"description","description",t),(e=o("pubDate",t))&&(n.pubDate=new Date(e)),n}))),this.dom=n,u.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},t.exports=r},function(t,e,n){function r(t){s.call(this,new i(this),t)}function i(t){this.scope=t}t.exports=r;var s=n(74);n(12)(r,s),r.prototype.readable=!0;var o=n(20).EVENTS;Object.keys(o).forEach(function(t){if(0===o[t])i.prototype["on"+t]=function(){this.scope.emit(t)};else if(1===o[t])i.prototype["on"+t]=function(e){this.scope.emit(t,e)};else{if(2!==o[t])throw Error("wrong number of arguments!");i.prototype["on"+t]=function(e,n){this.scope.emit(t,e,n)}}})},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(24).EventEmitter;n(12)(r,i),r.Readable=n(36),r.Writable=n(207),r.Duplex=n(208),r.Transform=n(209),r.PassThrough=n(210),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function s(){c||(c=!0,t.end())}function o(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(l(),0===i.listenerCount(this,"error"))throw t}function l(){u.removeListener("data",n),t.removeListener("drain",r),u.removeListener("end",s),u.removeListener("close",o),u.removeListener("error",a),t.removeListener("error",a),u.removeListener("end",l),u.removeListener("close",l),t.removeListener("close",l)}var u=this;u.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(u.on("end",s),u.on("close",o));var c=!1;return u.on("error",a),t.on("error",a),u.on("end",l),u.on("close",l),t.on("close",l),t.emit("pipe",u),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function s(t){var e,n,i,s,o,a=t.length;s=r(t),o=new h(3*a/4-s),n=s>0?a-4:a;var l=0;for(e=0;e<n;e+=4)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===s?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,o[l++]=255&i):1===s&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(o(r));return i.join("")}function l(t){for(var e,n=t.length,r=n%3,i="",s=[],o=0,l=n-r;o<l;o+=16383)s.push(a(t,o,o+16383>l?l:o+16383));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),s.push(i),s.join("")}e.byteLength=i,e.toByteArray=s,e.fromByteArray=l;for(var u=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=d.length;f<p;++f)u[f]=d[f],c[d.charCodeAt(f)]=f;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+t[e+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+t[e+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=u}return(f?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+f]=255&o,f+=p,o/=256,u-=8);t[n+f-p]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){t.copy(e,n)}var s=n(37).Buffer;t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return s.alloc(0);if(1===this.length)return this.head.data;for(var e=s.allocUnsafe(t>>>0),n=this.head,r=0;n;)i(n.data,e,r),r+=n.data.length,n=n.next;return e},t}()},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(204),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[l]=r,a(l),l++}function i(t){delete u[t]}function s(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function o(t){if(c)setTimeout(o,0,t);else{var e=u[t];if(e){c=!0;try{s(e)}finally{i(t),c=!1}}}}if(!t.setImmediate){var a,l=1,u={},c=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){o(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&o(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){o(t.data)},a=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;a=function(e){var n=h.createElement("script");n.onreadystatechange=function(){o(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){a=function(t){setTimeout(o,0,t)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(11),n(17))},function(t,e,n){(function(e){function n(t,e){function n(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(e,n(11))},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.exports=r;var i=n(78),s=n(22);s.inherits=n(12),s.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(38)},function(t,e,n){t.exports=n(15)},function(t,e,n){t.exports=n(36).Transform},function(t,e,n){t.exports=n(36).PassThrough},function(t,e){},function(t,e,n){function r(t){this._cbs=t||{}}t.exports=r;var i=n(20).EVENTS;Object.keys(i).forEach(function(t){if(0===i[t])t="on"+t,r.prototype[t]=function(){this._cbs[t]&&this._cbs[t]()};else if(1===i[t])t="on"+t,r.prototype[t]=function(e){this._cbs[t]&&this._cbs[t](e)};else{if(2!==i[t])throw Error("wrong number of arguments");t="on"+t,r.prototype[t]=function(e,n){this._cbs[t]&&this._cbs[t](e,n)}}})},function(t,e,n){var r=t.exports;[n(214),n(223),n(224),n(225),n(226),n(227)].forEach(function(t){Object.keys(t).forEach(function(e){r[e]=t[e].bind(r)})})},function(t,e,n){function r(t,e){return t.children?t.children.map(function(t){return o(t,e)}).join(""):""}function i(t){return Array.isArray(t)?t.map(i).join(""):a(t)||t.type===s.CDATA?i(t.children):t.type===s.Text?t.data:""}var s=n(21),o=n(215),a=s.isTag;t.exports={getInnerHTML:r,getOuterHTML:o,getText:i}},function(t,e,n){function r(t,e){if(t){var n,r="";for(var i in t)n=t[i],r&&(r+=" "),!n&&h[i]?r+=i:r+=i+'="'+(e.decodeEntities?c.encodeXML(n):n)+'"';return r}}function i(t,e){"svg"===t.name&&(e={decodeEntities:e.decodeEntities,xmlMode:!0});var n="<"+t.name,i=r(t.attribs,e);return i&&(n+=" "+i),!e.xmlMode||t.children&&0!==t.children.length?(n+=">",t.children&&(n+=p(t.children,e)),f[t.name]&&!e.xmlMode||(n+="</"+t.name+">")):n+="/>",n}function s(t){return"<"+t.data+">"}function o(t,e){var n=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in d||(n=c.encodeXML(n)),n}function a(t){return"<![CDATA["+t.children[0].data+"]]>"}function l(t){return"\x3c!--"+t.data+"--\x3e"}var u=n(216),c=n(217),h={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},d={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},f={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},p=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var n="",r=0;r<t.length;r++){var c=t[r];"root"===c.type?n+=p(c.children,e):u.isTag(c)?n+=i(c,e):c.type===u.Directive?n+=s(c):c.type===u.Comment?n+=l(c):c.type===u.CDATA?n+=a(c):n+=o(c,e)}return n}},function(t,e){t.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},function(t,e,n){var r=n(218),i=n(219);e.decode=function(t,e){return(!e||e<=0?i.XML:i.HTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?i.XML:i.HTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?r.XML:r.HTML)(t)},e.encodeXML=r.XML,e.encodeHTML4=e.encodeHTML5=e.encodeHTML=r.HTML,e.decodeXML=e.decodeXMLStrict=i.XML,e.decodeHTML4=e.decodeHTML5=e.decodeHTML=i.HTML,e.decodeHTML4Strict=e.decodeHTML5Strict=e.decodeHTMLStrict=i.HTMLStrict,e.escape=r.escape},function(t,e,n){function r(t){return Object.keys(t).sort().reduce(function(e,n){return e[t[n]]="&"+n+";",e},{})}function i(t){var e=[],n=[];return Object.keys(t).forEach(function(t){1===t.length?e.push("\\"+t):n.push(t)}),n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}function s(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function o(t){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function a(t,e){function n(e){return t[e]}return function(t){return t.replace(e,n).replace(p,o).replace(f,s)}}function l(t){return t.replace(g,s).replace(p,o).replace(f,s)}var u=r(n(79)),c=i(u);e.XML=a(u,c);var h=r(n(80)),d=i(h);e.HTML=a(h,d);var f=/[^\0-\x7F]/g,p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=i(u);e.escape=l},function(t,e,n){function r(t){var e=Object.keys(t).join("|"),n=s(t);e+="|#[xX][\\da-fA-F]+|#\\d+";var r=new RegExp("&(?:"+e+");","g");return function(t){return String(t).replace(r,n)}}function i(t,e){return t<e?1:-1}function s(t){return function(e){return"#"===e.charAt(1)?u("X"===e.charAt(2)||"x"===e.charAt(2)?parseInt(e.substr(3),16):parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}var o=n(80),a=n(220),l=n(79),u=n(221),c=r(l),h=r(o),d=function(){function t(t){return";"!==t.substr(-1)&&(t+=";"),c(t)}for(var e=Object.keys(a).sort(i),n=Object.keys(o).sort(i),r=0,l=0;r<n.length;r++)e[l]===n[r]?(n[r]+=";?",l++):n[r]+=";";var u=new RegExp("&(?:"+n.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),c=s(o);return function(e){return String(e).replace(u,t)}}();t.exports={XML:c,HTML:d,HTMLStrict:h}},function(t,e){t.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},function(t,e,n){function r(t){if(t>=55296&&t<=57343||t>1114111)return"";t in i&&(t=i[t]);var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)}var i=n(222);t.exports=r},function(t,e){t.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(t,e){var n=e.getChildren=function(t){return t.children},r=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=r(t);return e?n(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}},function(t,e){e.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},e.replaceElement=function(t,e){var n=e.prev=t.prev;n&&(n.next=e);var r=e.next=t.next;r&&(r.prev=e);var i=e.parent=t.parent;if(i){var s=i.children;s[s.lastIndexOf(t)]=e}},e.appendChild=function(t,e){if(e.parent=t,1!==t.children.push(e)){var n=t.children[t.children.length-2];n.next=e,e.prev=n,e.next=null}},e.append=function(t,e){var n=t.parent,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){var i=n.children;i.splice(i.lastIndexOf(r),0,e)}}else n&&n.children.push(e)},e.prepend=function(t,e){var n=t.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}},function(t,e,n){function r(t,e,n,r){return Array.isArray(e)||(e=[e]),"number"==typeof r&&isFinite(r)||(r=1/0),i(t,e,!1!==n,r)}function i(t,e,n,r){for(var s,o=[],a=0,l=e.length;a<l&&!(t(e[a])&&(o.push(e[a]),--r<=0))&&(s=e[a].children,!(n&&s&&s.length>0&&(s=i(t,s,n,r),o=o.concat(s),(r-=s.length)<=0)));a++);return o}function s(t,e){for(var n=0,r=e.length;n<r;n++)if(t(e[n]))return e[n];return null}function o(t,e){for(var n=null,r=0,i=e.length;r<i&&!n;r++)u(e[r])&&(t(e[r])?n=e[r]:e[r].children.length>0&&(n=o(t,e[r].children)));return n}function a(t,e){for(var n=0,r=e.length;n<r;n++)if(u(e[n])&&(t(e[n])||e[n].children.length>0&&a(t,e[n].children)))return!0;return!1}function l(t,e){for(var n=[],r=0,i=e.length;r<i;r++)u(e[r])&&(t(e[r])&&n.push(e[r]),e[r].children.length>0&&(n=n.concat(l(t,e[r].children))));return n}var u=n(21).isTag;t.exports={filter:r,find:i,findOneChild:s,findOne:o,existsOne:a,findAll:l}},function(t,e,n){function r(t,e){return"function"==typeof e?function(n){return n.attribs&&e(n.attribs[t])}:function(n){return n.attribs&&n.attribs[t]===e}}function i(t,e){return function(n){return t(n)||e(n)}}var s=n(21),o=e.isTag=s.isTag;e.testElement=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if("tag_name"===n){if(!o(e)||!t.tag_name(e.name))return!1}else if("tag_type"===n){if(!t.tag_type(e.type))return!1}else if("tag_contains"===n){if(o(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[n](e.attribs[n]))return!1}else;return!0};var a={tag_name:function(t){return"function"==typeof t?function(e){return o(e)&&t(e.name)}:"*"===t?o:function(e){return o(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!o(e)&&t(e.data)}:function(e){return!o(e)&&e.data===t}}};e.getElements=function(t,e,n,s){var o=Object.keys(t).map(function(e){var n=t[e];return e in a?a[e](n):r(e,n)});return 0===o.length?[]:this.filter(o.reduce(i),e,n,s)},e.getElementById=function(t,e,n){return Array.isArray(e)||(e=[e]),this.findOne(r("id",t),e,!1!==n)},e.getElementsByTagName=function(t,e,n,r){return this.filter(a.tag_name(t),e,n,r)},e.getElementsByTagType=function(t,e,n,r){return this.filter(a.tag_type(t),e,n,r)}},function(t,e){e.removeSubsets=function(t){for(var e,n,r,i=t.length;--i>-1;){for(e=n=t[i],t[i]=null,r=!0;n;){if(t.indexOf(n)>-1){r=!1,t.splice(i,1);break}n=n.parent}r&&(t[i]=e)}return t};var n={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},r=e.compareDocumentPosition=function(t,e){var r,i,s,o,a,l,u=[],c=[];if(t===e)return 0;for(r=t;r;)u.unshift(r),r=r.parent;for(r=e;r;)c.unshift(r),r=r.parent;for(l=0;u[l]===c[l];)l++;return 0===l?n.DISCONNECTED:(i=u[l-1],s=i.children,o=u[l],a=c[l],s.indexOf(o)>s.indexOf(a)?i===e?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:i===t?n.PRECEDING|n.CONTAINS:n.PRECEDING)};e.uniqueSort=function(t){var e,i,s=t.length;for(t=t.slice();--s>-1;)e=t[s],(i=t.indexOf(e))>-1&&i<s&&t.splice(s,1);return t.sort(function(t,e){var i=r(t,e);return i&n.PRECEDING?-1:i&n.FOLLOWING?1:0}),t}},function(t,e,n){function r(t){this._cbs=t||{},this.events=[]}t.exports=r;var i=n(20).EVENTS;Object.keys(i).forEach(function(t){if(0===i[t])t="on"+t,r.prototype[t]=function(){this.events.push([t]),this._cbs[t]&&this._cbs[t]()};else if(1===i[t])t="on"+t,r.prototype[t]=function(e){this.events.push([t,e]),this._cbs[t]&&this._cbs[t](e)};else{if(2!==i[t])throw Error("wrong number of arguments");t="on"+t,r.prototype[t]=function(e,n){this.events.push([t,e,n]),this._cbs[t]&&this._cbs[t](e,n)}}}),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var n=this.events[t].length;1===n?this._cbs[this.events[t][0]]():2===n?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}},function(t,e,n){function r(t,e){var n=t.data||"";return n=v.decode(n,e.decodeOptions),e.isInPre?n:y.wordwrap(t.trimLeadingSpace?m.lstrip(n):n,e)}function i(t,e){if(e.ignoreImage)return"";var n="",r=t.attribs||{};return r.alt&&(n+=v.decode(r.alt,e.decodeOptions),r.src&&(n+=" ")),r.src&&(n+="["+r.src+"]"),n}function s(t,e,n){return"\n"+e(t.children,n)}function o(t,e,n){var r=e(t.children,n);return n.singleNewLineParagraphs?r+"\n":r+"\n\n"}function a(t,e,n){var r=e(t.children,n);return n.uppercaseHeadings&&(r=r.toUpperCase()),r+"\n"}function l(t,e,n){var i="",s=n.lineCharCount,o=e(t.children||[],n);o||(o="");var a=t.trimLeadingSpace?m.lstrip(o):o;return n.ignoreHref||(t.attribs&&t.attribs.href&&(i=t.attribs.href.replace(/^mailto\:/,"")),i&&(!n.noAnchorUrl||n.noAnchorUrl&&-1===i.indexOf("#"))&&(n.linkHrefBaseUrl&&0===i.indexOf("/")&&(i=n.linkHrefBaseUrl+i),n.hideLinkHrefIfSameAsText&&i===m.replaceAll(a,"\n","")||(n.noLinkBrackets?a+=" "+i:a+=" ["+i+"]"))),n.lineCharCount=s,r({data:a||i,trimLeadingSpace:t.trimLeadingSpace},n)}function u(t,e,n){return"\n"+m.repeat("-",n.wordwrap)+"\n\n"}function c(t,e,n,r){r=g.clone(r),r.wordwrap&&(r.wordwrap-=t.length);var i=n(e.children,r);return i=i.replace(/\n/g,"\n"+m.repeat(" ",t.length)),t+i+"\n"}function h(t,e,n){var r="",i=(t.children||[]).filter(function(t){return"text"!==t.type||!b.test(t.data)});return g.each(i,function(t){r+=c(" * ",t,e,n)}),r+"\n"}function d(t,e,n){var r="",i=(t.children||[]).filter(function(t){return"text"!==t.type||!b.test(t.data)}),s=function(){switch(t.attribs.type||"1"){case"a":return function(t,e){return String.fromCharCode(e+t+97)};case"A":return function(t,e){return String.fromCharCode(e+t+65)};case"1":default:return function(t,e){return e+1+t}}}();if(i.length){var o=Number(t.attribs.start||"1")-1,a=(i.length+o).toString().length;g.each(i,function(t,i){var l=s(o,i),u=a-l.toString().length,h=" "+l+". "+m.repeat(" ",u);r+=c(h,t,e,n)})}return r+"\n"}function f(t){var e=g.map(t,function(t){return g.map(t,function(t){return t.length})});e=y.arrayZip(e),e=g.map(e,function(t){return g.max(t)});var n="";return g.each(t,function(t){var r=0;g.each(t,function(t){n+=m.rpad(m.strip(t),e[r++]," ")+"   "}),n+="\n"}),n+"\n"}function p(t,e,n){function r(t){if("tag"===t.type)switch(t.name.toLowerCase()){case"thead":case"tbody":case"tfoot":case"center":return void g.each(t.children,r);case"tr":var s=[];g.each(t.children,function(t){var r,i;if("tag"===t.type)switch(t.name.toLowerCase()){case"th":r=a(t,e,n).split("\n"),s.push(g.compact(r));break;case"td":r=e(t.children,n).split("\n"),s.push(g.compact(r)),t.attribs&&t.attribs.colspan&&(i=t.attribs.colspan-1||0,g.times(i,function(){s.push([""])}))}}),s=y.arrayZip(s),g.each(s,function(t){t=g.map(t,function(t){return t||""}),i.push(t)})}}var i=[];return g.each(t.children,r),f(i)}var g=n(3),m=n(30),v=n(230),y=n(81),b=/^\s*$/;e.text=r,e.image=i,e.lineBreak=s,e.paragraph=o,e.anchor=l,e.heading=a,e.table=p,e.orderedList=d,e.unorderedList=h,e.listItem=c,e.horizontalLine=u},function(t,e,n){(function(t,r){var i;!function(s){var o="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports,"object"==typeof r&&r);var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[\x01-\x7F]/g,c=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,h=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,d={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","\t":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr","":"ordf","":"aacute","":"Aacute","":"agrave","":"Agrave","":"abreve","":"Abreve","":"acirc","":"Acirc","":"aring","":"angst","":"auml","":"Auml","":"atilde","":"Atilde","":"aogon","":"Aogon","":"amacr","":"Amacr","":"aelig","":"AElig","":"bscr","":"bopf","":"bfr","":"Bopf","":"Bscr","":"Bfr","":"cfr","":"cscr","":"copf","":"Cfr","":"Cscr","":"Copf","":"cacute","":"Cacute","":"ccirc","":"Ccirc","":"ccaron","":"Ccaron","":"cdot","":"Cdot","":"ccedil","":"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf","":"dcaron","":"Dcaron","":"dstrok","":"Dstrok","":"eth","":"ETH","":"ee","":"escr","":"efr","":"eopf","":"Escr","":"Efr","":"Eopf","":"eacute","":"Eacute","":"egrave","":"Egrave","":"ecirc","":"Ecirc","":"ecaron","":"Ecaron","":"euml","":"Euml","":"edot","":"Edot","":"eogon","":"Eogon","":"emacr","":"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf","":"Fscr","":"fflig","":"ffilig","":"ffllig","":"filig",fj:"fjlig","":"fllig","":"fnof","":"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr","":"gacute","":"gbreve","":"Gbreve","":"gcirc","":"Gcirc","":"gdot","":"Gdot","":"Gcedil","":"hfr","":"planckh","":"hscr","":"hopf","":"Hscr","":"Hfr","":"Hopf","":"hcirc","":"Hcirc","":"hbar","":"hstrok","":"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf","":"Iscr","":"Im","":"iacute","":"Iacute","":"igrave","":"Igrave","":"icirc","":"Icirc","":"iuml","":"Iuml","":"itilde","":"Itilde","":"Idot","":"iogon","":"Iogon","":"imacr","":"Imacr","":"ijlig","":"IJlig","":"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf","":"jcirc","":"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr","":"kcedil","":"Kcedil","":"lfr","":"lscr","":"ell","":"lopf","":"Lscr","":"Lfr","":"Lopf","":"lacute","":"Lacute","":"lcaron","":"Lcaron","":"lcedil","":"Lcedil","":"lstrok","":"Lstrok","":"lmidot","":"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf","":"Mscr","":"nfr","":"nopf","":"nscr","":"Nopf","":"Nscr","":"Nfr","":"nacute","":"Nacute","":"ncaron","":"Ncaron","":"ntilde","":"Ntilde","":"ncedil","":"Ncedil","":"numero","":"eng","":"ENG","":"oopf","":"ofr","":"oscr","":"Oscr","":"Ofr","":"Oopf","":"ordm","":"oacute","":"Oacute","":"ograve","":"Ograve","":"ocirc","":"Ocirc","":"ouml","":"Ouml","":"odblac","":"Odblac","":"otilde","":"Otilde","":"oslash","":"Oslash","":"omacr","":"Omacr","":"oelig","":"OElig","":"pfr","":"pscr","":"popf","":"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr","":"Qopf","":"kgreen","":"rfr","":"ropf","":"rscr","":"Rscr","":"Re","":"Ropf","":"racute","":"Racute","":"rcaron","":"Rcaron","":"rcedil","":"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS","":"sacute","":"Sacute","":"scirc","":"Scirc","":"scaron","":"Scaron","":"scedil","":"Scedil","":"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf","":"tcaron","":"Tcaron","":"tcedil","":"Tcedil","":"trade","":"tstrok","":"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr","":"uacute","":"Uacute","":"ugrave","":"Ugrave","":"ubreve","":"Ubreve","":"ucirc","":"Ucirc","":"uring","":"Uring","":"uuml","":"Uuml","":"udblac","":"Udblac","":"utilde","":"Utilde","":"uogon","":"Uogon","":"umacr","":"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr","":"wcirc","":"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf","":"yacute","":"Yacute","":"ycirc","":"Ycirc","":"yuml","":"Yuml","":"zscr","":"zfr","":"zopf","":"Zfr","":"Zopf","":"Zscr","":"zacute","":"Zacute","":"zcaron","":"Zcaron","":"zdot","":"Zdot","":"imped","":"thorn","":"THORN","":"napos","":"alpha","":"Alpha","":"beta","":"Beta","":"gamma","":"Gamma","":"delta","":"Delta","":"epsi","":"epsiv","":"Epsilon","":"gammad","":"Gammad","":"zeta","":"Zeta","":"eta","":"Eta","":"theta","":"thetav","":"Theta","":"iota","":"Iota","":"kappa","":"kappav","":"Kappa","":"lambda","":"Lambda","":"mu","":"micro","":"Mu","":"nu","":"Nu","":"xi","":"Xi","":"omicron","":"Omicron","":"pi","":"piv","":"Pi","":"rho","":"rhov","":"Rho","":"sigma","":"Sigma","":"sigmaf","":"tau","":"Tau","":"upsi","":"Upsilon","":"Upsi","":"phi","":"phiv","":"Phi","":"chi","":"Chi","":"psi","":"Psi","":"omega","":"ohm","":"acy","":"Acy","":"bcy","":"Bcy","":"vcy","":"Vcy","":"gcy","":"Gcy","":"gjcy","":"GJcy","":"dcy","":"Dcy","":"djcy","":"DJcy","":"iecy","":"IEcy","":"iocy","":"IOcy","":"jukcy","":"Jukcy","":"zhcy","":"ZHcy","":"zcy","":"Zcy","":"dscy","":"DScy","":"icy","":"Icy","":"iukcy","":"Iukcy","":"yicy","":"YIcy","":"jcy","":"Jcy","":"jsercy","":"Jsercy","":"kcy","":"Kcy","":"kjcy","":"KJcy","":"lcy","":"Lcy","":"ljcy","":"LJcy","":"mcy","":"Mcy","":"ncy","":"Ncy","":"njcy","":"NJcy","":"ocy","":"Ocy","":"pcy","":"Pcy","":"rcy","":"Rcy","":"scy","":"Scy","":"tcy","":"Tcy","":"tshcy","":"TSHcy","":"ucy","":"Ucy","":"ubrcy","":"Ubrcy","":"fcy","":"Fcy","":"khcy","":"KHcy","":"tscy","":"TScy","":"chcy","":"CHcy","":"dzcy","":"DZcy","":"shcy","":"SHcy","":"shchcy","":"SHCHcy","":"hardcy","":"HARDcy","":"ycy","":"Ycy","":"softcy","":"SOFTcy","":"ecy","":"Ecy","":"yucy","":"YUcy","":"yacy","":"YAcy","":"aleph","":"beth","":"gimel","":"daleth"},f=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},g=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,y={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},b={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},_={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],x=String.fromCharCode,C={},A=C.hasOwnProperty,D=function(t,e){return A.call(t,e)},E=function(t,e){for(var n=-1,r=t.length;++n<r;)if(t[n]==e)return!0;return!1},T=function(t,e){if(!t)return e;var n,r={};for(n in e)r[n]=D(t,n)?t[n]:e[n];return r},S=function(t,e){var n="";return t>=55296&&t<=57343||t>1114111?(e&&L("character reference outside the permissible Unicode range"),""):D(_,t)?(e&&L("disallowed character reference"),_[t]):(e&&E(w,t)&&L("disallowed character reference"),t>65535&&(t-=65536,n+=x(t>>>10&1023|55296),t=56320|1023&t),n+=x(t))},I=function(t){return"&#x"+t.toString(16).toUpperCase()+";"},k=function(t){return"&#"+t+";"},L=function(t){throw Error("Parse error: "+t)},M=function(t,e){e=T(e,M.options),e.strict&&m.test(t)&&L("forbidden code point");var n=e.encodeEverything,r=e.useNamedReferences,i=e.allowUnsafeSymbols,s=e.decimal?k:I,o=function(t){return s(t.charCodeAt(0))};return n?(t=t.replace(u,function(t){return r&&D(d,t)?"&"+d[t]+";":o(t)}),r&&(t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(t=t.replace(h,function(t){return"&"+d[t]+";"}))):r?(i||(t=t.replace(f,function(t){return"&"+d[t]+";"})),t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),t=t.replace(h,function(t){return"&"+d[t]+";"})):i||(t=t.replace(f,o)),t.replace(l,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return s(1024*(e-55296)+n-56320+65536)}).replace(c,o)};M.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var O=function(t,e){e=T(e,O.options);var n=e.strict;return n&&g.test(t)&&L("malformed character reference"),t.replace(v,function(t,r,i,s,o,a,l,u){var c,h,d,f,p,g;return r?(d=r,h=i,n&&!h&&L("character reference was not terminated by a semicolon"),c=parseInt(d,10),S(c,n)):s?(f=s,h=o,n&&!h&&L("character reference was not terminated by a semicolon"),c=parseInt(f,16),S(c,n)):a?(p=a,D(y,p)?y[p]:(n&&L("named character reference was not terminated by a semicolon"),t)):(p=l,g=u,g&&e.isAttributeValue?(n&&"="==g&&L("`&` did not start a character reference"),t):(n&&L("named character reference was not terminated by a semicolon"),b[p]+(g||"")))})};O.options={isAttributeValue:!1,strict:!1};var N=function(t){return t.replace(f,function(t){return p[t]})},R={version:"1.1.1",encode:M,decode:O,escape:N,unescape:O};void 0!==(i=function(){return R}.call(e,n,e,t))&&(t.exports=i)}()}).call(e,n(231)(t),n(11))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(40),i=n(234),s=n(239);return e.CompositeView.extend({template:s,ui:{saveAllToCloud:".attachments-save-to-cloud"},events:{"click @ui.saveAllToCloud":"_onSaveAllToCloud"},templateContext:function(){return{moreThanOne:this.collection.length>1}},childView:i,childViewContainer:".attachments",childViewOptions:function(){return{message:this.message}},initialize:function(t){this.message=t.message},viewComparator:function(t,e){return t.get("isImage")&&!e.get("isImage")?-1:!t.get("isImage")&&e.get("isImage")?1:t.get("fileName").localeCompare(e.get("fileName"))},_onSaveAllToCloud:function(t){t.preventDefault();var e=this;r.saveAttachmentsToFiles(this.message,function(){e.getUI("saveAllToCloud").removeClass("icon-folder").addClass("icon-loading-small").prop("disabled",!0)}).catch(console.error.bind(this)).then(function(){e.getUI("saveAllToCloud").addClass("icon-folder").removeClass("icon-loading-small").prop("disabled",!1)})}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r,i;!function(s){var o=!1;if(r=s,void 0!==(i="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=i),o=!0,t.exports=s(),o=!0,!o){var a=window.Storages,l=window.Storages=s();l.noConflict=function(){return window.Storages=a,l}}}(function(){function t(){var t,e,n,r,i,s=this._type,o=arguments.length,a=window[s],l=arguments,u=l[0];if(o<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(u)){e={};for(r in u)if(u.hasOwnProperty(r)){t=u[r];try{e[t]=JSON.parse(a.getItem(t))}catch(n){e[t]=a.getItem(t)}}return e}if(1!=o){try{e=JSON.parse(a.getItem(u))}catch(t){throw new ReferenceError(u+" is not defined in this storage")}for(r=1;r<o-1;r++)if(void 0===(e=e[l[r]]))throw new ReferenceError([].slice.call(l,1,r+1).join(".")+" is not defined in this storage");if(Array.isArray(l[r])){n=e,e={};for(i in l[r])l[r].hasOwnProperty(i)&&(e[l[r][i]]=n[l[r][i]]);return e}return e[l[r]]}try{return JSON.parse(a.getItem(u))}catch(t){return a.getItem(u)}}function e(){var t,e,n,r,i=this._type,s=arguments.length,o=window[i],a=arguments,u=a[0],c=a[1],h=isNaN(c)?{}:[];if(s<1||!l(u)&&s<2)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(l(u)){for(r in u)u.hasOwnProperty(r)&&(t=u[r],l(t)||this.alwaysUseJson?o.setItem(r,JSON.stringify(t)):o.setItem(r,t));return u}if(2==s)return"object"==typeof c||this.alwaysUseJson?o.setItem(u,JSON.stringify(c)):o.setItem(u,c),c;try{n=o.getItem(u),null!=n&&(h=JSON.parse(n))}catch(t){}for(n=h,r=1;r<s-2;r++)t=a[r],e=isNaN(a[r+1])?"object":"array",(!n[t]||"object"==e&&!l(n[t])||"array"==e&&!Array.isArray(n[t]))&&(n[t]="array"==e?[]:{}),n=n[t];return n[a[r]]=a[r+1],o.setItem(u,JSON.stringify(h)),h}function n(){var t,e,n,r,i=this._type,s=arguments.length,o=window[i],a=arguments,l=a[0];if(s<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(l)){for(n in l)l.hasOwnProperty(n)&&o.removeItem(l[n]);return!0}if(1==s)return o.removeItem(l),!0;try{t=e=JSON.parse(o.getItem(l))}catch(t){throw new ReferenceError(l+" is not defined in this storage")}for(n=1;n<s-1;n++)if(void 0===(e=e[a[n]]))throw new ReferenceError([].slice.call(a,1,n).join(".")+" is not defined in this storage");if(Array.isArray(a[n]))for(r in a[n])a[n].hasOwnProperty(r)&&delete e[a[n][r]];else delete e[a[n]];return o.setItem(l,JSON.stringify(t)),!0}function r(t){var e,r=o.call(this);for(e in r)r.hasOwnProperty(e)&&n.call(this,r[e]);if(t)for(e in v.namespaceStorages)v.namespaceStorages.hasOwnProperty(e)&&a(e)}function i(){var e,n=arguments.length,r=arguments,s=r[0];if(0==n)return 0==o.call(this).length;if(Array.isArray(s)){for(e=0;e<s.length;e++)if(!i.call(this,s[e]))return!1;return!0}try{var a=t.apply(this,arguments);Array.isArray(r[n-1])||(a={totest:a});for(e in a)if(a.hasOwnProperty(e)&&!(l(a[e])&&u(a[e])||Array.isArray(a[e])&&!a[e].length||"boolean"!=typeof a[e]&&!a[e]))return!1;return!0}catch(t){return!0}}function s(){var e,n=arguments.length,r=arguments,i=r[0];if(n<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(i)){for(e=0;e<i.length;e++)if(!s.call(this,i[e]))return!1;return!0}try{var o=t.apply(this,arguments);Array.isArray(r[n-1])||(o={totest:o});for(e in o)if(o.hasOwnProperty(e)&&(void 0===o[e]||null===o[e]))return!1;return!0}catch(t){return!1}}function o(){var e=this._type,n=arguments.length,r=window[e],i=[],s={};if((s=n>0?t.apply(this,arguments):r)&&s._cookie){var o=Cookies.get();for(var a in o)o.hasOwnProperty(a)&&""!=a&&i.push(a.replace(s._prefix,""))}else for(var l in s)s.hasOwnProperty(l)&&i.push(l);return i}function a(t){if(!t||"string"!=typeof t)throw new Error("First parameter must be a string");y?(window.localStorage.getItem(t)||window.localStorage.setItem(t,"{}"),window.sessionStorage.getItem(t)||window.sessionStorage.setItem(t,"{}")):(window.localCookieStorage.getItem(t)||window.localCookieStorage.setItem(t,"{}"),window.sessionCookieStorage.getItem(t)||window.sessionCookieStorage.setItem(t,"{}"));var e={localStorage:c({},v.localStorage,{_ns:t}),sessionStorage:c({},v.sessionStorage,{_ns:t})};return b&&(window.cookieStorage.getItem(t)||window.cookieStorage.setItem(t,"{}"),e.cookieStorage=c({},v.cookieStorage,{_ns:t})),v.namespaceStorages[t]=e,e}function l(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=m(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&p.call(n)===g)}function u(t){var e;for(e in t)return!1;return!0}function c(){for(var t=1,e=arguments[0];t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}var h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,g=p.call(Object),m=Object.getPrototypeOf,v={},y=function(t){try{return!!window[t]&&(window[t].setItem("jsapi","jsapi"),window[t].removeItem("jsapi"),!0)}catch(t){return!1}}("localStorage"),b="undefined"!=typeof Cookies,_={_type:"",_ns:"",_callMethod:function(t,e){e=Array.prototype.slice.call(e);var n=[],r=e[0];return this._ns&&n.push(this._ns),"string"==typeof r&&-1!==r.indexOf(".")&&(e.shift(),[].unshift.apply(e,r.split("."))),[].push.apply(n,e),t.apply(this,n)},alwaysUseJson:!1,get:function(){return y||b?this._callMethod(t,arguments):null},set:function(){var t=arguments.length,n=arguments,r=n[0];if(t<1||!l(r)&&t<2)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(!y&&!b)return null;if(l(r)&&this._ns){for(var i in r)r.hasOwnProperty(i)&&this._callMethod(e,[i,r[i]]);return r}var s=this._callMethod(e,n);return this._ns?s[r.split(".")[0]]:s},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return y||b?this._callMethod(n,arguments):null},removeAll:function(t){return y||b?this._ns?(this._callMethod(e,[{}]),!0):this._callMethod(r,[t]):null},isEmpty:function(){return y||b?this._callMethod(i,arguments):null},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return y||b?this._callMethod(s,arguments):null},keys:function(){return y||b?this._callMethod(o,arguments):null}};if(b){window.name||(window.name=Math.floor(1e8*Math.random()));var w={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(t,e){Cookies.set(this._prefix+t,e,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(t){return Cookies.get(this._prefix+t)},removeItem:function(t){return Cookies.remove(this._prefix+t,{path:this._path})},clear:function(){var t=Cookies.get();for(var e in t)t.hasOwnProperty(e)&&""!=e&&(!this._prefix&&-1===e.indexOf("ls_")&&-1===e.indexOf("ss_")||this._prefix&&0===e.indexOf(this._prefix))&&Cookies.remove(e)},setExpires:function(t){return this._expires=t,this},setPath:function(t){return this._path=t,this},setDomain:function(t){return this._domain=t,this},setConf:function(t){return t.path&&(this._path=t.path),t.domain&&(this._domain=t.domain),t.expires&&(this._expires=t.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};y||(window.localCookieStorage=c({},w,{_prefix:"ls_",_expires:3650}),window.sessionCookieStorage=c({},w,{_prefix:"ss_"+window.name+"_"})),window.cookieStorage=c({},w),v.cookieStorage=c({},_,{_type:"cookieStorage",setExpires:function(t){return window.cookieStorage.setExpires(t),this},setPath:function(t){return window.cookieStorage.setPath(t),this},setDomain:function(t){return window.cookieStorage.setDomain(t),this},setConf:function(t){return window.cookieStorage.setConf(t),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}return v.initNamespaceStorage=function(t){return a(t)},y?(v.localStorage=c({},_,{_type:"localStorage"}),v.sessionStorage=c({},_,{_type:"sessionStorage"})):(v.localStorage=c({},_,{_type:"localCookieStorage"}),v.sessionStorage=c({},_,{_type:"sessionCookieStorage"})),v.namespaceStorages={},v.removeAllStorages=function(t){v.localStorage.removeAll(t),v.sessionStorage.removeAll(t),v.cookieStorage&&v.cookieStorage.removeAll(t),t||(v.namespaceStorages={})},v.alwaysUseJsonInStorage=function(t){_.alwaysUseJson=t,v.localStorage.alwaysUseJson=t,v.sessionStorage.alwaysUseJson=t,v.cookieStorage&&(v.cookieStorage.alwaysUseJson=t)},v})},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(2),i=r(3),s=r(6),o=r(4),a=r(40),l=r(235),u=r(238);return s.View.extend({message:void 0,template:u,ui:{downloadButton:".attachment-download",saveToCloudButton:".attachment-save-to-cloud",importCalendarEventButton:".attachment-import.calendar",attachmentImportPopover:".attachment-import-popover"},events:{click:"_onClick","click @ui.saveToCloudButton":"_onSaveToCloud","click @ui.importCalendarEventButton":"_onImportCalendarEvent"},initialize:function(t){this.message=t.message,this.listenTo(o.ui,"document:click",this._closeImportPopover)},_onClick:function(t){if(!t.isDefaultPrevented()){var e=n(t.target);if(e.hasClass("select-calendar")){var r=e.data("calendar-url");return void this._uploadToCalendar(r)}t.preventDefault(),window.open(this.model.get("downloadUrl")),window.focus()}},_onSaveToCloud:function(t){t.preventDefault();var e=this;a.saveAttachmentToFiles(this.message,this.model.get("id"),function(){e.getUI("saveToCloudButton").removeClass("icon-folder").addClass("icon-loading-small").prop("disabled",!0)}).catch(console.error.bind(this)).then(function(){e.getUI("saveToCloudButton").addClass("icon-folder").removeClass("icon-loading-small").prop("disabled",!1)})},_onImportCalendarEvent:function(e){e.preventDefault(),this.getUI("importCalendarEventButton").removeClass("icon-add").addClass("icon-loading-small");var n=this;o.dav.request("calendars").then(function(e){if(e.length>0){n.getUI("attachmentImportPopover").addClass("open");var r=new l({collection:e});r.render(),n.getUI("attachmentImportPopover").html(r.$el)}else o.ui.trigger("error:show",t("mail","No writable calendars found"))}).catch(console.error.bind(this)).then(function(){n.getUI("importCalendarEventButton").removeClass("icon-loading-small").addClass("icon-add")})},_uploadToCalendar:function(e){this._closeImportPopover(),this.getUI("importCalendarEventButton").removeClass("icon-add").addClass("icon-loading-small");var n=this.model.get("downloadUrl"),r=this;o.message.request("attachment:download",n).then(function(n){return o.dav.request("calendar:import",e,n).catch(function(){o.ui.trigger("error:show",t("mail","Error while importing the calendar event"))})}).then(function(){r.getUI("importCalendarEventButton").removeClass("icon-loading-small").addClass("icon-add")}).catch(function(){o.ui.trigger("error:show",t("mail","Error while downloading calendar event")),r.getUI("importCalendarEventButton").removeClass("icon-loading-small").addClass("icon-add")})},_closeImportPopover:function(t){if(i.isUndefined(t))return void this.getUI("attachmentImportPopover").removeClass("open");var e=n(t.target);0===this.$el.find(e).length&&this.getUI("attachmentImportPopover").removeClass("open")}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(236);return e.CollectionView.extend({childView:r,tagName:"ul"})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(237);return e.View.extend({template:r,tagName:"li"})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r=n(7);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s,o=null!=e?e:t.nullContext||{},a=n.helperMissing,l=t.escapeExpression;return'<a class="select-calendar" data-calendar-url="'+l((s=null!=(s=n.url||(null!=e?e.url:e))?s:a,"function"==typeof s?s.call(o,{name:"url",hash:{},data:i}):s))+'">'+l((s=null!=(s=n.displayname||(null!=e?e.displayname:e))?s:a,"function"==typeof s?s.call(o,{name:"displayname",hash:{},data:i}):s))+"</a>"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({1:function(t,e,n,r,i){return'<img class="mail-attached-image" src="'+t.escapeExpression(t.lambda(null!=e?e.downloadUrl:e,e))+'">\n<br>\n'},3:function(t,e,i,s,o){return'<button class="button icon-add attachment-import calendar" title="'+t.escapeExpression(r(n(0)).call(null!=e?e:t.nullContext||{},"Import into calendar",{name:"t",hash:{},data:o}))+'"></button>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a,l=null!=e?e:t.nullContext||{},u=t.lambda,c=t.escapeExpression;return(null!=(a=i.if.call(l,null!=e?e.isImage:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'<img class="attachment-icon" src="'+c(u(null!=e?e.mimeUrl:e,e))+'" />\n<span class="attachment-name" title="'+c(u(null!=e?e.fileName:e,e))+" ("+c(r(n(83)).call(l,null!=e?e.size:e,{name:"humanFileSize",hash:{},data:o}))+')">'+c(u(null!=e?e.fileName:e,e))+' <span class="attachment-size">('+c(r(n(83)).call(l,null!=e?e.size:e,{name:"humanFileSize",hash:{},data:o}))+")</span></span>\n"+(null!=(a=i.if.call(l,null!=e?e.isCalendarEvent:e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o}))?a:"")+'<button class="button icon-download attachment-download" title="'+c(r(n(0)).call(l,"Download attachment",{name:"t",hash:{},data:o}))+'"></button>\n<button class="icon-folder attachment-save-to-cloud" title="'+c(r(n(0)).call(l,"Save to Files",{name:"t",hash:{},data:o}))+'"></button>\n<div class="popovermenu bubble attachment-import-popover hidden"></div>'},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({1:function(t,e,i,s,o){return'<p>\n\t<button class="icon-folder attachments-save-to-cloud">'+t.escapeExpression(r(n(0)).call(null!=e?e:t.nullContext||{},"Save all to Files",{name:"t",hash:{},data:o}))+"</button>\n</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s;return'<div class="attachments">\n\t\n</div>\n'+(null!=(s=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.moreThanOne:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({1:function(t,e,i,s,o){var a=null!=e?e:t.nullContext||{},l=t.escapeExpression;return"\t\t("+l(r(n(0)).call(a,"cc",{name:"t",hash:{},data:o}))+" "+l(r(n(41)).call(a,null!=e?e.cc:e,{name:"printAddressList",hash:{},data:o}))+")\n"},3:function(t,e,i,s,o){var a=null!=e?e:t.nullContext||{},l=t.escapeExpression;return'\t\t<div id="show-images-text">\n\t\t\t'+l(r(n(0)).call(a,"The images have been blocked to protect your privacy.",{name:"t",hash:{},data:o}))+'\n\t\t\t<button id="show-images-button">'+l(r(n(0)).call(a,"Show images from this sender",{name:"t",hash:{},data:o}))+'</button>\n\t\t</div>\n\t\t<div class="icon-loading">\n\t\t\t<iframe src="'+l(t.lambda(null!=e?e.htmlBodyUrl:e,e))+'" seamless>\n\t\t\t</iframe>\n\t\t</div>\n'},5:function(t,e,n,r,i){var s;return"\t\t"+(null!=(s=t.lambda(null!=e?e.body:e,e))?s:"")+"\n"},7:function(t,e,n,r,i){var s;return'\t<div class="mail-signature">\n\t\t'+(null!=(s=t.lambda(null!=e?e.signature:e,e))?s:"")+"\n\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a,l=t.lambda,u=t.escapeExpression,c=null!=e?e:t.nullContext||{};return'<div id="mail-message-close" class="icon-close"></div>\n<div id="mail-message-header" class="section">\n\t<h2 title="'+u(l(null!=e?e.subject:e,e))+'">'+u(l(null!=e?e.subject:e,e))+'</h2>\n\t<p class="transparency">\n\t\t'+u(r(n(41)).call(c,null!=e?e.from:e,{name:"printAddressList",hash:{},data:o}))+"\n\t\t"+u(r(n(0)).call(c,"to",{name:"t",hash:{},data:o}))+"\n\t\t"+u(r(n(41)).call(c,null!=e?e.to:e,{name:"printAddressList",hash:{},data:o}))+"\n"+(null!=(a=i.if.call(c,null!=(a=null!=e?e.cc:e)?a.length:a,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'\t</p>\n</div>\n<div class="mail-message-body">\n\t<div id="mail-content">\n'+(null!=(a=i.if.call(c,null!=e?e.hasHtmlBody:e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.program(5,o,0),data:o}))?a:"")+"\t</div>\n"+(null!=(a=i.if.call(c,null!=e?e.signature:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?a:"")+'\n\t<div class="mail-message-attachments"></div>\n\t<div id="reply-composer"></div>\n\t<input type="button" id="forward-button" value="'+u(r(n(0)).call(c,"Forward",{name:"t",hash:{},data:o}))+'">\n</div>\n'},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(3),r=Object.seal({None:0,To:1,Cc:2});return{buildReply:function(t,n){var i=r.None,s=t.folder.account.get("emailAddress"),o=function(t){return t.email===s},a=e.negate(o),l=e.find(n.get("to"),o);e.isUndefined(l)?(l=e.find(n.get("cc"),o),e.isUndefined(l)?l={label:s,email:s}:i=r.Cc):i=r.To;var u=[],c=[];return i===r.To?(u=n.get("to").filter(a),u=u.concat(n.get("from")),c=n.get("cc")):i===r.Cc?(u=n.get("to").concat(n.get("from")),c=n.get("cc").filter(a)):(u=n.get("to"),u=u.concat(n.get("from")),c=n.get("cc")),{to:u,from:l?[l]:[],fromEmail:t.folder.account.get("emailAddress"),cc:c,body:""}}}}.call(e,n,e,t))&&(t.exports=r)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(3),i=r(2),s=r(6),o=r(4),a=r(243),l=r(252),u=r(253),c=r(255);return s.CompositeView.extend({collection:null,$scrollContainer:void 0,childView:a,childViewContainer:"#mail-message-list",template:l,currentMessage:null,searchQuery:null,loadingMore:!1,_reloaded:!1,events:{DOMMouseScroll:"onWheel",mousewheel:"onWheel"},initialize:function(t){this.searchQuery=t.searchQuery;var e=this;this.on("dom:refresh",this._bindScrollEvents),o.ui.reply("messagesview:collection",function(){return e.collection}),this.listenTo(o.ui,"messagesview:messages:update",this.refresh),this.listenTo(o.ui,"messagesview:filter",this.filterCurrentMailbox),this.listenTo(o.ui,"messagesview:message:setactive",this.setActiveMessage),this.listenTo(o.message,"messagesview:message:next",this.selectNextMessage),this.listenTo(o.message,"messagesview:message:prev",this.selectPreviousMessage)},_bindScrollEvents:function(){this.$scrollContainer=this.$el.parent(),this.$scrollContainer.scroll(n.bind(this.onScroll,this))},emptyView:function(){return this.searchQuery&&""!==this.searchQuery?c:u},emptyViewOptions:function(){return{searchQuery:this.searchQuery}},setActiveMessage:function(t){this.collection.forEach(function(t){t.set("active",!1)}),this.currentMessage=t,null!==t&&t.set("active",!0),r(1).currentMessage=t,o.ui.trigger("title:update")},selectNextMessage:function(){if(null!==this.currentMessage){var t=this.collection.get(this.currentMessage);if(null!==t&&this.collection.indexOf(t)!==this.collection.length-1){var e=this.collection.at(this.collection.indexOf(t)+1);if(e){var n=e.folder,r=n.account;o.message.trigger("load",r,n,e,{force:!0})}}}},selectPreviousMessage:function(){if(null!==this.currentMessage){var t=this.collection.get(this.currentMessage);if(null!==t&&0!==this.collection.indexOf(t)){var e=this.collection.at(this.collection.indexOf(t)-1);if(e){var n=e.folder,r=n.account;o.message.trigger("load",r,n,e,{force:!0})}}}},refresh:function(){r(1).currentAccount&&r(1).currentFolder&&this._syncMessages()},onScroll:function(){if(this._reloaded)return void(this._reloaded=!1);if(!0!==this.loadingMore)return 0===this.$scrollContainer.scrollTop()?(this.loadingMore=!0,void this._syncMessages()):this.$scrollContainer.scrollTop()+this.$scrollContainer.height()>this.$el.height()-150?(this.loadingMore=!0,void this._loadNextMessages()):void 0},onWheel:function(t){t.originalEvent.wheelDelta&&t.originalEvent.wheelDelta>0?this.onScroll():t.originalEvent.detail&&t.originalEvent.detail<0&&this.onScroll()},filterCurrentMailbox:function(t){this.filterCriteria={text:t},this._syncMessages()},_loadNextMessages:function(){this.$("#load-more-mail-messages").addClass("icon-loading-small");var e=r(1).currentAccount,n=r(1).currentFolder;return o.message.request("next-page",e,n,{filter:this.searchQuery||""}).then(function(){o.ui.trigger("messagesview:message:setactive",r(1).currentMessage)},function(){o.ui.trigger("error:show",t("mail","Error while loading messages."))}).then(function(){this.$("#load-more-mail-messages").removeClass("icon-loading-small"),this.loadingMore=!1,this._reloaded=!1}.bind(this),console.error.bind(this))},_syncMessages:function(){i("#mail-message-list-loading").css("opacity",0).slideDown("slow").animate({opacity:1},{queue:!1,duration:"slow"});var e=r(1).currentFolder;return o.sync.request("sync:folder",e).catch(function(e){console.error(e),o.ui.trigger("error:show",t("mail","Error while refreshing messages."))}).then(function(){i("#mail-message-list-loading").css("opacity",1).slideUp("slow").animate({opacity:0},{queue:!1,duration:"slow",complete:function(){this.loadingMore=!1}.bind(this)}),this._reloaded=!0}.bind(this),console.error.bind(this))},onBeforeRender:function(){this.$scrollContainer&&(this._prevScrollTop=this.$scrollContainer.scrollTop())},onRender:function(){this.$scrollContainer&&this._prevScrollTop&&this.$scrollContainer.scrollTop(this._prevScrollTop)}})}.call(n,r,n,e))&&(e.exports=i)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(2);r(84);var i=r(3),s=r(8),o=r(6),a=r(4),l=r(249),u=r(53),c=r(54);return o.View.extend({template:l,ui:{iconDelete:".action.delete",star:".star"},events:{"click .action.delete":"deleteMessage","click .mail-message-header":"openMessage","click .star":"toggleMessageStar"},modelEvents:{change:"render"},_getMessageLabel:function(){var e=[];switch(e="sent"===this.model.folder.get("specialRole")?this.model.get("to"):this.model.get("from"),e.length){case 0:return"-";case 1:return e[0].label;default:return e[0].label+" "+t("mail","& others")}},serializeModel:function(){var t=this.model.toJSON();return t.isUnified=r(1).currentAccount&&r(1).currentAccount.get("isUnified"),t.sender=this.model.get("from")[0],t.label=this._getMessageLabel(),t},onRender:function(){this.$el=this.$el.children(),this.$el.unwrap(),this.setElement(this.$el);var t=this.model.get("from")[0].label;t&&i.each(this.$el.find(".avatar"),function(e){n(e).height("32px"),u(e,t,t)});var e=this,r="folder-"+this.model.folder.account.get("accountId");this.$el.draggable({appendTo:"#content-wrapper",scope:r,helper:function(){var t=n('<div class="icon-mail"></div>');return t.data("folderId",e.model.folder.get("id")),t.data("messageId",e.model.get("id")),t},cursorAt:{top:-5,left:-5},revert:"invalid"}),c(".action.delete",{placement:"left"}),this._fetchAvatar()},_fetchAvatar:function(){var t=s.generateUrl("/apps/mail/api/avatars/url/{email}",{email:this.model.get("fromEmail")});Promise.resolve(n.ajax(t)).then(function(t){t.isExternal?this.model.set("senderImage",s.generateUrl("/apps/mail/api/avatars/image/{email}",{email:this.model.get("fromEmail")})):this.model.set("senderImage",t.url)}.bind(this))},toggleMessageStar:function(t){t.stopPropagation();var e=this.model.get("flags").get("flagged");e?this.getUI("star").removeClass("icon-starred").addClass("icon-star"):this.getUI("star").removeClass("icon-star").addClass("icon-starred"),a.message.trigger("flag",this.model,"flagged",!e)},openMessage:function(t){t.stopPropagation(),n("#mail-message").removeClass("hidden-mobile"),a.message.trigger("flag",this.model,"unseen",!1),a.message.trigger("load",this.model.folder.account,this.model.folder,this.model,{force:!0})},deleteMessage:function(t){t.stopPropagation();var e=this.model;this.getUI("iconDelete").removeClass("icon-delete").addClass("icon-loading-small"),n(".tooltip").remove(),this.$el.addClass("transparency").slideUp(function(){n(".tooltip").remove(),a.folder.request("message:delete",e,r(1).currentFolder),t.clientX&&n(document.elementFromPoint(t.clientX,t.clientY)).trigger("mouseover")})}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r,i,s;!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})},function(t,e,n){var r,i,s;/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,r){return!!t.data(e,r[3])}})})},function(t,e,n){var r,i,s;!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.ui.plugin={add:function(e,n,r){var i,s=t.ui[e].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(t,e,n,r){var i,s=t.plugins[e];if(s&&(r||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(i=0;i<s.length;i++)t.options[s[i][0]]&&s[i][1].apply(t.element,n)}}})},function(t,e,n){var r,i,s;!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}})},function(t,e,n){var r,i,s;/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(10)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),r="absolute"===n,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return(!r||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:t(this[0].ownerDocument||document)}})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({1:function(t,e,n,r,i){return"unseen"},3:function(t,e,n,r,i){return"active"},5:function(t,e,i,s,o){return'\t<div class="mail-message-account-color" style="background-color: '+t.escapeExpression(r(n(86)).call(null!=e?e:t.nullContext||{},null!=e?e.accountMail:e,{name:"accountColor",hash:{},data:o}))+'"></div>\n'},7:function(t,e,n,r,i){return'\t\t\t<img src="'+t.escapeExpression(t.lambda(null!=e?e.senderImage:e,e))+'" width="32px" height="32px" />\n'},9:function(t,e,n,r,i){var s;return'\t\t\t<div class="avatar" data-user="'+t.escapeExpression(t.lambda(null!=(s=null!=e?e.sender:e)?s.label:s,e))+'" data-size="32"></div>\n'},11:function(t,e,n,r,i){return'\t\t<div class="star icon-starred" data-starred="true"></div>\n'},13:function(t,e,n,r,i){return'\t\t<div class="star icon-star" data-starred="false"></div>\n'},15:function(t,e,n,r,i){return'\t\t<div class="icon-reply"></div>\n'},17:function(t,e,n,r,i){return'\t\t<div class="icon-public icon-attachment"></div>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a,l=null!=e?e:t.nullContext||{},u=t.lambda,c=t.escapeExpression;return'<div class="mail-message-summary '+(null!=(a=i.if.call(l,null!=(a=null!=e?e.flags:e)?a.unseen:a,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+" "+(null!=(a=i.if.call(l,null!=e?e.active:e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o}))?a:"")+'" data-message-id="'+c(u(null!=e?e.id:e,e))+'">\n'+(null!=(a=i.if.call(l,null!=e?e.isUnified:e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?a:"")+'\t<div class="mail-message-header">\n\t\t<div class="sender-image avatardiv">\n'+(null!=(a=i.if.call(l,null!=e?e.senderImage:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.program(9,o,0),data:o}))?a:"")+"\t\t</div>\n\n"+(null!=(a=i.if.call(l,null!=(a=null!=e?e.flags:e)?a.flagged:a,{name:"if",hash:{},fn:t.program(11,o,0),inverse:t.program(13,o,0),data:o}))?a:"")+"\n"+(null!=(a=i.if.call(l,null!=(a=null!=e?e.flags:e)?a.answered:a,{name:"if",hash:{},fn:t.program(15,o,0),inverse:t.noop,data:o}))?a:"")+"\n"+(null!=(a=i.if.call(l,null!=(a=null!=e?e.flags:e)?a.hasAttachments:a,{name:"if",hash:{},fn:t.program(17,o,0),inverse:t.noop,data:o}))?a:"")+'\n\t\t<div class="mail-message-summary-from" title="'+c(u(null!=e?e.label:e,e))+'">'+c(u(null!=e?e.label:e,e))+'</div>\n\t\t<div class="mail-message-summary-subject" title="'+c(u(null!=e?e.subject:e,e))+'">\n\t\t\t'+c(u(null!=e?e.subject:e,e))+'\n\t\t</div>\n\t\t<div class="date">\n\t\t\t\t<span class="modified live-relative-timestamp"\n\t\t\t\t\tdata-timestamp="'+c(u(null!=e?e.dateMicro:e,e))+'"\n\t\t\t\t\ttitle="'+c(r(n(250)).call(l,null!=e?e.dateInt:e,{name:"formatDate",hash:{},data:o}))+'">\n\t\t\t\t\t'+c(r(n(251)).call(l,null!=e?e.dateInt:e,{name:"relativeModifiedDate",hash:{},data:o}))+'\n\t\t\t\t</span>\n\t\t</div>\n\t\t<div class="icon-delete action delete" title="'+c(u(null!=e?e.delete:e,e))+'"></div>\n\t</div>\n</div>\n'},useData:!0})},function(t,e,n){var r;void 0!==(r=function(){"use strict";return function(t){var e=new Date(1e3*t);return formatDate(e)}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(){"use strict";return function(t){var e=new Date(1e3*t),n=Math.round(e.getTime()/1e3);return relative_modified_date(n)}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r=n(7);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){return'<div id="mail-message-list-loading"\n     class="icon-loading-small"\n     style="display: none"></div>\n<div id="mail-message-list"></div>\n<div id="load-more-mail-messages"></div>'},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"strict";var e=n(6),r=n(254);return e.View.extend({id:"emptycontent",template:r})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){return'<div class="icon-mail"></div>\n<h2>'+t.escapeExpression(r(n(0)).call(null!=e?e:t.nullContext||{},"No messages in this folder!",{name:"t",hash:{},data:o}))+"</h2>"},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(256);return e.View.extend({initialize:function(t){this.model.set("searchTerm",t.searchQuery)},template:r})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a=t.escapeExpression;return'<div id="emptycontent" class="emptycontent-search">\n\t<div class="icon-search"></div>\n\t<h2>'+a(r(n(0)).call(null!=e?e:t.nullContext||{},"No search results for",{name:"t",hash:{},data:o}))+" "+a(t.lambda(null!=e?e.searchTerm:e,e))+"</h2>\n</div>"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({1:function(t,e,n,r,i){return'<div class="'+t.escapeExpression(t.lambda(null!=e?e.icon:e,e))+'"></div>'},3:function(t,e,i,s,o){return'\t<br>\n\t<button class="retry">'+t.escapeExpression(r(n(0)).call(null!=e?e:t.nullContext||{},"Try again",{name:"t",hash:{},data:o}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s,o=null!=e?e:t.nullContext||{};return'<div class="">\n\t'+(null!=(s=n.if.call(o,null!=e?e.icon:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")+"\n\t<h2>"+(null!=(s=t.lambda(null!=e?e.text:e,e))?s:"")+"</h2>\n"+(null!=(s=n.if.call(o,null!=e?e.canRetry:e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?s:"")+"</div>"},useData:!0})},function(t,e,n){var r=n(7);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var s,o;return'<div class="emptycontent">\n\t<a class="icon-loading"></a>\n\t<h2>'+(null!=(o=null!=(o=n.hint||(null!=e?e.hint:e))?o:n.helperMissing,s="function"==typeof o?o.call(null!=e?e:t.nullContext||{},{name:"hint",hash:{},data:i}):o)?s:"")+"</h2>\n</div>\n"},3:function(t,e,n,r,i){return'<div class="container icon-loading"></div>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s;return null!=(s=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.hint:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i}))?s:""},useData:!0})},function(t,e,n){var r=n(7);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){return'<div id="mail-messages"></div>\n<div id="mail-message" class=" hidden-mobile"></div>'},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(3),r=n(2),i=n(6),s=n(261),o=n(4);return i.CollectionView.extend({tagName:"ul",id:"app-navigation-accounts",className:"with-icon",collection:null,childView:s,initialize:function(){this.listenTo(o.ui,"folder:changed",this.onFolderChanged),this.listenTo(o.folder,"setactive",this.setFolderActive)},setFolderActive:function(t,r){n(1).accounts.each(function(t){var r=n(1).accounts.get(t.get("accountId"));if(!e.isUndefined(r)){var i=r.folders;e.each(i.models,function(t){i.get(t).set("active",!1)})}}),r&&r.set("active",!0)},onFolderChanged:function(){r("#mail-message").addClass("hidden-mobile")}})}.call(e,n,e,t))&&(t.exports=r)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(6),i=r(8),s=r(4),o=r(87),a=r(265);return n.View.extend({template:a,templateContext:function(){var e=this.collapsed?t("mail","Show all folders"):t("mail","Collapse folders");return{isUnifiedInbox:-1===this.model.get("accountId"),toggleCollapseMessage:e,hasMenu:-1!==this.model.get("accountId"),hasFolders:this.model.folders.length>0,isDeletable:-2!==this.model.get("accountId")}},events:{"click .account-toggle-collapse":"toggleCollapse","click .app-navigation-entry-utils-menu-button button":"toggleMenu","click @ui.deleteButton":"onDelete","click @ui.settingsButton":"showAccountSettings","click @ui.email":"onClick"},regions:{folders:{el:".folders",replaceElement:!0}},ui:{email:".mail-account-email",menu:".app-navigation-entry-menu",settingsButton:".action-settings",deleteButton:".action-delete"},className:"navigation-account",menuShown:!1,collapsed:!0,initialize:function(t){this.model=t.model},toggleCollapse:function(){this.collapsed=!this.collapsed,this.render()},toggleMenu:function(t){t.preventDefault(),this.menuShown=!this.menuShown,this.toggleMenuClass()},toggleMenuClass:function(){this.getUI("menu").toggleClass("open",this.menuShown)},onDelete:function(e){e.stopPropagation(),this.getUI("deleteButton").find(".icon-delete").removeClass("icon-delete").addClass("icon-loading-small");var n=this.model;s.account.request("delete",n).then(function(){window.location.reload()},function(){i.Notification.show(t("mail","Error while deleting account."))})},onClick:function(t){if(t.preventDefault(),this.model.folders.length>0){var e=this.model.get("accountId"),n=this.model.folders.first().get("id");s.navigation.trigger("folder",e,n)}},onRender:function(){this.listenTo(s.ui,"document:click",function(t){var e=$(t.target);this.$el.is(e.closest(".navigation-account"))||(this.menuShown=!1,this.toggleMenuClass())}),this.showChildView("folders",new o({collection:this.model.folders,collapsed:this.collapsed}))},showAccountSettings:function(t){this.toggleMenu(t),s.navigation.trigger("accountsettings",this.model.get("accountId"))}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";n(263);var e=n(3),r=n(6),i=n(8),s=n(4),o=n(264);return r.View.extend({tagName:"li",updateElClasses:function(){var t=["with-counter"];this.model.get("unseen")&&t.push("unseen"),this.model.get("active")&&t.push("active"),this.model.get("specialRole")&&t.push("special-"+this.model.get("specialRole")),this.model.folders.length>0&&t.push("collapsible"),this.model.get("open")&&t.push("open"),this.$el.prop("class","");var n=this;e.each(t,function(t){n.$el.addClass(t)})},template:o,templateContext:function(){var t=null;return t="drafts"===this.model.get("specialRole")?this.model.get("total"):this.model.get("unseen"),{count:t,url:i.generateUrl("apps/mail/#accounts/{accountId}/folders/{folderId}",{accountId:this.model.get("accountId"),folderId:this.model.get("id")}),folders:this.model.folders.length>0?this.model.folders.toJSON():void 0}},regions:{folders:".folders"},events:{"click .collapse":"collapseFolder","click .folder":"loadFolder"},modelEvents:{change:"render"},collapseFolder:function(t){t.preventDefault(),this.model.toggleOpen()},loadFolder:function(t){if(!t.isDefaultPrevented()){t.preventDefault();var e=n(1).accounts.get(this.model.get("accountId")),r=this.model;if(r.get("noSelect"))return void console.info("ignoring 'loadFolder' event for noSelect folder");s.navigation.trigger("folder",e.get("accountId"),r.get("id"))}},onRender:function(){var t=n(87);if(this.showChildView("folders",new t({collection:this.model.folders})),this.updateElClasses(),!/\/FLAGGED$/.test(atob(this.model.get("id")))){var r="folder-"+this.model.account.get("accountId");this.$el.droppable({scope:r,greedy:!0,drop:e.bind(function(t,e){var r=n(1).currentAccount,i=r.getFolderById(e.helper.data("folderId")),o=i.messages.get(e.helper.data("messageId"));s.message.trigger("move",r,i,o,r,this.model)},this),hoverClass:"ui-droppable-active"})}}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r,i,s;/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(o){i=[n(2),n(84),n(85),n(10),n(18)],r=o,void 0!==(s="function"==typeof r?r.apply(e,i):r)&&(t.exports=s)}(function(t){t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(r)?r:function(t){return t.is(r)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var r=t.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(n,r){var i=r||t.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var r=t(this).droppable("instance");if(r.options.greedy&&!r.options.disabled&&r.options.scope===i.options.scope&&r.accept.call(r.element[0],i.currentItem||i.element)&&e(i,t.extend(r,{offset:r.element.offset()}),r.options.tolerance,n))return s=!0,!1}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",n,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var e=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,r,i){if(!n.offset)return!1;var s=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=s+e.helperProportions.width,l=o+e.helperProportions.height,u=n.offset.left,c=n.offset.top,h=u+n.proportions().width,d=c+n.proportions().height;switch(r){case"fit":return u<=s&&a<=h&&c<=o&&l<=d;case"intersect":return u<s+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(i.pageY,c,n.proportions().height)&&t(i.pageX,u,n.proportions().width);case"touch":return(o>=c&&o<=d||l>=c&&l<=d||o<c&&l>d)&&(s>=u&&s<=h||a>=u&&a<=h||s<u&&a>h);default:return!1}}}();return t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var r,i,s=t.ui.ddmanager.droppables[e.options.scope]||[],o=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(r=0;r<s.length;r++)if(!(s[r].options.disabled||e&&!s[r].accept.call(s[r].element[0],e.currentItem||e.element))){for(i=0;i<a.length;i++)if(a[i]===s[r].element[0]){s[r].proportions().height=0;continue t}s[r].visible="none"!==s[r].element.css("display"),s[r].visible&&("mousedown"===o&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}))}},drop:function(n,r){var i=!1;return t.each((t.ui.ddmanager.droppables[n.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e(n,this,this.options.tolerance,r)&&(i=this._drop.call(this,r)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,r)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(n,r){n.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(n,r),t.each(t.ui.ddmanager.droppables[n.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,s,o,a=e(n,this,this.options.tolerance,r),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===s}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===l)),i&&"isover"===l&&(i.isover=!1,i.isout=!0,i._out.call(i,r)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,r),i&&"isout"===l&&(i.isout=!1,i.isover=!0,i._over.call(i,r)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable})},function(t,e,n){var r=n(7);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return'<button class="collapse"></button>\n'},3:function(t,e,n,r,i){var s;return" icon-"+t.escapeExpression((s=null!=(s=n.specialRole||(null!=e?e.specialRole:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:t.nullContext||{},{name:"specialRole",hash:{},data:i}):s))+" svg"},5:function(t,e,n,r,i){return" no-select "},7:function(t,e,n,r,i){return"#"},9:function(t,e,n,r,i){var s;return t.escapeExpression((s=null!=(s=n.url||(null!=e?e.url:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:t.nullContext||{},{name:"url",hash:{},data:i}):s))},11:function(t,e,n,r,i){var s;return t.escapeExpression((s=null!=(s=n.count||(null!=e?e.count:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:t.nullContext||{},{name:"count",hash:{},data:i}):s))},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s,o,a=null!=e?e:t.nullContext||{};return(null!=(s=n.if.call(a,null!=e?e.folders:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")+'<a class="folder\n\t'+(null!=(s=n.if.call(a,null!=e?e.specialRole:e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?s:"")+"\n\t"+(null!=(s=n.if.call(a,null!=e?e.noSelect:e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?s:"")+'"\n   href="'+(null!=(s=n.if.call(a,null!=e?e.noSelect:e,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.program(9,i,0),data:i}))?s:"")+'">\n\t'+t.escapeExpression((o=null!=(o=n.name||(null!=e?e.name:e))?o:n.helperMissing,"function"==typeof o?o.call(a,{name:"name",hash:{},data:i}):o))+'\n</a>\n<div class="app-navigation-entry-utils">\n\t<ul>\n\t\t<li class="app-navigation-entry-utils-counter">'+(null!=(s=n.if.call(a,null!=e?e.count:e,{name:"if",hash:{},fn:t.program(11,i,0),inverse:t.noop,data:i}))?s:"")+'</li>\n\t</ul>\n</div>\n<div class="folders"></div>'},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({1:function(t,e,n,r,i){var s,o=null!=e?e:t.nullContext||{};return'<li class="'+(null!=(s=n.if.call(o,null!=e?e.hasMenu:e,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?s:"")+'">\n'+(null!=(s=n.if.call(o,null!=e?e.emailAddress:e,{name:"if",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i}))?s:"")+"\t<a>"+t.escapeExpression(t.lambda(null!=e?e.emailAddress:e,e))+"</a>\n\n"+(null!=(s=n.if.call(o,null!=e?e.hasMenu:e,{name:"if",hash:{},fn:t.program(6,i,0),inverse:t.noop,data:i}))?s:"")+"</li>\n"},2:function(t,e,n,r,i){return" with-menu "},4:function(t,e,i,s,o){return'\t<div class="app-navigation-entry-bullet" style="background-color: '+t.escapeExpression(r(n(86)).call(null!=e?e:t.nullContext||{},null!=e?e.emailAddress:e,{name:"accountColor",hash:{},data:o}))+'"></div>\n'},6:function(t,e,i,s,o){var a,l=null!=e?e:t.nullContext||{};return'\t<div class="app-navigation-entry-utils">\n\t\t<ul>\n\t\t\t<li class="app-navigation-entry-utils-menu-button svg"><button></button></li>\n\t\t</ul>\n\t</div>\n\t<div class="app-navigation-entry-menu">\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a href="#" class="menuitem action action-settings permanent">\n\t\t\t\t\t<span class="icon icon-rename"></span>\n\t\t\t\t\t<span>'+t.escapeExpression(r(n(0)).call(l,"Settings",{name:"t",hash:{},data:o}))+"</span>\n\t\t\t\t</a>\n\t\t\t</li>\n"+(null!=(a=i.if.call(l,null!=e?e.isDeletable:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?a:"")+"\t\t</ul>\n\t</div>\n"},7:function(t,e,i,s,o){return'\t\t\t<li>\n\t\t\t\t<a href="#" class="menuitem action action-delete permanent">\n\t\t\t\t\t<span class="icon icon-delete"></span>\n\t\t\t\t\t<span>'+t.escapeExpression(r(n(0)).call(null!=e?e:t.nullContext||{},"Delete account",{name:"t",hash:{},data:o}))+"</span>\n\t\t\t\t</a>\n\t\t\t</li>\n"},9:function(t,e,n,r,i){var s;return null!=(s=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.hasFolders:e,{name:"if",hash:{},fn:t.program(10,i,0),inverse:t.noop,data:i}))?s:""},10:function(t,e,n,r,i){return'<li class="account-toggle-collapse">\n\t<a>'+t.escapeExpression(t.lambda(null!=e?e.toggleCollapseMessage:e,e))+"</a>\n</li>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s,o=null!=e?e:t.nullContext||{};return(null!=(s=n.unless.call(o,null!=e?e.isUnifiedInbox:e,{name:"unless",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")+'\n<div class="folders"></div>\n'+(null!=(s=n.unless.call(o,null!=e?e.isUnifiedInbox:e,{name:"unless",hash:{},fn:t.program(9,i,0),inverse:t.noop,data:i}))?s:"")},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(8),i=n(4),s=n(267);return e.View.extend({accounts:null,template:s,templateContext:function(){var t=n(45);return{addAccountUrl:r.generateUrl("apps/mail/#setup"),useExternalAvatars:t.getUseExternalAvatars(),keyboardShortcutUrl:r.generateUrl("apps/mail/#shortcuts")}},regions:{accountsList:"#settings-accounts"},events:{"click #new-mail-account":"addAccount","change #gravatar-enabled":"toggleExternalAvatars","click #keyboard-shortcuts":"showKeyboardShortcuts"},addAccount:function(t){t.preventDefault(),i.navigation.trigger("setup")},toggleExternalAvatars:function(){var t="checked"===this.$("#gravatar-enabled").attr("checked");i.preference.request("save","external-avatars",t?"true":"false")},showKeyboardShortcuts:function(t){t.preventDefault(),i.navigation.trigger("keyboardshortcuts")}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({1:function(t,e,n,r,i){return'checked="checked"'},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a,l=t.lambda,u=t.escapeExpression,c=null!=e?e:t.nullContext||{};return'<div id="mailsettings">\n\t<ul id="settings-accounts" class="mailaccount-list">\n\t</ul>\n\n\t<a id="new-mail-account"\n\t   class="button new-button"\n\t   href="'+u(l(null!=e?e.addAccountUrl:e,e))+'">'+u(r(n(0)).call(c,"Add mail account",{name:"t",hash:{},data:o}))+'</a>\n\n\t<p>\n\t\t<input class="checkbox"\n\t\t       id="gravatar-enabled"\n\t\t       '+(null!=(a=i.if.call(c,null!=e?e.useExternalAvatars:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'\n\t\t       type="checkbox">\n\t\t<label for="gravatar-enabled">'+u(r(n(0)).call(c,"Use Gravatar and favicon avatars",{name:"t",hash:{},data:o}))+'</label>\n\t</p>\n\n\t<p class="app-settings-hint">\n\t\t<a id="keyboard-shortcuts"\n\t\t   href="'+u(l(null!=e?e.keyboardShortcutUrl:e,e))+'">'+u(r(n(0)).call(c,"Keyboard shortcuts",{name:"t",hash:{},data:o}))+'</a>\n\t\t</p>\n\n\t\t<p class="app-settings-hint">\n\t\t\t'+(null!=(a=r(n(0)).call(c,'Looking to encrypt your emails? Install the <a href="https://www.mailvelope.com/" target="_blank">Mailvelope browser extension</a>!',{name:"t",hash:{},data:o}))?a:"")+"\n\t\t</p>\n\t</div>\n"},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(2),r=n(6),i=n(4),s=n(269);return r.View.extend({el:"#app-navigation",regions:{newMessage:"#mail-new-message-fixed",accounts:{el:"#app-navigation-accounts",replaceElement:!0},settings:"#app-settings-content"},initialize:function(){this.bindUIElements(),this.listenTo(i.ui,"navigation:show",this.show),this.listenTo(i.ui,"navigation:hide",this.hide),this.listenTo(i.ui,"navigation:newmessage:show",this.onShowNewMessage)},render:function(){},show:function(){this.$el.show(),e("#app-navigation-toggle").css("background-image","")},hide:function(){0===n(1).accounts.length&&(this.$el.hide(),e("#app-navigation-toggle").css("background-image","none"))},onShowNewMessage:function(){this.showChildView("newMessage",new s({accounts:this.options.accounts}))}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(4),i=n(270);return e.View.extend({template:i,accounts:null,ui:{button:"#mail_new_message"},events:{"click @ui.button":"onClick"},initialize:function(t){this.accounts=t.accounts,this.listenTo(t.accounts,"add",this.onAccountsChanged)},onRender:function(){this.onAccountsChanged()},onAccountsChanged:function(){0===this.accounts.size?this.getUI("button").hide():this.getUI("button").show()},onClick:function(t){t.preventDefault(),r.ui.trigger("composer:show",t)}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){return'<button type="button"\n       id="mail_new_message"\n       class="icon-add">'+t.escapeExpression(r(n(0)).call(null!=e?e:t.nullContext||{},"New message",{name:"t",hash:{},data:o}))+"</button>"},useData:!0})},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(3),i=r(6),s=r(4),o=r(88),a=r(89),l=r(42),u=r(43),c=r(273);return i.View.extend({className:"container",template:c,_loading:!1,_error:void 0,_config:void 0,regions:{content:".setup-content"},initialize:function(t){this._config=t.config},onRender:function(){n.isUndefined(this._error)?this._loading?this.showChildView("content",new u({text:t("mail","Setting up your account")})):this.showChildView("content",new a({config:this._config})):this.showChildView("content",new l({text:this._error,canRetry:!0}))},onChildviewFormSubmit:function(t){var e=this;return this._loading=!0,this._config=t,this.render(),s.account.request("create",t).then(function(){return s.ui.trigger("navigation:show"),s.ui.trigger("content:loading"),o.loadAccounts()}).then(function(t){var e=t.first(),n=e.folders.first();s.navigation.trigger("folder",e.get("accountId"),n.get("id"))}).catch(function(t){console.error("could not create account:",t),e._loading=!1,e._error=t,e.render()}).catch(console.error.bind(this))},onChildviewRetry:function(){this._loading=!1,this._error=void 0,this.render()}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a,l=null!=e?e:t.nullContext||{},u=t.escapeExpression,c=t.lambda;return'<form method="post">\n\t<div class="hidden-visually">\n\t\t\x3c!-- Hack for Safari and Chromium/Chrome which ignore autocomplete="off" --\x3e\n\t\t<input type="text" id="fake_user" name="fake_user"\n\t\t       autocomplete="off" tabindex="-1">\n\t\t<input type="password" id="fake_password" name="fake_password"\n\t\t       autocomplete="off" tabindex="-1">\n\t</div>\n\t<fieldset>\n\t\t<div id="emptycontent">\n\t\t\t<div class="icon-mail"></div>\n\t\t\t<h2>'+u(r(n(0)).call(l,"Connect your mail account",{name:"t",hash:{},data:o}))+'</h2>\n\t\t</div>\n\t\t<p class="grouptop">\n\t\t\t<input type="text"\n\t\t\t       name="account-name"\n\t\t\t       placeholder="'+u(r(n(0)).call(l,"Name",{name:"t",hash:{},data:o}))+'"\n\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.name:a,e))+'"\n\t\t\t       autofocus />\n\t\t</p>\n\t\t<p class="groupmiddle">\n\t\t\t<input type="email"\n\t\t\t       name="mail-address"\n\t\t\t       placeholder="'+u(r(n(0)).call(l,"Mail Address",{name:"t",hash:{},data:o}))+'"\n\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.emailAddress:a,e))+'"\n\t\t\t       required />\n\t\t</p>\n\t\t<p class="groupbottom">\n\t\t\t<input type="password"\n\t\t\t       name="mail-password"\n\t\t\t       placeholder="'+u(r(n(0)).call(l,"Password",{name:"t",hash:{},data:o}))+'"\n\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.password:a,e))+'"\n\t\t\t       required />\n\t\t</p>\n\n\t\t<a class="toggle-manual-mode icon-caret-dark">'+u(r(n(0)).call(l,"Manual configuration",{name:"t",hash:{},data:o}))+'</a>\n\n\t\t<div class="manual-inputs">\n\t\t\t<p class="grouptop">\n\t\t\t\t<input type="text"\n\t\t\t\t       name="imap-host"\n\t\t\t\t       placeholder="'+u(r(n(0)).call(l,"IMAP Host",{name:"t",hash:{},data:o}))+'"\n\t\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.imapHost:a,e))+'" />\n\t\t\t</p>\n\t\t\t<p class="groupmiddle" id="setup-imap-ssl">\n\t\t\t\t<select id="setup-imap-ssl-mode"\n\t\t\t\t\tname="imap-sslmode"\n\t\t\t\t\ttitle="'+u(r(n(0)).call(l,"IMAP security",{name:"t",hash:{},data:o}))+'">\n\t\t\t\t\t<option value="none">'+u(r(n(0)).call(l,"None",{name:"t",hash:{},data:o}))+'</option>\n\t\t\t\t\t<option value="ssl">'+u(r(n(0)).call(l,"SSL/TLS",{name:"t",hash:{},data:o}))+'</option>\n\t\t\t\t\t<option value="tls">'+u(r(n(0)).call(l,"STARTTLS",{name:"t",hash:{},data:o}))+'</option>\n\t\t\t\t</select>\n\t\t\t</p>\n\t\t\t<p class="groupmiddle">\n\t\t\t\t<input type="number"\n\t\t\t\t       name="imap-port"\n\t\t\t\t       placeholder="'+u(r(n(0)).call(l,"IMAP Port",{name:"t",hash:{},data:o}))+'"\n\t\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.imapPort:a,e))+'" />\n\t\t\t</p>\n\t\t\t<p class="groupmiddle">\n\t\t\t\t<input type="text"\n\t\t\t\t       name="imap-user"\n\t\t\t\t       placeholder="'+u(r(n(0)).call(l,"IMAP User",{name:"t",hash:{},data:o}))+'"\n\t\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.imapUser:a,e))+'" />\n\t\t\t</p>\n\t\t\t<p class="groupbottom">\n\t\t\t\t<input type="password"\n\t\t\t\t       name="imap-password"\n\t\t\t\t       placeholder="'+u(r(n(0)).call(l,"IMAP Password",{name:"t",hash:{},data:o}))+'"\n\t\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.imapPassword:a,e))+'"\n\t\t\t\t       required />\n\t\t\t</p>\n\t\t\t<p class="grouptop">\n\t\t\t\t<input type="text"\n\t\t\t\t       name="smtp-host"\n\t\t\t\t       placeholder="'+u(r(n(0)).call(l,"SMTP Host",{name:"t",hash:{},data:o}))+'"\n\t\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.smtpHost:a,e))+'" />\n\t\t\t</p>\n\t\t\t<p class="groupmiddle" id="setup-smtp-ssl">\n\t\t\t\t<select id="setup-smtp-ssl-mode"\n\t\t\t\t\tname="mail-smtp-sslmode"\n\t\t\t\t\ttitle="'+u(r(n(0)).call(l,"SMTP security",{name:"t",hash:{},data:o}))+'">\n\t\t\t\t\t<option value="none">'+u(r(n(0)).call(l,"None",{name:"t",hash:{},data:o}))+'</option>\n\t\t\t\t\t<option value="ssl">'+u(r(n(0)).call(l,"SSL/TLS",{name:"t",hash:{},data:o}))+'</option>\n\t\t\t\t\t<option value="tls">'+u(r(n(0)).call(l,"STARTTLS",{name:"t",hash:{},data:o}))+'</option>\n\t\t\t\t</select>\n\t\t\t</p>\n\t\t\t<p class="groupmiddle">\n\t\t\t\t<input type="number"\n\t\t\t\t       name="smtp-port"\n\t\t\t\t       placeholder="'+u(r(n(0)).call(l,"SMTP Port",{name:"t",hash:{},data:o}))+'"\n\t\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.smtpPort:a,e))+'" />\n\t\t\t</p>\n\t\t\t<p class="groupmiddle">\n\t\t\t\t<input type="text"\n\t\t\t\t       name="smtp-user"\n\t\t\t\t       placeholder="'+u(r(n(0)).call(l,"SMTP User",{name:"t",hash:{},data:o}))+'"\n\t\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.smtpUser:a,e))+'" />\n\t\t\t</p>\n\t\t\t<p class="groupbottom">\n\t\t\t\t<input type="password"\n\t\t\t\t       name="smtp-password"\n\t\t\t\t       placeholder="'+u(r(n(0)).call(l,"SMTP Password",{name:"t",hash:{},data:o}))+'"\n\t\t\t\t       value="'+u(c(null!=(a=null!=e?e.config:e)?a.smtpPassword:a,e))+'"\n\t\t\t\t       required />\n\t\t\t</p>\n\t\t</div>\n\n\t\t<input type="submit"\n\t\t       class="primary"\n\t\t       value="'+u(r(n(0)).call(l,"Connect",{name:"t",hash:{},data:o}))+'"/>\n\t</fieldset>\n</form>\n'},useData:!0})},function(t,e,n){var r=n(7);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){return'<div class="setup-content container"></div>\n'},useData:!0})},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(6),i=r(275),s=r(89),o=r(276),a=r(4);return n.View.extend({template:i,templateContext:function(){return{aliases:this.aliases,email:this.currentAccount.get("email")}},currentAccount:null,aliases:null,ui:{form:"form",alias:'input[name="alias"]',submitButton:"input[type=submit]",aliasName:'input[name="alias-name"]'},events:{"click @ui.submitButton":"onSubmit","submit @ui.form":"onSubmit"},regions:{aliasesRegion:"#aliases-list",accountRegion:"#mail-settings"},initialize:function(t){this.currentAccount=t.account},onSubmit:function(t){t.preventDefault();var e={alias:this.getUI("alias").val(),name:this.getUI("aliasName").val()};this.getUI("alias").prop("disabled",!0),this.getUI("aliasName").prop("disabled",!0),this.getUI("submitButton").val("Saving"),this.getUI("submitButton").prop("disabled",!0);var n=this;a.aliases.request("save",this.currentAccount,e).then(function(t){n.currentAccount.get("aliases").add(t)},console.error.bind(this)).then(function(){n.getUI("alias").val(""),n.getUI("aliasName").val(""),n.getUI("alias").prop("disabled",!1),n.getUI("aliasName").prop("disabled",!1),n.getUI("submitButton").prop("disabled",!1),n.getUI("submitButton").val("Save")})},onRender:function(){this.showAliases(),this.showAccountSetup()},showAliases:function(){this.showChildView("aliasesRegion",new o({currentAccount:this.currentAccount}))},showAccountSetup:function(){this.showChildView("accountRegion",new s({config:this.currentAccount.attributes,settingsPage:!0}))},startLoading:function(){OC.msg.startSaving("#mail-settings-msg"),$("#mail-settings-loading").show()},onChildviewFormSubmit:function(e){return e.accountId=this.currentAccount.get("accountId"),this.startLoading(),a.account.request("update",e).then(function(){var e={status:"success",data:{message:t("mail","Saved")}};OC.msg.finishedSaving("#mail-settings-msg",e),$("#mail-settings-loading").hide()}).catch(function(t){console.error("could not update account:",t);var e={status:"error",data:{message:t}};OC.msg.finishedSaving("#mail-settings-msg",e),$("#mail-settings-loading").hide()}).catch(console.error.bind(this))}})}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a=null!=e?e:t.nullContext||{},l=t.escapeExpression;return'<div class="section" id="account-info">\n\t<h2>'+l(r(n(0)).call(a,"Account Settings",{name:"t",hash:{},data:o}))+" - "+l(t.lambda(null!=e?e.email:e,e))+'</h2>\n</div>\n\n<div class="section" id="aliases">\n\t<h2>'+l(r(n(0)).call(a,"Aliases",{name:"t",hash:{},data:o}))+'</h2>\n\t<div id="aliases-list"></div>\n\t<form name="aliasForm" method="post">\n\t\t<input type="text" name="alias" id="alias" placeholder="'+l(r(n(0)).call(a,"Mail address",{name:"t",hash:{},data:o}))+'">\n\t\t<input type="text" name="alias-name" id="alias-name" placeholder="'+l(r(n(0)).call(a,"Display Name",{name:"t",hash:{},data:o}))+'">\n\t\t<input type="submit" value="'+l(r(n(0)).call(a,"Save",{name:"t",hash:{},data:o}))+'">\n\t</form>\n</div>\n\n<div class="section">\n\t<h2>'+l(r(n(0)).call(a,"Account",{name:"t",hash:{},data:o}))+'</h2>\n\t<div id="mail-settings-status">\n\t\t<div id="mail-settings-loading" class="icon-loading-small" style="display: none; float: left; margin-right: 10px;"></div>\n\t\t<span id="mail-settings-msg" class="msg success" style="display: none;">Saved</span>\n\t</div>\n\t<div id="mail-settings"></div>\n</div>\n'},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(277);return e.CollectionView.extend({collection:null,tagName:"table",childView:r,currentAccount:null,initialize:function(t){this.currentAccount=t.currentAccount,this.collection=this.currentAccount.get("aliases")}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(6),r=n(278),i=n(4);return e.View.extend({collection:null,model:null,tagName:"tr",childViewContainer:"tbody",template:r,templateContext:function(){return{aliases:this.model.toJSON()}},ui:{deleteButton:"button"},events:{"click @ui.deleteButton":"deleteAlias"},initialize:function(t){this.model=t.model},deleteAlias:function(t){t.stopPropagation();var e=n(1).accounts.get(this.model.get("accountId")),r=this;this.getUI("deleteButton").prop("disabled",!0),this.getUI("deleteButton").attr("class","icon-loading-small"),i.aliases.request("delete",e,this.model.get("id")).then(function(){e.get("aliases").remove(r.model)},console.error.bind(this)).then(function(){r.getUI("deleteButton").attr("class","icon-delete"),r.getUI("deleteButton").prop("disabled",!1)})}})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r=n(7);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s,o,a=t.lambda,l=t.escapeExpression;return'<table class="grid">\n\t<tbody>\n\t<tr id="'+l(a(null!=(s=null!=e?e.aliases:e)?s.id:s,e))+'">\n\t\t<td style="padding:0 5px 0 5px;">\n\t\t\t'+l(a(null!=(s=null!=e?e.aliases:e)?s.alias:s,e))+'\n\t\t</td>\n\t\t<td style="padding:0 5px 0 5px;">\n\t\t\t'+l(a(null!=(s=null!=e?e.aliases:e)?s.name:s,e))+'\n\t\t</td>\n\t\t<td style="padding:0 5px 0 5px;"> <button type="submit" value="'+l((o=null!=(o=n.id||(null!=e?e.id:e))?o:n.helperMissing,"function"==typeof o?o.call(null!=e?e:t.nullContext||{},{name:"id",hash:{},data:i}):o))+'" class="icon-delete"></button>\n\t\t</td>\n\t</tr>\n\t</tbody>\n</table>'},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"strict";var e=n(6),r=n(280);return e.View.extend({id:"keyboardshortcut",template:r})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var i=n(7);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,e,i,s,o){var a=null!=e?e:t.nullContext||{},l=t.escapeExpression;return'<div id="app-shortcuts" class="section">\n\n\t<h2>'+l(r(n(0)).call(a,"Keyboard shortcuts",{name:"t",hash:{},data:o}))+"</h2>\n\n\t<p>"+l(r(n(0)).call(a,"Speed up your Mail experience with these quick shortcuts.",{name:"t",hash:{},data:o}))+"</p>\n\n\t<dl>\n\t\t<div>\n\t\t\t<dt><kbd>C</kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Compose new message",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\t\t<div>\n\t\t\t<dt><kbd>K</kbd> or <kbd></kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Newer message",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\t\t<div>\n\t\t\t<dt><kbd>J</kbd> or <kbd></kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Older message",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<dt><kbd>S</kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Toggle star",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\t\t<div>\n\t\t\t<dt><kbd>U</kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Toggle unread",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\t\t<div>\n\t\t\t<dt><kbd>Del</kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Delete",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<dt><kbd>Ctrl</kbd> + <kbd>F</kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Search",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\t\t<div>\n\t\t\t<dt><kbd>Ctrl</kbd> + <kbd>Enter</kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Send",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\t\t<div>\n\t\t\t<dt><kbd>R</kbd></dt>\n\t\t\t<dd>"+l(r(n(0)).call(a,"Refresh",{name:"t",hash:{},data:o}))+"</dd>\n\t\t</div>\n\t</dl>\n\n</div>\n"},useData:!0})},function(t,e,n){var r;void 0!==(r=function(t){"use strict";var e=n(2),r=n(3);window.getScrollBarWidth=window.getScrollBarWidth||function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return n===r&&(r=e.clientWidth),document.body.removeChild(e),n-r},window.adjustControlsWidth=function(){if(e("#mail-message-header").length){var t;e(window).width()>768&&(t=e("#content").width()-e("#app-navigation").width()-e("#mail-messages").width()-getScrollBarWidth()),e("#mail-message-header").css("width",t),e("#mail-message-header").css("min-width",t)}},e(window).resize(r.debounce(window.adjustControlsWidth,250))}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";return n(6).AppRouter.extend({appRoutes:{"":"default","accounts/:accountId/folders/:folderId":"showFolder","accounts/:accountId/folders/:folderId/search/:query":"searchFolder","mailto(?:params)":"mailTo",setup:"showSetup",shortcuts:"showKeyboardShortcuts","accounts/:accountId/settings":"showAccountSettings"}})}.call(e,n,e,t))&&(t.exports=r)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";var n=r(3),i=r(9),s=r(4),o=r(44),a=function(t){this.initialize(t)};return a.prototype={accounts:void 0,initialize:function(t){this.accounts=t,s.navigation.on("folder",n.bind(this.showFolder,this)),s.navigation.on("search",n.bind(this.searchFolder,this)),s.navigation.on("setup",n.bind(this.showSetup,this)),s.navigation.on("accountsettings",n.bind(this.showAccountSettings,this)),s.navigation.on("keyboardshortcuts",n.bind(this.showKeyboardShortcuts,this))},_navigate:function(t,e){e=e||{},i.history.navigate(t,e)},_handleMailto:function(t){var e={};return t=t.split("&"),n.each(t,function(t){t=t.split("=");var n=t[0],r=t[1];switch(r=decodeURIComponent(r.replace(/\+/g,"%20")),n){case"mailto":case"to":e.to=r;break;case"cc":e.cc=r;break;case"bcc":e.bcc=r;break;case"subject":e.subject=r;break;case"body":e.body=r}}),this.default(!0).then(function(){s.ui.trigger("composer:show",e)}).catch(console.error.bind(this))},default:function(t){this._navigate("");var e=this;if(this.accounts.isEmpty())return e.showSetup();var n=this.accounts.at(0),r=n.folders.at(0);return e.showFolder(n.get("accountId"),r.get("id"),t)},showFolder:function(e,r,i){this._navigate("accounts/"+e+"/folders/"+r);var a=this,l=this.accounts.get(e);if(n.isUndefined(l))return s.ui.trigger("error:show",t("mail","Invalid account")),a.default();var u=l.getFolderById(r);return n.isUndefined(u)?(u=l.folders.at(0),s.ui.trigger("error:show",t("mail","Invalid folder")),this._navigate("accounts/"+e+"/folders/"+u.get("id")),Promise.resolve()):o.showFolder(l,u,!i)},searchFolder:function(e,r,i){if(!i||""===i)return void this.showFolder(e,r);this._navigate("accounts/"+e+"/folders/"+r+"/search/"+i);var a=this.accounts.get(e);if(n.isUndefined(a))return s.ui.trigger("error:show",t("mail","Invalid account")),void this.default();var l=a.getFolderById(r);n.isUndefined(l)&&(l=a.folders.at(0),s.ui.trigger("error:show",t("mail","Invalid folder")),this._navigate("accounts/"+e+"/folders/"+l.get("id"))),o.searchFolder(a,l,i)},mailTo:function(t){this._handleMailto(t)},showSetup:function(){return this._navigate("setup"),s.ui.trigger("composer:leave"),s.ui.trigger("navigation:hide"),s.ui.trigger("setup:show"),Promise.resolve()},showKeyboardShortcuts:function(){this._navigate("shortcuts"),s.ui.trigger("composer:leave"),s.ui.trigger("keyboardShortcuts:show")},showAccountSettings:function(e){this._navigate("accounts/"+e+"/settings");var r=this.accounts.get(e);if(n.isUndefined(r))return s.ui.trigger("error:show",t("mail","Invalid account")),void this.default();s.ui.trigger("composer:leave"),s.ui.trigger("navigation:hide"),s.ui.trigger("accountsettings:show",r)}},a}.call(n,r,n,e))&&(e.exports=i)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";function n(e){var n=u.generateUrl("apps/mail/api/accounts");return new Promise(function(r,i){l.ajax(n,{data:e,type:"POST",success:r,error:function(e,n,r){switch(e.status){case 400:var s=JSON.parse(e.responseText);i(t("mail","Error while creating the account: "+s.message));break;default:var o=r||n||t("mail","Unknown error");i(t("mail","Error while creating the account: "+o))}}})})}function i(){var t=l("#serialized-accounts"),e=r(1).accounts;if(""!==t.val()){var n=t.val(),i=JSON.parse(atob(n));e.reset();for(var s=0;s<i.length;s++)e.add(i[s]);return t.val(""),Promise.resolve(e)}return new Promise(function(t,n){e.fetch({success:function(){t(e)},error:n})})}function s(){return i().then(function(t){return r(16).cleanUp(t),t.length>1&&t.add({accountId:-1,isUnified:!0},{at:0}),t})}function o(t){var e=u.generateUrl("/apps/mail/api/accounts/{accountId}",{accountId:t.get("accountId")});return Promise.resolve(l.ajax(e,{type:"DELETE"})).then(function(){r(16).removeAccount(t)})}function a(e){var n=u.generateUrl("/apps/mail/api/accounts/{accountId}",{accountId:e.accountId});return new Promise(function(r,i){l.ajax(n,{data:e,type:"PUT",success:r,error:function(e,n,r){switch(e.status){case 400:var s=JSON.parse(e.responseText);i(t("mail","Error while updating the account: "+s.message));break;default:var o=r||n||t("mail","Unknown error");i(t("mail","Error while updating the account: "+o))}}})})}var l=r(2),u=r(8),c=r(4);return c.account.reply("create",n),c.account.reply("entities",s),c.account.reply("delete",o),c.account.reply("update",a),{createAccount:n}}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t,e){var n=s.generateUrl("/apps/mail/api/accounts/{id}/aliases",{id:t.get("accountId")}),r={type:"POST",data:{accountId:t.get("accountId"),alias:e.alias,aliasName:e.name}};return Promise.resolve(i.ajax(n,r))}function r(t,e){var n=s.generateUrl("/apps/mail/api/accounts/{id}/aliases/{aliasId}",{id:t.get("accountId"),aliasId:e}),r={type:"DELETE"};return Promise.resolve(i.ajax(n,r))}var i=n(2),s=n(8),o=n(4);o.aliases.reply("save",e),o.aliases.reply("delete",r)}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t,e,n){e=e||0;var r=u.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages/{messageId}/attachment/{attachmentId}",{accountId:t.folder.account.get("accountId"),folderId:t.folder.get("id"),messageId:t.get("id"),attachmentId:e}),i={data:{targetPath:n},type:"POST"};return Promise.resolve(l.ajax(r,i))}function r(t){return Promise.resolve(l.ajax(t))}function i(t,e){var n=new FormData;n.append("attachment",t);var r=e.onProgress,i=u.generateUrl("/apps/mail/api/attachments");return Promise.resolve(l.ajax({url:i,type:"POST",xhr:function(){var t=l.ajaxSettings.xhr();return e.set("uploadRequest",t),t.upload&&a.isFunction(r)&&t.upload.addEventListener("progress",r.bind(e),!1),t},data:n,processData:!1,contentType:!1})).then(function(t){return t.id})}function s(t){var e=t.get("uploadRequest");e&&e.readyState<4&&e.abort(),t.collection.remove(t)}function o(t,e){void 0===e||t.get("progress")<1?t.set("uploadStatus",2):(t.set("id",e),t.set("uploadStatus",3)),t.unset("uploadRequest")}var a=n(3),l=n(2),u=n(8),c=n(4);return c.message.reply("save:cloud",e),c.message.reply("attachment:download",r),c.attachment.reply("upload:local",i),c.attachment.reply("upload:abort",s),c.attachment.reply("upload:finished",o),{uploadLocalAttachment:i,uploadLocalAttachmentFinished:o}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t){a=t,clearTimeout(o),r()}function r(){o=setTimeout(function(){var t;0===n(1).accounts.length?r():t=1===n(1).accounts.length?a.first():a.get(-1),i(t)},l)}function i(t){return s.sync.request("sync:folder",t.folders.first()).then(function(t){s.ui.trigger("notification:mail:show",t)}).catch(function(t){console.error(t)}).then(r)}var s=n(4),o=null,a=null;s.sync.on("start",e);var l=3e4;return{sync:i}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t){return parseInt(t.split(" ")[1])}function r(t){var e=!1,n=t["{DAV:}acl"];if(n)for(var r=0;r<n.length;r++){var i=n[r].getElementsByTagNameNS("DAV:","href");if(0!==i.length){i=i[0].textContent;var s=n[r].getElementsByTagNameNS("DAV:","write");s.length>0&&(e=!0)}}t.canWrite=e}function i(t){r(t);for(var e={displayname:t["{DAV:}displayname"],color:t["{http://apple.com/ns/ical/}calendar-color"],order:t["{http://apple.com/ns/ical/}calendar-order"],components:{vevent:!1},writable:t.canWrite},n=t["{urn:ietf:params:xml:ns:caldav}supported-calendar-component-set"]||[],i=0;i<n.length;i++){var s=n[i].attributes.getNamedItem("name").textContent.toLowerCase();e.components.hasOwnProperty(s)&&(e.components[s]=!0)}return e}function s(){var t=g.linkToRemote("dav/calendars")+"/"+g.currentUser+"/";return y.propFind(t,b,1,{requesttoken:g.requestToken}).then(function(t){var n=new d.Collection;return c.each(t.body,function(t){if(!(t.propStat.length<1)&&200===e(t.propStat[0].status)){var r=i(t.propStat[0].properties);r&&r.components.vevent&&!0===r.writable&&(r.url=t.href,n.push(new v(r)))}}),n})}function o(){for(var t="",e=0;e<7;e++)t+=Math.random().toString(36).substring(7);return t}function a(){var t=new p.Component(["vcalendar",[],[]]);return t.updatePropertyWithValue("prodid","-//"+g.theme.name+" Mail"),t}function l(t){var e=[],n={},r=p.parse(t),i=new p.Component(r),s=i.getAllSubcomponents("vtimezone");c.each(s,function(t){e.push(t)});var o=["vevent","vjournal","vtodo"];c.each(o,function(t){var e=i.getAllSubcomponents(t);n[t]={},c.each(e,function(e){var r=e.getFirstPropertyValue("uid");n[t][r]=n[t][r]||[],n[t][r].push(e)})});var l=[];return c.each(o,function(t){l[t]=[],c.each(n[t],function(n){var r=a();c.each(e,function(t){r.addSubcomponent(t)}),c.each(n,function(t){r.addSubcomponent(t)}),l[t].push(r.toString())})}),{name:i.getFirstPropertyValue("x-wr-calname"),color:i.getFirstPropertyValue("x-apple-calendar-color"),split:l}}function u(t,e){var n=[],r=l(e),i=["vevent","vjournal","vtodo"];return c.each(i,function(e){c.each(r.split[e],function(e){n.push(Promise.resolve(h.ajax({url:t+o(),method:"PUT",contentType:"text/calendar; charset=utf-8",data:e})))})}),Promise.all(n)}var c=n(3),h=n(2),d=n(9),f=n(289),p=n(290),g=n(8),m=n(4),v=n(291);m.dav.reply("calendars",s),m.dav.reply("calendar:import",u);var y=new f.Client({baseUrl:g.linkToRemote("dav/calendars"),xmlNamespaces:{"DAV:":"d","urn:ietf:params:xml:ns:caldav":"c","http://apple.com/ns/ical/":"aapl","http://owncloud.org/ns":"oc","http://calendarserver.org/ns/":"cs"}}),b=["{DAV:}displayname","{urn:ietf:params:xml:ns:caldav}calendar-description","{urn:ietf:params:xml:ns:caldav}calendar-timezone","{http://apple.com/ns/ical/}calendar-order","{http://apple.com/ns/ical/}calendar-color","{urn:ietf:params:xml:ns:caldav}supported-calendar-component-set","{http://owncloud.org/ns}calendar-enabled","{DAV:}acl","{DAV:}owner","{http://owncloud.org/ns}invite"]}.call(e,n,e,t))&&(t.exports=r)},function(t,e){"undefined"==typeof dav&&(dav={}),dav._XML_CHAR_MAP={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"},dav._escapeXml=function(t){return t.replace(/[<>&"']/g,function(t){return dav._XML_CHAR_MAP[t]})},dav.Client=function(t){var e;for(e in t)this[e]=t[e]},dav.Client.prototype={baseUrl:null,userName:null,password:null,xmlNamespaces:{"DAV:":"d"},propFind:function(t,e,n,r){void 0===n&&(n=0),r=r||{},r.Depth=n,r["Content-Type"]="application/xml; charset=utf-8";var i,s='<?xml version="1.0"?>\n<d:propfind ';for(i in this.xmlNamespaces)s+=" xmlns:"+this.xmlNamespaces[i]+'="'+i+'"';s+=">\n  <d:prop>\n";for(var o in e){var a=this.parseClarkNotation(e[o]);this.xmlNamespaces[a.namespace]?s+="    <"+this.xmlNamespaces[a.namespace]+":"+a.name+" />\n":s+="    <x:"+a.name+' xmlns:x="'+a.namespace+'" />\n'}return s+="  </d:prop>\n",s+="</d:propfind>",this.request("PROPFIND",t,r,s).then(function(t){return 0===n?{status:t.status,body:t.body[0],xhr:t.xhr}:{status:t.status,body:t.body,xhr:t.xhr}}.bind(this))},_renderPropSet:function(t){var e="  <d:set>\n   <d:prop>\n";for(var n in t){var r,i=this.parseClarkNotation(n),s=t[n];r=this.xmlNamespaces[i.namespace]?this.xmlNamespaces[i.namespace]+":"+i.name:"x:"+i.name+' xmlns:x="'+i.namespace+'"',"d:resourcetype"!==r&&(s=dav._escapeXml(s)),e+="      <"+r+">"+s+"</"+r+">\n"}return e+="    </d:prop>\n",e+="  </d:set>\n"},propPatch:function(t,e,n){n=n||{},n["Content-Type"]="application/xml; charset=utf-8";var r,i='<?xml version="1.0"?>\n<d:propertyupdate ';for(r in this.xmlNamespaces)i+=" xmlns:"+this.xmlNamespaces[r]+'="'+r+'"';return i+=">\n"+this._renderPropSet(e),i+="</d:propertyupdate>",this.request("PROPPATCH",t,n,i).then(function(t){return{status:t.status,body:t.body,xhr:t.xhr}}.bind(this))},mkcol:function(t,e,n){var r="";if(n=n||{},n["Content-Type"]="application/xml; charset=utf-8",e){r='<?xml version="1.0"?>\n<d:mkcol';var i;for(i in this.xmlNamespaces)r+=" xmlns:"+this.xmlNamespaces[i]+'="'+i+'"';r+=">\n"+this._renderPropSet(e),r+="</d:mkcol>"}return this.request("MKCOL",t,n,r).then(function(t){return{status:t.status,body:t.body,xhr:t.xhr}}.bind(this))},request:function(t,e,n,r){var i=this,s=this.xhrProvider();n=n||{},this.userName&&(n.Authorization="Basic "+btoa(this.userName+":"+this.password)),s.open(t,this.resolveUrl(e),!0);var o;for(o in n)s.setRequestHeader(o,n[o]);return void 0===r?s.send():s.send(r),new Promise(function(t,e){s.onreadystatechange=function(){if(4===s.readyState){var e=s.response;207===s.status&&(e=i.parseMultiStatus(s.response)),t({body:e,status:s.status,xhr:s})}},s.ontimeout=function(){e(new Error("Timeout exceeded"))}})},xhrProvider:function(){return new XMLHttpRequest},_parsePropNode:function(t){var e=null;if(t.childNodes&&t.childNodes.length>0){for(var n=[],r=0;r<t.childNodes.length;r++){var i=t.childNodes[r];1===i.nodeType&&n.push(i)}n.length&&(e=n)}return e||t.textContent||t.text||""},parseMultiStatus:function(t){for(var e=new DOMParser,n=e.parseFromString(t,"application/xml"),r=function(t){var e;for(e in this.xmlNamespaces)if(this.xmlNamespaces[e]===t)return e}.bind(this),i=n.evaluate("/d:multistatus/d:response",n,r,XPathResult.ANY_TYPE,null),s=[],o=i.iterateNext();o;){var a={href:null,propStat:[]};a.href=n.evaluate("string(d:href)",o,r,XPathResult.ANY_TYPE,null).stringValue;for(var l=n.evaluate("d:propstat",o,r,XPathResult.ANY_TYPE,null),u=l.iterateNext();u;){for(var c={status:n.evaluate("string(d:status)",u,r,XPathResult.ANY_TYPE,null).stringValue,properties:{}},h=n.evaluate("d:prop/*",u,r,XPathResult.ANY_TYPE,null),d=h.iterateNext();d;){var f=this._parsePropNode(d);c.properties["{"+d.namespaceURI+"}"+d.localName]=f,d=h.iterateNext()}a.propStat.push(c),u=l.iterateNext()}s.push(a),o=i.iterateNext()}return s},resolveUrl:function(t){if(/^https?:\/\//i.test(t))return t;var e=this.parseUrl(this.baseUrl);if(t.charAt("/"))return e.root+t;var n=e.root+"/";return-1!==e.path.lastIndexOf("/")&&(n=n=e.path.subString(0,e.path.lastIndexOf("/"))+"/"),n+=t,t},parseUrl:function(t){var e=t.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/),n={url:e[0],scheme:e[1],host:e[3],port:e[4],path:e[5],query:e[6],fragment:e[7]};return n.root=n.scheme+"://"+n.host+(n.port?":"+n.port:""),n},parseClarkNotation:function(t){var e=t.match(/^{([^}]+)}(.*)$/);if(e)return{name:e[2],namespace:e[1]}}},t.exports=dav},function(t,e,n){ICAL=t.exports,ICAL.foldLength=75,ICAL.newLineChar="\r\n",ICAL.helpers={isStrictlyNaN:function(t){return"number"==typeof t&&isNaN(t)},strictParseInt:function(t){var e=parseInt(t,10);if(ICAL.helpers.isStrictlyNaN(e))throw new Error('Could not extract integer from "'+t+'"');return e},formatClassType:function(t,e){if(void 0!==t)return t instanceof e?t:new e(t)},unescapedIndexOf:function(t,e,n){for(;-1!==(n=t.indexOf(e,n));){if(!(n>0&&"\\"===t[n-1]))return n;n+=1}return-1},binsearchInsert:function(t,e,n){if(!t.length)return 0;for(var r,i,s=0,o=t.length-1;s<=o;)if(r=s+Math.floor((o-s)/2),(i=n(e,t[r]))<0)o=r-1;else{if(!(i>0))break;s=r+1}return i<0?r:i>0?r+1:r},dumpn:function(){ICAL.debug&&("undefined"!=typeof console&&"log"in console?ICAL.helpers.dumpn=function(t){console.log(t)}:ICAL.helpers.dumpn=function(t){dump(t+"\n")},ICAL.helpers.dumpn(arguments[0]))},clone:function(t,e){if(t&&"object"==typeof t){if(t instanceof Date)return new Date(t.getTime());if("clone"in t)return t.clone();if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++)n.push(e?ICAL.helpers.clone(t[r],!0):t[r]);return n}var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e?ICAL.helpers.clone(t[s],!0):t[s]);return i}return t},foldline:function(t){for(var e="",n=t||"";n.length;)e+=ICAL.newLineChar+" "+n.substr(0,ICAL.foldLength),n=n.substr(ICAL.foldLength);return e.substr(ICAL.newLineChar.length+1)},pad2:function(t){switch("string"!=typeof t&&("number"==typeof t&&(t=parseInt(t)),t=String(t)),t.length){case 0:return"00";case 1:return"0"+t;default:return t}},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},inherits:function(t,e,n){function r(){}r.prototype=t.prototype,e.prototype=new r,n&&ICAL.helpers.extend(n,e.prototype)},extend:function(t,e){for(var n in t){var r=Object.getOwnPropertyDescriptor(t,n);r&&!Object.getOwnPropertyDescriptor(e,n)&&Object.defineProperty(e,n,r)}return e}},ICAL.design=function(){"use strict";function t(t,e){return{matches:/.*/,fromICAL:function(e,r){return n(e,t,r)},toICAL:function(t,n){var r=e;return n&&(r=new RegExp(r.source+"|"+n)),t.replace(r,function(t){switch(t){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case"\n":return"\\n";default:return t}})}}}function e(t){switch(t){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return"\n";default:return t}}function n(t,n,r){return-1===t.indexOf("\\")?t:(r&&(n=new RegExp(n.source+"|\\\\"+r)),t.replace(n,e))}var r=/\\\\|\\;|\\,|\\[Nn]/g,i=/\\|;|,|\n/g,s=/\\\\|\\,|\\[Nn]/g,o=/\\|,|\n/g,a={defaultType:"text"},l={defaultType:"text",multiValue:","},u={defaultType:"text",structuredValue:";"},c={defaultType:"integer"},h={defaultType:"date-time",allowedTypes:["date-time","date"]},d={defaultType:"date-time"},f={defaultType:"uri"},p={defaultType:"utc-offset"},g={defaultType:"recur"},m={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]},v={categories:l,url:f,version:a,uid:a},y={boolean:{values:["TRUE","FALSE"],fromICAL:function(t){switch(t){case"TRUE":return!0;case"FALSE":default:return!1}},toICAL:function(t){return t?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(t){var e=parseFloat(t);return ICAL.helpers.isStrictlyNaN(e)?0:e},toICAL:function(t){return String(t)}},integer:{fromICAL:function(t){var e=parseInt(t);return ICAL.helpers.isStrictlyNaN(e)?0:e},toICAL:function(t){return String(t)}},"utc-offset":{toICAL:function(t){return t.length<7?t.substr(0,3)+t.substr(4,2):t.substr(0,3)+t.substr(4,2)+t.substr(7,2)},fromICAL:function(t){return t.length<6?t.substr(0,3)+":"+t.substr(3,2):t.substr(0,3)+":"+t.substr(3,2)+":"+t.substr(5,2)},decorate:function(t){return ICAL.UtcOffset.fromString(t)},undecorate:function(t){return t.toString()}}},b={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISLANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},_=ICAL.helpers.extend(y,{text:t(r,i),uri:{},binary:{decorate:function(t){return ICAL.Binary.fromString(t)},undecorate:function(t){return t.toString()}},"cal-address":{},date:{decorate:function(t,e){return ICAL.Time.fromDateString(t,e)},undecorate:function(t){return t.toString()},fromICAL:function(t){return t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)},toICAL:function(t){return t.length>11?t:t.substr(0,4)+t.substr(5,2)+t.substr(8,2)}},"date-time":{fromICAL:function(t){var e=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)+"T"+t.substr(9,2)+":"+t.substr(11,2)+":"+t.substr(13,2);return t[15]&&"Z"===t[15]&&(e+="Z"),e},toICAL:function(t){if(t.length<19)return t;var e=t.substr(0,4)+t.substr(5,2)+t.substr(8,5)+t.substr(14,2)+t.substr(17,2);return t[19]&&"Z"===t[19]&&(e+="Z"),e},decorate:function(t,e){return ICAL.Time.fromDateTimeString(t,e)},undecorate:function(t){return t.toString()}},duration:{decorate:function(t){return ICAL.Duration.fromString(t)},undecorate:function(t){return t.toString()}},period:{fromICAL:function(t){var e=t.split("/");return e[0]=_["date-time"].fromICAL(e[0]),ICAL.Duration.isValueString(e[1])||(e[1]=_["date-time"].fromICAL(e[1])),e},toICAL:function(t){return t[0]=_["date-time"].toICAL(t[0]),ICAL.Duration.isValueString(t[1])||(t[1]=_["date-time"].toICAL(t[1])),t.join("/")},decorate:function(t,e){return ICAL.Period.fromJSON(t,e)},undecorate:function(t){return t.toJSON()}},recur:{fromICAL:function(t){return ICAL.Recur._stringToData(t,!0)},toICAL:function(t){var e="";for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];"until"==n?r=r.length>10?_["date-time"].toICAL(r):_.date.toICAL(r):"wkst"==n?"number"==typeof r&&(r=ICAL.Recur.numericDayToIcalDay(r)):Array.isArray(r)&&(r=r.join(",")),e+=n.toUpperCase()+"="+r+";"}return e.substr(0,e.length-1)},decorate:function(t){return ICAL.Recur.fromData(t)},undecorate:function(t){return t.toJSON()}},time:{fromICAL:function(t){if(t.length<6)return t;var e=t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2);return"Z"===t[6]&&(e+="Z"),e},toICAL:function(t){if(t.length<8)return t;var e=t.substr(0,2)+t.substr(3,2)+t.substr(6,2);return"Z"===t[8]&&(e+="Z"),e}}}),w=ICAL.helpers.extend(v,{action:a,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:a,class:a,comment:a,completed:d,contact:a,created:d,description:a,dtend:h,dtstamp:d,dtstart:h,due:h,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:g,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":d,location:a,method:a,organizer:{defaultType:"cal-address"},"percent-complete":c,priority:c,prodid:a,"related-to":a,repeat:c,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(t){return-1!==t.indexOf("/")?"period":-1===t.indexOf("T")?"date":"date-time"}},"recurrence-id":h,resources:l,"request-status":u,rrule:g,sequence:c,status:a,summary:a,transp:a,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:p,tzoffsetto:p,tzurl:f,tzid:a,tzname:a}),x=ICAL.helpers.extend(y,{text:t(s,o),uri:t(s,o),date:{decorate:function(t){return ICAL.VCardTime.fromDateAndOrTimeString(t,"date")},undecorate:function(t){return t.toString()},fromICAL:function(t){return 8==t.length?_.date.fromICAL(t):"-"==t[0]&&6==t.length?t.substr(0,4)+"-"+t.substr(4):t},toICAL:function(t){return 10==t.length?_.date.toICAL(t):"-"==t[0]&&7==t.length?t.substr(0,4)+t.substr(5):t}},time:{decorate:function(t){return ICAL.VCardTime.fromDateAndOrTimeString("T"+t,"time")},undecorate:function(t){return t.toString()},fromICAL:function(t){var e=x.time._splitZone(t,!0),n=e[0],r=e[1];return 6==r.length?r=r.substr(0,2)+":"+r.substr(2,2)+":"+r.substr(4,2):4==r.length&&"-"!=r[0]?r=r.substr(0,2)+":"+r.substr(2,2):5==r.length&&(r=r.substr(0,3)+":"+r.substr(3,2)),5!=n.length||"-"!=n[0]&&"+"!=n[0]||(n=n.substr(0,3)+":"+n.substr(3)),r+n},toICAL:function(t){var e=x.time._splitZone(t),n=e[0],r=e[1];return 8==r.length?r=r.substr(0,2)+r.substr(3,2)+r.substr(6,2):5==r.length&&"-"!=r[0]?r=r.substr(0,2)+r.substr(3,2):6==r.length&&(r=r.substr(0,3)+r.substr(4,2)),6!=n.length||"-"!=n[0]&&"+"!=n[0]||(n=n.substr(0,3)+n.substr(4)),r+n},_splitZone:function(t,e){var n,r,i=t.length-1,s=t.length-(e?5:6),o=t[s];return"Z"==t[i]?(n=t[i],r=t.substr(0,i)):t.length>6&&("-"==o||"+"==o)?(n=t.substr(s),r=t.substr(0,s)):(n="",r=t),[n,r]}},"date-time":{decorate:function(t){return ICAL.VCardTime.fromDateAndOrTimeString(t,"date-time")},undecorate:function(t){return t.toString()},fromICAL:function(t){return x["date-and-or-time"].fromICAL(t)},toICAL:function(t){return x["date-and-or-time"].toICAL(t)}},"date-and-or-time":{decorate:function(t){return ICAL.VCardTime.fromDateAndOrTimeString(t,"date-and-or-time")},undecorate:function(t){return t.toString()},fromICAL:function(t){var e=t.split("T");return(e[0]?x.date.fromICAL(e[0]):"")+(e[1]?"T"+x.time.fromICAL(e[1]):"")},toICAL:function(t){var e=t.split("T");return x.date.toICAL(e[0])+(e[1]?"T"+x.time.toICAL(e[1]):"")}},timestamp:_["date-time"],"language-tag":{matches:/^[a-zA-Z0-9\-]+$/}}),C={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},A=ICAL.helpers.extend(v,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:m,bday:m,caladruri:f,caluri:f,clientpidmap:u,email:a,fburl:f,fn:a,gender:u,geo:f,impp:f,key:f,kind:a,lang:{defaultType:"language-tag"},logo:f,member:f,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:l,note:a,org:{defaultType:"text",structuredValue:";"},photo:f,related:f,rev:{defaultType:"timestamp"},role:a,sound:f,source:f,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:a,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:a}),D=ICAL.helpers.extend(y,{binary:_.binary,date:x.date,"date-time":x["date-time"],"phone-number":{},uri:_.uri,text:_.text,time:_.time,vcard:_.text,"utc-offset":{toICAL:function(t){return t.substr(0,7)},fromICAL:function(t){return t.substr(0,7)},decorate:function(t){return ICAL.UtcOffset.fromString(t)},undecorate:function(t){return t.toString()}}}),E={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},T=ICAL.helpers.extend(v,{fn:a,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:l,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(t){return-1===t.indexOf("T")?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:a,tel:{defaultType:"phone-number"},email:a,mailer:a,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:a,role:a,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:u,note:l,prodid:a,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(t){return-1===t.indexOf("T")?"date":"date-time"}},"sort-string":a,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:a,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),S={value:_,param:b,property:w},I={value:x,param:C,property:A},k={value:D,param:E,property:T},L={defaultSet:S,defaultType:"unknown",components:{vcard:I,vcard3:k,vevent:S,vtodo:S,vjournal:S,valarm:S,vtimezone:S,daylight:S,standard:S},icalendar:S,vcard:I,vcard3:k,getDesignSet:function(t){return t&&t in L.components?L.components[t]:L.defaultSet}};return L}(),ICAL.stringify=function(){"use strict";function t(n){"string"==typeof n[0]&&(n=[n]);for(var r=0,i=n.length,s="";r<i;r++)s+=t.component(n[r])+e;return s}var e="\r\n",n=ICAL.design,r=ICAL.helpers;t.component=function(r,i){var s=r[0].toUpperCase(),o="BEGIN:"+s+e,a=r[1],l=0,u=a.length,c=r[0];for("vcard"===c&&r[1].length>0&&("version"!==r[1][0][0]||"4.0"!==r[1][0][3])&&(c="vcard3"),i=i||n.getDesignSet(c);l<u;l++)o+=t.property(a[l],i)+e;for(var h=r[2],d=0,f=h.length;d<f;d++)o+=t.component(h[d],i)+e;return o+="END:"+s},t.property=function(e,r,i){var s,o=e[0].toUpperCase(),a=e[0],l=e[1],u=o;for(s in l){var c=l[s];if(l.hasOwnProperty(s)){var h=s in r.param&&r.param[s].multiValue;h&&Array.isArray(c)?(r.param[s].multiValueSeparateDQuote&&(h='"'+h+'"'),c=c.map(t._rfc6868Unescape),c=t.multiValue(c,h,"unknown",null,r)):c=t._rfc6868Unescape(c),u+=";"+s.toUpperCase(),u+="="+t.propertyValue(c)}}if(3===e.length)return u+":";var d=e[2];r||(r=n.defaultSet);var f,h=!1,p=!1,g=!1;return a in r.property?(f=r.property[a],"multiValue"in f&&(h=f.multiValue),"structuredValue"in f&&Array.isArray(e[3])&&(p=f.structuredValue),"defaultType"in f?d===f.defaultType&&(g=!0):"unknown"===d&&(g=!0)):"unknown"===d&&(g=!0),g||(u+=";VALUE="+d.toUpperCase()),u+=":",u+=h&&p?t.multiValue(e[3],p,d,h,r,p):h?t.multiValue(e.slice(3),h,d,null,r,!1):p?t.multiValue(e[3],p,d,null,r,p):t.value(e[3],d,r,!1),i?u:ICAL.helpers.foldline(u)},t.propertyValue=function(t){return-1===r.unescapedIndexOf(t,",")&&-1===r.unescapedIndexOf(t,":")&&-1===r.unescapedIndexOf(t,";")?t:'"'+t+'"'},t.multiValue=function(e,n,r,i,s,o){for(var a="",l=e.length,u=0;u<l;u++)i&&Array.isArray(e[u])?a+=t.multiValue(e[u],i,r,null,s,o):a+=t.value(e[u],r,s,o),u!==l-1&&(a+=n);return a},t.value=function(t,e,n,r){return e in n.value&&"toICAL"in n.value[e]?n.value[e].toICAL(t,r):t},t._rfc6868Unescape=function(t){return t.replace(/[\n^"]/g,function(t){return i[t]})};var i={'"':"^'","\n":"^n","^":"^^"};return t}(),ICAL.parse=function(){"use strict";function t(t){this.message=t,this.name="ParserError";try{throw new Error}catch(t){if(t.stack){var e=t.stack.split("\n");e.shift(),this.stack=e.join("\n")}}}function e(n){var r={},i=r.component=[];if(r.stack=[i],e._eachLine(n,function(t,n){e._handleContentLine(n,r)}),r.stack.length>1)throw new t("invalid ical body. component began but did not end");return r=null,1==i.length?i[0]:i}var n=/[^ \t]/,r=ICAL.design,i=ICAL.helpers;t.prototype=Error.prototype,e.property=function(t,n){var i={component:[[],[]],designSet:n||r.defaultSet};return e._handleContentLine(t,i),i.component[1][0]},e.component=function(t){return e(t)},e.ParserError=t,e._handleContentLine=function(n,i){var s,o,a,l,u=n.indexOf(":"),c=n.indexOf(";"),h={};-1!==c&&-1!==u&&c>u&&(c=-1);var d;if(-1!==c){if(a=n.substring(0,c).toLowerCase(),d=e._parseParameters(n.substring(c),0,i.designSet),-1==d[2])throw new t("Invalid parameters in '"+n+"'");if(h=d[0],s=d[1].length+d[2]+c,-1===(o=n.substring(s).indexOf(":")))throw new t("Missing parameter value in '"+n+"'");l=n.substring(s+o+1)}else{if(-1===u)throw new t('invalid line (no token ";" or ":") "'+n+'"');if(a=n.substring(0,u).toLowerCase(),l=n.substring(u+1),"begin"===a){var f=[l.toLowerCase(),[],[]];return 1===i.stack.length?i.component.push(f):i.component[2].push(f),i.stack.push(i.component),i.component=f,void(i.designSet||(i.designSet=r.getDesignSet(i.component[0])))}if("end"===a)return void(i.component=i.stack.pop())}var p,g,m=!1,v=!1;a in i.designSet.property&&(g=i.designSet.property[a],"multiValue"in g&&(m=g.multiValue),"structuredValue"in g&&(v=g.structuredValue),l&&"detectType"in g&&(p=g.detectType(l))),p||(p="value"in h?h.value.toLowerCase():g?g.defaultType:"unknown"),delete h.value;var y;m&&v?(l=e._parseMultiValue(l,v,p,[],m,i.designSet,v),y=[a,h,p,l]):m?(y=[a,h,p],e._parseMultiValue(l,m,p,y,null,i.designSet,!1)):v?(l=e._parseMultiValue(l,v,p,[],null,i.designSet,v),y=[a,h,p,l]):(l=e._parseValue(l,p,i.designSet,!1),y=[a,h,p,l]),"vcard"!==i.component[0]||0!==i.component[1].length||"version"===a&&"4.0"===l||(i.designSet=r.getDesignSet("vcard3")),i.component[1].push(y)},e._parseValue=function(t,e,n,r){return e in n.value&&"fromICAL"in n.value[e]?n.value[e].fromICAL(t,r):t},e._parseParameters=function(n,r,s){for(var o,a,l,u,c,h,d=r,f=0,p={},g=-1;!1!==f&&-1!==(f=i.unescapedIndexOf(n,"=",f+1));){if(o=n.substr(d+1,f-d-1),0==o.length)throw new t("Empty parameter name in '"+n+"'");a=o.toLowerCase(),u=a in s.param&&s.param[a].valueType?s.param[a].valueType:"text",a in s.param&&(c=s.param[a].multiValue,s.param[a].multiValueSeparateDQuote&&(h=e._rfc6868Escape('"'+c+'"')));if('"'===n[f+1]){if(g=f+2,f=i.unescapedIndexOf(n,'"',g),c&&-1!=f)for(var m=!0;m;)n[f+1]==c&&'"'==n[f+2]?f=i.unescapedIndexOf(n,'"',f+3):m=!1;if(-1===f)throw new t('invalid line (no matching double quote) "'+n+'"');l=n.substr(g,f-g),d=i.unescapedIndexOf(n,";",f),-1===d&&(f=!1)}else{g=f+1;var v=i.unescapedIndexOf(n,";",g),y=i.unescapedIndexOf(n,":",g);-1!==y&&v>y?(v=y,f=!1):-1===v?(v=-1===y?n.length:y,f=!1):(d=v,f=v),l=n.substr(g,v-g)}if(l=e._rfc6868Escape(l),c){var b=h||c;p[a]=e._parseMultiValue(l,b,u,[],null,s)}else p[a]=e._parseValue(l,u,s)}return[p,l,g]},e._rfc6868Escape=function(t){return t.replace(/\^['n^]/g,function(t){return s[t]})};var s={"^'":'"',"^n":"\n","^^":"^"};return e._parseMultiValue=function(t,n,r,s,o,a,l){var u,c=0,h=0;if(0===n.length)return t;for(;-1!==(c=i.unescapedIndexOf(t,n,h));)u=t.substr(h,c-h),u=o?e._parseMultiValue(u,o,r,[],null,a,l):e._parseValue(u,r,a,l),s.push(u),h=c+n.length;return u=t.substr(h),u=o?e._parseMultiValue(u,o,r,[],null,a,l):e._parseValue(u,r,a,l),s.push(u),1==s.length?s[0]:s},e._eachLine=function(t,e){var r,i,s,o=t.length,a=t.search(n),l=a;do{l=t.indexOf("\n",a)+1,s=l>1&&"\r"===t[l-2]?2:1,0===l&&(l=o,s=0),i=t[a]," "===i||"\t"===i?r+=t.substr(a+1,l-a-(s+1)):(r&&e(null,r),r=t.substr(a,l-a-s)),a=l}while(l!==o);r=r.trim(),r.length&&e(null,r)},e}(),ICAL.Component=function(){"use strict";function t(t,e){"string"==typeof t&&(t=[t,[],[]]),this.jCal=t,this.parent=e||null}var e=0;return t.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[e]},get _designSet(){return this.parent&&this.parent._designSet||ICAL.design.getDesignSet(this.name)},_hydrateComponent:function(e){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[e])return this._components[e];var n=new t(this.jCal[2][e],this);return this._hydratedComponentCount++,this._components[e]=n},_hydrateProperty:function(t){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[t])return this._properties[t];var e=new ICAL.Property(this.jCal[1][t],this);return this._hydratedPropertyCount++,this._properties[t]=e},getFirstSubcomponent:function(t){if(t){for(var n=0,r=this.jCal[2],i=r.length;n<i;n++)if(r[n][e]===t){var s=this._hydrateComponent(n);return s}}else if(this.jCal[2].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(t){var n=this.jCal[2].length,r=0;if(t){for(var i=this.jCal[2],s=[];r<n;r++)t===i[r][e]&&s.push(this._hydrateComponent(r));return s}if(!this._components||this._hydratedComponentCount!==n)for(;r<n;r++)this._hydrateComponent(r);return this._components||[]},hasProperty:function(t){for(var n=this.jCal[1],r=n.length,i=0;i<r;i++)if(n[i][e]===t)return!0;return!1},getFirstProperty:function(t){if(t){for(var n=0,r=this.jCal[1],i=r.length;n<i;n++)if(r[n][e]===t){var s=this._hydrateProperty(n);return s}}else if(this.jCal[1].length)return this._hydrateProperty(0);return null},getFirstPropertyValue:function(t){var e=this.getFirstProperty(t);return e?e.getFirstValue():null},getAllProperties:function(t){var n=this.jCal[1].length,r=0;if(t){for(var i=this.jCal[1],s=[];r<n;r++)t===i[r][e]&&s.push(this._hydrateProperty(r));return s}if(!this._properties||this._hydratedPropertyCount!==n)for(;r<n;r++)this._hydrateProperty(r);return this._properties||[]},_removeObjectByIndex:function(t,e,n){if(e=e||[],e[n]){var r=e[n];"parent"in r&&(r.parent=null)}e.splice(n,1),this.jCal[t].splice(n,1)},_removeObject:function(t,n,r){var i=0,s=this.jCal[t],o=s.length,a=this[n];if("string"==typeof r){for(;i<o;i++)if(s[i][e]===r)return this._removeObjectByIndex(t,a,i),!0}else if(a)for(;i<o;i++)if(a[i]&&a[i]===r)return this._removeObjectByIndex(t,a,i),!0;return!1},_removeAllObjects:function(t,n,r){for(var i=this[n],s=this.jCal[t],o=s.length-1;o>=0;o--)r&&s[o][e]!==r||this._removeObjectByIndex(t,i,o)},addSubcomponent:function(t){this._components||(this._components=[],this._hydratedComponentCount=0),t.parent&&t.parent.removeSubcomponent(t);var e=this.jCal[2].push(t.jCal);return this._components[e-1]=t,this._hydratedComponentCount++,t.parent=this,t},removeSubcomponent:function(t){var e=this._removeObject(2,"_components",t);return e&&this._hydratedComponentCount--,e},removeAllSubcomponents:function(t){var e=this._removeAllObjects(2,"_components",t);return this._hydratedComponentCount=0,e},addProperty:function(t){if(!(t instanceof ICAL.Property))throw new TypeError("must instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),t.parent&&t.parent.removeProperty(t);var e=this.jCal[1].push(t.jCal);return this._properties[e-1]=t,this._hydratedPropertyCount++,t.parent=this,t},addPropertyWithValue:function(t,e){var n=new ICAL.Property(t);return n.setValue(e),this.addProperty(n),n},updatePropertyWithValue:function(t,e){var n=this.getFirstProperty(t);return n?n.setValue(e):n=this.addPropertyWithValue(t,e),n},removeProperty:function(t){var e=this._removeObject(1,"_properties",t);return e&&this._hydratedPropertyCount--,e},removeAllProperties:function(t){var e=this._removeAllObjects(1,"_properties",t);return this._hydratedPropertyCount=0,e},toJSON:function(){return this.jCal},toString:function(){return ICAL.stringify.component(this.jCal,this._designSet)}},t.fromString=function(e){return new t(ICAL.parse.component(e))},t}(),ICAL.Property=function(){"use strict";function t(t,e){this._parent=e||null,"string"==typeof t?(this.jCal=[t,{},r.defaultType],this.jCal[n]=this.getDefaultType()):this.jCal=t,this._updateType()}var e=0,n=2,r=ICAL.design;return t.prototype={get type(){return this.jCal[n]},get name(){return this.jCal[e]},get parent(){return this._parent},set parent(t){var e=!this._parent||t&&t._designSet!=this._parent._designSet;return this._parent=t,this.type==r.defaultType&&e&&(this.jCal[n]=this.getDefaultType(),this._updateType()),t},get _designSet(){return this.parent?this.parent._designSet:r.defaultSet},_updateType:function(){var t=this._designSet;if(this.type in t.value){t.value[this.type];"decorate"in t.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in t.property&&(this.isMultiValue="multiValue"in t.property[this.name],this.isStructuredValue="structuredValue"in t.property[this.name])}},_hydrateValue:function(t){return this._values&&this._values[t]?this._values[t]:this.jCal.length<=3+t?null:this.isDecorated?(this._values||(this._values=[]),this._values[t]=this._decorate(this.jCal[3+t])):this.jCal[3+t]},_decorate:function(t){return this._designSet.value[this.type].decorate(t,this)},_undecorate:function(t){return this._designSet.value[this.type].undecorate(t,this)},_setDecoratedValue:function(t,e){this._values||(this._values=[]),"object"==typeof t&&"icaltype"in t?(this.jCal[3+e]=this._undecorate(t),this._values[e]=t):(this.jCal[3+e]=t,this._values[e]=this._decorate(t))},getParameter:function(t){return t in this.jCal[1]?this.jCal[1][t]:void 0},setParameter:function(t,e){var n=t.toLowerCase();"string"==typeof e&&n in this._designSet.param&&"multiValue"in this._designSet.param[n]&&(e=[e]),this.jCal[1][t]=e},removeParameter:function(t){delete this.jCal[1][t]},getDefaultType:function(){var t=this.jCal[e],n=this._designSet;if(t in n.property){var i=n.property[t];if("defaultType"in i)return i.defaultType}return r.defaultType},resetType:function(t){this.removeAllValues(),this.jCal[n]=t,this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},getValues:function(){var t=this.jCal.length-3;if(t<1)return[];for(var e=0,n=[];e<t;e++)n[e]=this._hydrateValue(e);return n},removeAllValues:function(){this._values&&(this._values.length=0),this.jCal.length=3},setValues:function(t){if(!this.isMultiValue)throw new Error(this.name+": does not not support mulitValue.\noverride isMultiValue");var e=t.length,n=0;if(this.removeAllValues(),e>0&&"object"==typeof t[0]&&"icaltype"in t[0]&&this.resetType(t[0].icaltype),this.isDecorated)for(;n<e;n++)this._setDecoratedValue(t[n],n);else for(;n<e;n++)this.jCal[3+n]=t[n]},setValue:function(t){this.removeAllValues(),"object"==typeof t&&"icaltype"in t&&this.resetType(t.icaltype),this.isDecorated?this._setDecoratedValue(t,0):this.jCal[3]=t},toJSON:function(){return this.jCal},toICALString:function(){return ICAL.stringify.property(this.jCal,this._designSet,!0)}},t.fromString=function(e,n){return new t(ICAL.parse.property(e,n))},t}(),ICAL.UtcOffset=function(){function t(t){this.fromData(t)}return t.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return ICAL.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._normalize()},fromSeconds:function(t){var e=Math.abs(t);return this.factor=t<0?-1:1,this.hours=ICAL.helpers.trunc(e/3600),e-=3600*this.hours,this.minutes=ICAL.helpers.trunc(e/60),this},toSeconds:function(){return this.factor*(60*this.minutes+3600*this.hours)},compare:function(t){var e=this.toSeconds(),n=t.toSeconds();return(e>n)-(n>e)},_normalize:function(){for(var t=this.toSeconds(),e=this.factor;t<-43200;)t+=97200;for(;t>50400;)t-=97200;this.fromSeconds(t),0==t&&(this.factor=e)},toICALString:function(){return ICAL.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(1==this.factor?"+":"-")+ICAL.helpers.pad2(this.hours)+":"+ICAL.helpers.pad2(this.minutes)}},t.fromString=function(t){var e={};return e.factor="+"===t[0]?1:-1,e.hours=ICAL.helpers.strictParseInt(t.substr(1,2)),e.minutes=ICAL.helpers.strictParseInt(t.substr(4,2)),new ICAL.UtcOffset(e)},t.fromSeconds=function(e){var n=new t;return n.fromSeconds(e),n},t}(),ICAL.Binary=function(){function t(t){this.value=t}return t.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(t){this.value=this._b64_encode(t)},_b64_encode:function(t){var e,n,r,i,s,o,a,l,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,h=0,d="",f=[];if(!t)return t;do{e=t.charCodeAt(c++),n=t.charCodeAt(c++),r=t.charCodeAt(c++),l=e<<16|n<<8|r,i=l>>18&63,s=l>>12&63,o=l>>6&63,a=63&l,f[h++]=u.charAt(i)+u.charAt(s)+u.charAt(o)+u.charAt(a)}while(c<t.length);d=f.join("");var p=t.length%3;return(p?d.slice(0,p-3):d)+"===".slice(p||3)},_b64_decode:function(t){var e,n,r,i,s,o,a,l,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,h=0,d=[];if(!t)return t;t+="";do{i=u.indexOf(t.charAt(c++)),s=u.indexOf(t.charAt(c++)),o=u.indexOf(t.charAt(c++)),a=u.indexOf(t.charAt(c++)),l=i<<18|s<<12|o<<6|a,e=l>>16&255,n=l>>8&255,r=255&l,d[h++]=64==o?String.fromCharCode(e):64==a?String.fromCharCode(e,n):String.fromCharCode(e,n,r)}while(c<t.length);return d.join("")},toString:function(){return this.value}},t.fromString=function(e){return new t(e)},t}(),function(){ICAL.Period=function(t){if(this.wrappedJSObject=this,t&&"start"in t){if(t.start&&!(t.start instanceof ICAL.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=t.start}if(t&&t.end&&t.duration)throw new Error("cannot accept both end and duration");if(t&&"end"in t){if(t.end&&!(t.end instanceof ICAL.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=t.end}if(t&&"duration"in t){if(t.duration&&!(t.duration instanceof ICAL.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=t.duration}},ICAL.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return ICAL.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var t=this.start.clone();return t.addDuration(this.duration),t},toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},ICAL.Period.fromString=function(t,e){var n=t.split("/");if(2!==n.length)throw new Error('Invalid string value: "'+t+'" must contain a "/" char.');var r={start:ICAL.Time.fromDateTimeString(n[0],e)},i=n[1];return ICAL.Duration.isValueString(i)?r.duration=ICAL.Duration.fromString(i):r.end=ICAL.Time.fromDateTimeString(i,e),new ICAL.Period(r)},ICAL.Period.fromData=function(t){return new ICAL.Period(t)},ICAL.Period.fromJSON=function(t,e){return ICAL.Duration.isValueString(t[1])?ICAL.Period.fromData({start:ICAL.Time.fromDateTimeString(t[0],e),duration:ICAL.Duration.fromString(t[1])}):ICAL.Period.fromData({start:ICAL.Time.fromDateTimeString(t[0],e),end:ICAL.Time.fromDateTimeString(t[1],e)})}}(),function(){function t(t,e,n){var r;switch(t){case"P":n.isNegative=!(!e||"-"!==e);break;case"D":r="days";break;case"W":r="weeks";break;case"H":r="hours";break;case"M":r="minutes";break;case"S":r="seconds";break;default:return 0}if(r){if(!e&&0!==e)throw new Error('invalid duration value: Missing number before "'+t+'"');var i=parseInt(e,10);if(ICAL.helpers.isStrictlyNaN(i))throw new Error('invalid duration value: Invalid number "'+e+'" before "'+t+'"');n[r]=i}return 1}var e=/([PDWHMTS]{1,1})/;ICAL.Duration=function(t){this.wrappedJSObject=this,this.fromData(t)},ICAL.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return ICAL.Duration.fromData(this)},toSeconds:function(){var t=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-t:t},fromSeconds:function(t){var e=Math.abs(t);return this.isNegative=t<0,this.days=ICAL.helpers.trunc(e/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,e-=86400*(this.days+7*this.weeks),this.hours=ICAL.helpers.trunc(e/3600),e-=3600*this.hours,this.minutes=ICAL.helpers.trunc(e/60),e-=60*this.minutes,this.seconds=e,this},fromData:function(t){var e=["weeks","days","hours","minutes","seconds","isNegative"];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];this[r]=t&&r in t?t[r]:0}},reset:function(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0},compare:function(t){var e=this.toSeconds(),n=t.toSeconds();return(e>n)-(e<n)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(0==this.toSeconds())return"PT0S";var t="";return this.isNegative&&(t+="-"),t+="P",this.weeks&&(t+=this.weeks+"W"),this.days&&(t+=this.days+"D"),(this.hours||this.minutes||this.seconds)&&(t+="T",this.hours&&(t+=this.hours+"H"),this.minutes&&(t+=this.minutes+"M"),this.seconds&&(t+=this.seconds+"S")),t},toICALString:function(){return this.toString()}},ICAL.Duration.fromSeconds=function(t){return(new ICAL.Duration).fromSeconds(t)},ICAL.Duration.isValueString=function(t){return"P"===t[0]||"P"===t[1]},ICAL.Duration.fromString=function(n){for(var r=0,i=Object.create(null),s=0;-1!==(r=n.search(e));){var o=n[r],a=n.substr(0,r);n=n.substr(r+1),s+=t(o,a,i)}if(s<2)throw new Error('invalid duration value: Not enough duration components in "'+n+'"');return new ICAL.Duration(i)},ICAL.Duration.fromData=function(t){return new ICAL.Duration(t)}}(),function(){var t=["tzid","location","tznames","latitude","longitude"];ICAL.Timezone=function(t){this.wrappedJSObject=this,this.fromData(t)},ICAL.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof ICAL.Component)this.component=e;else{if(e&&"component"in e)if("string"==typeof e.component){var n=ICAL.parse(e.component);this.component=new ICAL.Component(n)}else e.component instanceof ICAL.Component?this.component=e.component:this.component=null;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];e&&i in e&&(this[i]=e[i])}}return this.component instanceof ICAL.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this},utcOffset:function(t){if(this==ICAL.Timezone.utcTimezone||this==ICAL.Timezone.localTimezone)return 0;if(this._ensureCoverage(t.year),!this.changes.length)return 0;for(var e={year:t.year,month:t.month,day:t.day,hour:t.hour,minute:t.minute,second:t.second},n=this._findNearbyChange(e),r=-1,i=1;;){var s=ICAL.helpers.clone(this.changes[n],!0);s.utcOffset<s.prevUtcOffset?ICAL.Timezone.adjust_change(s,0,0,0,s.utcOffset):ICAL.Timezone.adjust_change(s,0,0,0,s.prevUtcOffset);if(ICAL.Timezone._compare_change_fn(e,s)>=0?r=n:i=-1,-1==i&&-1!=r)break;if((n+=i)<0)return 0;if(n>=this.changes.length)break}var o=this.changes[r];if(o.utcOffset-o.prevUtcOffset<0&&r>0){var a=ICAL.helpers.clone(o,!0);if(ICAL.Timezone.adjust_change(a,0,0,0,a.prevUtcOffset),ICAL.Timezone._compare_change_fn(e,a)<0){var l=this.changes[r-1];0!=o.is_daylight&&0==l.is_daylight&&(o=l)}}return o.utcOffset},_findNearbyChange:function(t){var e=ICAL.helpers.binsearchInsert(this.changes,t,ICAL.Timezone._compare_change_fn);return e>=this.changes.length?this.changes.length-1:e},_ensureCoverage:function(t){if(-1==ICAL.Timezone._minimumExpansionYear){var e=ICAL.Time.now();ICAL.Timezone._minimumExpansionYear=e.year}var n=t;if(n<ICAL.Timezone._minimumExpansionYear&&(n=ICAL.Timezone._minimumExpansionYear),n+=ICAL.Timezone.EXTRA_COVERAGE,n>ICAL.Timezone.MAX_YEAR&&(n=ICAL.Timezone.MAX_YEAR),!this.changes.length||this.expandedUntilYear<t){for(var r=this.component.getAllSubcomponents(),i=r.length,s=0;s<i;s++)this._expandComponent(r[s],n,this.changes);this.changes.sort(ICAL.Timezone._compare_change_fn),this.expandedUntilYear=n}},_expandComponent:function(t,e,n){function r(t){return t.factor*(3600*t.hours+60*t.minutes)}function i(){var e={};return e.is_daylight="daylight"==t.name,e.utcOffset=r(t.getFirstProperty("tzoffsetto").getFirstValue()),e.prevUtcOffset=r(t.getFirstProperty("tzoffsetfrom").getFirstValue()),e}if(!t.hasProperty("dtstart")||!t.hasProperty("tzoffsetto")||!t.hasProperty("tzoffsetfrom"))return null;var s,o=t.getFirstProperty("dtstart").getFirstValue();if(t.hasProperty("rrule")||t.hasProperty("rdate")){var a=t.getAllProperties("rdate");for(var l in a)if(a.hasOwnProperty(l)){var u=a[l],c=u.getFirstValue();s=i(),s.year=c.year,s.month=c.month,s.day=c.day,c.isDate?(s.hour=o.hour,s.minute=o.minute,s.second=o.second,o.zone!=ICAL.Timezone.utcTimezone&&ICAL.Timezone.adjust_change(s,0,0,0,-s.prevUtcOffset)):(s.hour=c.hour,s.minute=c.minute,s.second=c.second,c.zone!=ICAL.Timezone.utcTimezone&&ICAL.Timezone.adjust_change(s,0,0,0,-s.prevUtcOffset)),n.push(s)}var h=t.getFirstProperty("rrule");if(h){h=h.getFirstValue(),s=i(),h.until&&h.until.zone==ICAL.Timezone.utcTimezone&&(h.until.adjust(0,0,0,s.prevUtcOffset),h.until.zone=ICAL.Timezone.localTimezone);for(var d,f=h.iterator(o);(d=f.next())&&(s=i(),!(d.year>e)&&d);)s.year=d.year,s.month=d.month,s.day=d.day,s.hour=d.hour,s.minute=d.minute,s.second=d.second,s.isDate=d.isDate,ICAL.Timezone.adjust_change(s,0,0,0,-s.prevUtcOffset),n.push(s)}}else s=i(),s.year=o.year,s.month=o.month,s.day=o.day,s.hour=o.hour,s.minute=o.minute,s.second=o.second,ICAL.Timezone.adjust_change(s,0,0,0,-s.prevUtcOffset),n.push(s);return n},toString:function(){return this.tznames?this.tznames:this.tzid}},ICAL.Timezone._compare_change_fn=function(t,e){return t.year<e.year?-1:t.year>e.year?1:t.month<e.month?-1:t.month>e.month?1:t.day<e.day?-1:t.day>e.day?1:t.hour<e.hour?-1:t.hour>e.hour?1:t.minute<e.minute?-1:t.minute>e.minute?1:t.second<e.second?-1:t.second>e.second?1:0},ICAL.Timezone.convert_time=function(t,e,n){if(t.isDate||e.tzid==n.tzid||e==ICAL.Timezone.localTimezone||n==ICAL.Timezone.localTimezone)return t.zone=n,t;var r=e.utcOffset(t);return t.adjust(0,0,0,-r),r=n.utcOffset(t),t.adjust(0,0,0,r),null},ICAL.Timezone.fromData=function(t){return(new ICAL.Timezone).fromData(t)},ICAL.Timezone.utcTimezone=ICAL.Timezone.fromData({tzid:"UTC"}),ICAL.Timezone.localTimezone=ICAL.Timezone.fromData({tzid:"floating"}),ICAL.Timezone.adjust_change=function(t,e,n,r,i){return ICAL.Time.prototype.adjust.call(t,e,n,r,i,t)},ICAL.Timezone._minimumExpansionYear=-1,ICAL.Timezone.MAX_YEAR=2035,ICAL.Timezone.EXTRA_COVERAGE=5}(),ICAL.TimezoneService=function(){var t,e={reset:function(){t=Object.create(null);var e=ICAL.Timezone.utcTimezone;t.Z=e,t.UTC=e,t.GMT=e},has:function(e){return!!t[e]},get:function(e){return t[e]},register:function(e,n){if(e instanceof ICAL.Component&&"vtimezone"===e.name&&(n=new ICAL.Timezone(e),e=n.tzid),!(n instanceof ICAL.Timezone))throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component");t[e]=n},remove:function(e){return delete t[e]}};return e.reset(),e}(),function(){ICAL.Time=function(t,e){this.wrappedJSObject=this;var n=this._time=Object.create(null);n.year=0,n.month=1,n.day=1,n.hour=0,n.minute=0,n.second=0,n.isDate=!1,this.fromData(t,e)},ICAL.Time._dowCache={},ICAL.Time._wnCache={},ICAL.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new ICAL.Time(this._time,this.zone)},reset:function(){this.fromData(ICAL.Time.epochTime),this.zone=ICAL.Timezone.utcTimezone},resetTo:function(t,e,n,r,i,s,o){this.fromData({year:t,month:e,day:n,hour:r,minute:i,second:s,zone:o})},fromJSDate:function(t,e){return t?e?(this.zone=ICAL.Timezone.utcTimezone,this.year=t.getUTCFullYear(),this.month=t.getUTCMonth()+1,this.day=t.getUTCDate(),this.hour=t.getUTCHours(),this.minute=t.getUTCMinutes(),this.second=t.getUTCSeconds()):(this.zone=ICAL.Timezone.localTimezone,this.year=t.getFullYear(),this.month=t.getMonth()+1,this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds()):this.reset(),this._cachedUnixTime=null,this},fromData:function(t,e){if(t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if("icaltype"===n)continue;this[n]=t[n]}if(e&&(this.zone=e),!t||"isDate"in t?t&&"isDate"in t&&(this.isDate=t.isDate):this.isDate=!("hour"in t),t&&"timezone"in t){var r=ICAL.TimezoneService.get(t.timezone);this.zone=r||ICAL.Timezone.localTimezone}return t&&"zone"in t&&(this.zone=t.zone),this.zone||(this.zone=ICAL.Timezone.localTimezone),this._cachedUnixTime=null,this},dayOfWeek:function(){var t=(this.year<<9)+(this.month<<5)+this.day;if(t in ICAL.Time._dowCache)return ICAL.Time._dowCache[t];var e=this.day,n=this.month+(this.month<3?12:0),r=this.year-(this.month<3?1:0),i=e+r+ICAL.helpers.trunc(26*(n+1)/10)+ICAL.helpers.trunc(r/4);return i+=6*ICAL.helpers.trunc(r/100)+ICAL.helpers.trunc(r/400),i=(i+6)%7+1,ICAL.Time._dowCache[t]=i,i},dayOfYear:function(){var t=ICAL.Time.isLeapYear(this.year)?1:0;return ICAL.Time.daysInYearPassedMonth[t][this.month-1]+this.day},startOfWeek:function(t){var e=t||ICAL.Time.SUNDAY,n=this.clone();return n.day-=(this.dayOfWeek()+7-e)%7,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n},endOfWeek:function(t){var e=t||ICAL.Time.SUNDAY,n=this.clone();return n.day+=(7-this.dayOfWeek()+e-ICAL.Time.SUNDAY)%7,n.isDate=!0,n.hour=0,n.minute=0,n.second=0,n},startOfMonth:function(){var t=this.clone();return t.day=1,t.isDate=!0,t.hour=0,t.minute=0,t.second=0,t},endOfMonth:function(){var t=this.clone();return t.day=ICAL.Time.daysInMonth(t.month,t.year),t.isDate=!0,t.hour=0,t.minute=0,t.second=0,t},startOfYear:function(){var t=this.clone();return t.day=1,t.month=1,t.isDate=!0,t.hour=0,t.minute=0,t.second=0,t},endOfYear:function(){var t=this.clone();return t.day=31,t.month=12,t.isDate=!0,t.hour=0,t.minute=0,t.second=0,t},startDoyWeek:function(t){var e=t||ICAL.Time.SUNDAY,n=this.dayOfWeek()-e;return n<0&&(n+=7),this.dayOfYear()-n},getDominicalLetter:function(){return ICAL.Time.getDominicalLetter(this.year)},nthWeekDay:function(t,e){var n,r=ICAL.Time.daysInMonth(this.month,this.year),i=e,s=0,o=this.clone();if(i>=0){o.day=1,0!=i&&i--,s=o.day;var a=o.dayOfWeek(),l=t-a;l<0&&(l+=7),s+=l,s-=t,n=t}else{o.day=r;var u=o.dayOfWeek();i++,n=u-t,n<0&&(n+=7),n=r-n}return n+=7*i,s+n},isNthWeekDay:function(t,e){var n=this.dayOfWeek();return 0===e&&n===t||this.nthWeekDay(t,e)===this.day},weekNumber:function(t){var e=(this.year<<12)+(this.month<<8)+(this.day<<3)+t;if(e in ICAL.Time._wnCache)return ICAL.Time._wnCache[e];var n,r=this.clone();r.isDate=!0;var i=this.year;12==r.month&&r.day>25?(n=ICAL.Time.weekOneStarts(i+1,t),r.compare(n)<0?n=ICAL.Time.weekOneStarts(i,t):i++):(n=ICAL.Time.weekOneStarts(i,t),r.compare(n)<0&&(n=ICAL.Time.weekOneStarts(--i,t)));var s=r.subtractDate(n).toSeconds()/86400,o=ICAL.helpers.trunc(s/7)+1;return ICAL.Time._wnCache[e]=o,o},addDuration:function(t){var e=t.isNegative?-1:1,n=this.second,r=this.minute,i=this.hour,s=this.day;n+=e*t.seconds,r+=e*t.minutes,i+=e*t.hours,s+=e*t.days,s+=7*e*t.weeks,this.second=n,this.minute=r,this.hour=i,this.day=s,this._cachedUnixTime=null},subtractDate:function(t){var e=this.toUnixTime()+this.utcOffset(),n=t.toUnixTime()+t.utcOffset();return ICAL.Duration.fromSeconds(e-n)},subtractDateTz:function(t){var e=this.toUnixTime(),n=t.toUnixTime();return ICAL.Duration.fromSeconds(e-n)},compare:function(t){var e=this.toUnixTime(),n=t.toUnixTime();return e>n?1:n>e?-1:0},compareDateOnlyTz:function(t,e){function n(t){return ICAL.Time._cmp_attr(r,i,t)}var r=this.convertToZone(e),i=t.convertToZone(e),s=0;return 0!=(s=n("year"))?s:0!=(s=n("month"))?s:s=n("day")},convertToZone:function(t){var e=this.clone(),n=this.zone.tzid==t.tzid;return this.isDate||n||ICAL.Timezone.convert_time(e,this.zone,t),e.zone=t,e},utcOffset:function(){return this.zone==ICAL.Timezone.localTimezone||this.zone==ICAL.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var t=this.toString();return t.length>10?ICAL.design.icalendar.value["date-time"].toICAL(t):ICAL.design.icalendar.value.date.toICAL(t)},toString:function(){var t=this.year+"-"+ICAL.helpers.pad2(this.month)+"-"+ICAL.helpers.pad2(this.day);return this.isDate||(t+="T"+ICAL.helpers.pad2(this.hour)+":"+ICAL.helpers.pad2(this.minute)+":"+ICAL.helpers.pad2(this.second),this.zone===ICAL.Timezone.utcTimezone&&(t+="Z")),t},toJSDate:function(){return this.zone==ICAL.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(1e3*this.toUnixTime())},_normalize:function(){this._time.isDate;return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this},adjust:function(t,e,n,r,i){var s,o,a,l,u,c,h,d=0,f=0,p=i||this._time;if(p.isDate||(a=p.second+r,p.second=a%60,s=ICAL.helpers.trunc(a/60),p.second<0&&(p.second+=60,s--),l=p.minute+n+s,p.minute=l%60,o=ICAL.helpers.trunc(l/60),p.minute<0&&(p.minute+=60,o--),u=p.hour+e+o,p.hour=u%24,d=ICAL.helpers.trunc(u/24),p.hour<0&&(p.hour+=24,d--)),p.month>12?f=ICAL.helpers.trunc((p.month-1)/12):p.month<1&&(f=ICAL.helpers.trunc(p.month/12)-1),p.year+=f,p.month-=12*f,(c=p.day+t+d)>0)for(;h=ICAL.Time.daysInMonth(p.month,p.year),!(c<=h);)p.month++,p.month>12&&(p.year++,p.month=1),c-=h;else for(;c<=0;)1==p.month?(p.year--,p.month=12):p.month--,c+=ICAL.Time.daysInMonth(p.month,p.year);return p.day=c,this._cachedUnixTime=null,this},fromUnixTime:function(t){this.zone=ICAL.Timezone.utcTimezone;var e=ICAL.Time.epochTime.clone();e.adjust(0,0,0,t),this.year=e.year,this.month=e.month,this.day=e.day,this.hour=e.hour,this.minute=e.minute,this.second=Math.floor(e.second),this._cachedUnixTime=null},toUnixTime:function(){if(null!==this._cachedUnixTime)return this._cachedUnixTime;var t=this.utcOffset(),e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-t);return this._cachedUnixTime=e/1e3,this._cachedUnixTime},toJSON:function(){for(var t,e=["year","month","day","hour","minute","second","isDate"],n=Object.create(null),r=0,i=e.length;r<i;r++)t=e[r],n[t]=this[t];return this.zone&&(n.timezone=this.zone.tzid),n}},function(){function t(t){Object.defineProperty(ICAL.Time.prototype,t,{get:function(){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[t]},set:function(e){return this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[t]=e,e}})}"defineProperty"in Object&&(t("year"),t("month"),t("day"),t("hour"),t("minute"),t("second"),t("isDate"))}(),ICAL.Time.daysInMonth=function(t,e){var n=[0,31,28,31,30,31,30,31,31,30,31,30,31],r=30;return t<1||t>12?r:(r=n[t],2==t&&(r+=ICAL.Time.isLeapYear(e)),r)},ICAL.Time.isLeapYear=function(t){return t<=1752?t%4==0:t%4==0&&t%100!=0||t%400==0},ICAL.Time.fromDayOfYear=function(t,e){var n=e,r=t,i=new ICAL.Time;i.auto_normalize=!1;var s=ICAL.Time.isLeapYear(n)?1:0;if(r<1)return n--,s=ICAL.Time.isLeapYear(n)?1:0,r+=ICAL.Time.daysInYearPassedMonth[s][12],ICAL.Time.fromDayOfYear(r,n);if(r>ICAL.Time.daysInYearPassedMonth[s][12])return s=ICAL.Time.isLeapYear(n)?1:0,r-=ICAL.Time.daysInYearPassedMonth[s][12],n++,ICAL.Time.fromDayOfYear(r,n);i.year=n,i.isDate=!0;for(var o=11;o>=0;o--)if(r>ICAL.Time.daysInYearPassedMonth[s][o]){i.month=o+1,i.day=r-ICAL.Time.daysInYearPassedMonth[s][o];break}return i.auto_normalize=!0,i},ICAL.Time.fromStringv2=function(t){return new ICAL.Time({year:parseInt(t.substr(0,4),10),month:parseInt(t.substr(5,2),10),day:parseInt(t.substr(8,2),10),isDate:!0})},ICAL.Time.fromDateString=function(t){return new ICAL.Time({year:ICAL.helpers.strictParseInt(t.substr(0,4)),month:ICAL.helpers.strictParseInt(t.substr(5,2)),day:ICAL.helpers.strictParseInt(t.substr(8,2)),isDate:!0})},ICAL.Time.fromDateTimeString=function(t,e){if(t.length<19)throw new Error('invalid date-time value: "'+t+'"');var n;return t[19]&&"Z"===t[19]?n="Z":e&&(n=e.getParameter("tzid")),new ICAL.Time({year:ICAL.helpers.strictParseInt(t.substr(0,4)),month:ICAL.helpers.strictParseInt(t.substr(5,2)),day:ICAL.helpers.strictParseInt(t.substr(8,2)),hour:ICAL.helpers.strictParseInt(t.substr(11,2)),minute:ICAL.helpers.strictParseInt(t.substr(14,2)),second:ICAL.helpers.strictParseInt(t.substr(17,2)),timezone:n})},ICAL.Time.fromString=function(t){return t.length>10?ICAL.Time.fromDateTimeString(t):ICAL.Time.fromDateString(t)},ICAL.Time.fromJSDate=function(t,e){return(new ICAL.Time).fromJSDate(t,e)},ICAL.Time.fromData=function(t,e){return(new ICAL.Time).fromData(t,e)},ICAL.Time.now=function(){return ICAL.Time.fromJSDate(new Date,!1)},ICAL.Time.weekOneStarts=function(t,e){var n=ICAL.Time.fromData({year:t,month:1,day:1,isDate:!0}),r=n.dayOfWeek(),i=e||ICAL.Time.DEFAULT_WEEK_START;return r>ICAL.Time.THURSDAY&&(n.day+=7),i>ICAL.Time.THURSDAY&&(n.day-=7),n.day-=r-i,n},ICAL.Time.getDominicalLetter=function(t){var e=(t+(t/4|0)+(t/400|0)-(t/100|0)-1)%7;return ICAL.Time.isLeapYear(t)?"GFEDCBA"[(e+6)%7]+"GFEDCBA"[e]:"GFEDCBA"[e]},ICAL.Time.epochTime=ICAL.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"}),ICAL.Time._cmp_attr=function(t,e,n){return t[n]>e[n]?1:t[n]<e[n]?-1:0},ICAL.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]],ICAL.Time.SUNDAY=1,ICAL.Time.MONDAY=2,ICAL.Time.TUESDAY=3,ICAL.Time.WEDNESDAY=4,ICAL.Time.THURSDAY=5,ICAL.Time.FRIDAY=6,ICAL.Time.SATURDAY=7,ICAL.Time.DEFAULT_WEEK_START=ICAL.Time.MONDAY}(),function(){ICAL.VCardTime=function(t,e,n){this.wrappedJSObject=this;var r=this._time=Object.create(null);r.year=null,r.month=null,r.day=null,r.hour=null,r.minute=null,r.second=null,this.icaltype=n||"date-and-or-time",this.fromData(t,e)},ICAL.helpers.inherits(ICAL.Time,ICAL.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new ICAL.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof ICAL.UtcOffset?this.zone.toSeconds():ICAL.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return ICAL.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var t,e=ICAL.helpers.pad2,n=this.year,r=this.month,i=this.day,s=this.hour,o=this.minute,a=this.second,l=null!==n,u=null!==r,c=null!==i,h=null!==s,d=null!==o,f=null!==a,p=(l?e(n)+(u||c?"-":""):u||c?"--":"")+(u?e(r):"")+(c?"-"+e(i):""),g=(h?e(s):"-")+(h&&d?":":"")+(d?e(o):"")+(h||d?"":"-")+(d&&f?":":"")+(f?e(a):"");if(this.zone===ICAL.Timezone.utcTimezone)t="Z";else if(this.zone instanceof ICAL.UtcOffset)t=this.zone.toString();else if(this.zone===ICAL.Timezone.localTimezone)t="";else if(this.zone instanceof ICAL.Timezone){var m=ICAL.UtcOffset.fromSeconds(this.zone.utcOffset(this));t=m.toString()}else t="";switch(this.icaltype){case"time":return g+t;case"date-and-or-time":case"date-time":return p+("--"==g?"":"T"+g+t);case"date":return p}return null}}),ICAL.VCardTime.fromDateAndOrTimeString=function(t,e){function n(t,e,n){return t?ICAL.helpers.strictParseInt(t.substr(e,n)):null}var r=t.split("T"),i=r[0],s=r[1],o=s?ICAL.design.vcard.value.time._splitZone(s):[],a=o[0],l=o[1],u=(ICAL.helpers.strictParseInt,i?i.length:0),c=l?l.length:0,h=i&&"-"==i[0]&&"-"==i[1],d=l&&"-"==l[0],f={year:h?null:n(i,0,4),month:!h||4!=u&&7!=u?7==u?n(i,5,2):10==u?n(i,5,2):null:n(i,2,2),day:5==u?n(i,3,2):7==u&&h?n(i,5,2):10==u?n(i,8,2):null,hour:d?null:n(l,0,2),minute:d&&3==c?n(l,1,2):c>4?d?n(l,1,2):n(l,3,2):null,second:4==c?n(l,2,2):6==c?n(l,4,2):8==c?n(l,6,2):null};return a="Z"==a?ICAL.Timezone.utcTimezone:a&&":"==a[3]?ICAL.UtcOffset.fromString(a):null,new ICAL.VCardTime(f,a,e)}}(),function(){function t(t,e,n,r){var i=r;if("+"===r[0]&&(i=r.substr(1)),i=ICAL.helpers.strictParseInt(i),void 0!==e&&r<e)throw new Error(t+': invalid value "'+r+'" must be > '+e);if(void 0!==n&&r>n)throw new Error(t+': invalid value "'+r+'" must be < '+e);return i}var e={SU:ICAL.Time.SUNDAY,MO:ICAL.Time.MONDAY,TU:ICAL.Time.TUESDAY,WE:ICAL.Time.WEDNESDAY,TH:ICAL.Time.THURSDAY,FR:ICAL.Time.FRIDAY,SA:ICAL.Time.SATURDAY},n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);ICAL.Recur=function(t){this.wrappedJSObject=this,this.parts={},t&&"object"==typeof t&&this.fromData(t)},ICAL.Recur.prototype={parts:null,interval:1,wkst:ICAL.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(t){return new ICAL.RecurIterator({rule:this,dtstart:t})},clone:function(){return new ICAL.Recur(this.toJSON())},isFinite:function(){return!(!this.count&&!this.until)},isByCount:function(){return!(!this.count||this.until)},addComponent:function(t,e){var n=t.toUpperCase();n in this.parts?this.parts[n].push(e):this.parts[n]=[e]},setComponent:function(t,e){this.parts[t.toUpperCase()]=e.slice()},getComponent:function(t){var e=t.toUpperCase();return e in this.parts?this.parts[e].slice():[]},getNextOccurrence:function(t,e){var n,r=this.iterator(t);do{n=r.next()}while(n&&n.compare(e)<=0);return n&&e.zone&&(n.zone=e.zone),n},fromData:function(t){for(var e in t){var n=e.toUpperCase();n in l?Array.isArray(t[e])?this.parts[n]=t[e]:this.parts[n]=[t[e]]:this[e]=t[e]}this.wkst&&"number"!=typeof this.wkst&&(this.wkst=ICAL.Recur.icalDayToNumericDay(this.wkst)),!this.until||this.until instanceof ICAL.Time||(this.until=ICAL.Time.fromString(this.until))},toJSON:function(){var t=Object.create(null);t.freq=this.freq,this.count&&(t.count=this.count),this.interval>1&&(t.interval=this.interval);for(var e in this.parts)if(this.parts.hasOwnProperty(e)){var n=this.parts[e];Array.isArray(n)&&1==n.length?t[e.toLowerCase()]=n[0]:t[e.toLowerCase()]=ICAL.helpers.clone(this.parts[e])}return this.until&&(t.until=this.until.toString()),"wkst"in this&&this.wkst!==ICAL.Time.DEFAULT_WEEK_START&&(t.wkst=ICAL.Recur.numericDayToIcalDay(this.wkst)),t},toString:function(){var t="FREQ="+this.freq;this.count&&(t+=";COUNT="+this.count),this.interval>1&&(t+=";INTERVAL="+this.interval);for(var e in this.parts)this.parts.hasOwnProperty(e)&&(t+=";"+e+"="+this.parts[e]);return this.until&&(t+=";UNTIL="+this.until.toString()),"wkst"in this&&this.wkst!==ICAL.Time.DEFAULT_WEEK_START&&(t+=";WKST="+ICAL.Recur.numericDayToIcalDay(this.wkst)),t}},ICAL.Recur.icalDayToNumericDay=function(t){return e[t]},ICAL.Recur.numericDayToIcalDay=function(t){return n[t]};var i=/^(SU|MO|TU|WE|TH|FR|SA)$/,s=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,o=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],a={FREQ:function(t,e,n){if(-1===o.indexOf(t))throw new Error('invalid frequency "'+t+'" expected: "'+o.join(", ")+'"');e.freq=t},COUNT:function(t,e,n){e.count=ICAL.helpers.strictParseInt(t)},INTERVAL:function(t,e,n){e.interval=ICAL.helpers.strictParseInt(t),e.interval<1&&(e.interval=1)},UNTIL:function(t,e,n){n?t.length>10?e.until=ICAL.design.icalendar.value["date-time"].fromICAL(t):e.until=ICAL.design.icalendar.value.date.fromICAL(t):e.until=ICAL.Time.fromString(t)},WKST:function(t,e,n){if(!i.test(t))throw new Error('invalid WKST value "'+t+'"');e.wkst=ICAL.Recur.icalDayToNumericDay(t)}},l={BYSECOND:t.bind(this,"BYSECOND",0,60),BYMINUTE:t.bind(this,"BYMINUTE",0,59),BYHOUR:t.bind(this,"BYHOUR",0,23),BYDAY:function(t){if(s.test(t))return t;throw new Error('invalid BYDAY value "'+t+'"')},BYMONTHDAY:t.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:t.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:t.bind(this,"BYWEEKNO",-53,53),BYMONTH:t.bind(this,"BYMONTH",0,12),BYSETPOS:t.bind(this,"BYSETPOS",-366,366)};ICAL.Recur.fromString=function(t){var e=ICAL.Recur._stringToData(t,!1);return new ICAL.Recur(e)},ICAL.Recur.fromData=function(t){return new ICAL.Recur(t)},ICAL.Recur._stringToData=function(t,e){for(var n=Object.create(null),r=t.split(";"),i=r.length,s=0;s<i;s++){var o=r[s].split("="),u=o[0].toUpperCase(),c=o[0].toLowerCase(),h=e?c:u,d=o[1];if(u in l){for(var f=d.split(","),p=0,g=f.length;p<g;p++)f[p]=l[u](f[p]);n[h]=1==f.length?f[0]:f}else u in a?a[u](d,n,e):n[c]=d}return n}}(),ICAL.RecurIterator=function(){function t(t){this.fromData(t)}return t.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(t){if(this.rule=ICAL.helpers.formatClassType(t.rule,ICAL.Recur),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=ICAL.helpers.formatClassType(t.dtstart,ICAL.Time),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");t.by_data?this.by_data=t.by_data:this.by_data=ICAL.helpers.clone(this.rule.parts,!0),t.occurrence_number&&(this.occurrence_number=t.occurrence_number),this.days=t.days||[],t.last&&(this.last=ICAL.helpers.formatClassType(t.last,ICAL.Time)),this.by_indices=t.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=t.initialized||!1,this.initialized||this.init()},init:function(){this.initialized=!0,this.last=this.dtstart.clone();var t=this.by_data;if("BYDAY"in t&&this.sort_byday_rules(t.BYDAY,this.rule.wkst),"BYYEARDAY"in t&&("BYMONTH"in t||"BYWEEKNO"in t||"BYMONTHDAY"in t||"BYDAY"in t))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in t&&"BYMONTHDAY"in t)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if("MONTHLY"==this.rule.freq&&("BYYEARDAY"in t||"BYWEEKNO"in t))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if("WEEKLY"==this.rule.freq&&("BYYEARDAY"in t||"BYMONTHDAY"in t))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if("YEARLY"!=this.rule.freq&&"BYYEARDAY"in t)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),"WEEKLY"==this.rule.freq)if("BYDAY"in t){var e=this.ruleDayOfWeek(t.BYDAY[0]),n=e[0],r=e[1],i=r-this.last.dayOfWeek();(this.last.dayOfWeek()<r&&i>=0||i<0)&&(this.last.day+=i)}else{var s=ICAL.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek());t.BYDAY=[s]}if("YEARLY"==this.rule.freq){for(;this.expand_year_days(this.last.year),!(this.days.length>0);)this.increment_year(this.rule.interval);this._nextByYearDay()}if("MONTHLY"==this.rule.freq&&this.has_by_data("BYDAY")){var o=null,a=this.last.clone(),l=ICAL.Time.daysInMonth(this.last.month,this.last.year);for(var u in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(u)){this.last=a.clone();var e=this.ruleDayOfWeek(this.by_data.BYDAY[u]),n=e[0],r=e[1],c=this.last.nthWeekDay(r,n);if(n>=6||n<=-6)throw new Error("Malformed values in BYDAY part");if(c>l||c<=0){if(o&&o.month==a.month)continue;for(;c>l||c<=0;)this.increment_month(),l=ICAL.Time.daysInMonth(this.last.month,this.last.year),c=this.last.nthWeekDay(r,n)}this.last.day=c,(!o||this.last.compare(o)<0)&&(o=this.last.clone())}if(this.last=o.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>l||0==this.last.day)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")&&this.last.day<0){var l=ICAL.Time.daysInMonth(this.last.month,this.last.year);this.last.day=l+this.last.day+1}},next:function(){var t=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)return this.completed=!0,null;if(0==this.occurrence_number&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;var e;do{switch(e=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":e=this.next_month();break;case"YEARLY":this.next_year();break;default:return null}}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!e);if(0==this.last.compare(t))throw new Error("Same occurrence found twice, protecting you from death by recursion");return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(t){return this.increment_generic(t,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(t){return this.increment_generic(t,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")},increment_hour:function(t){this.increment_generic(t,"hour",24,"monthday")},next_day:function(){var t=(this.by_data,"DAILY"==this.rule.freq);return 0==this.next_hour()?0:(t?this.increment_monthday(this.rule.interval):this.increment_monthday(1),0)},next_week:function(){var t=0;if(0==this.next_weekday_by_week())return t;if(this.has_by_data("BYWEEKNO")){++this.by_indices.BYWEEKNO;this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,t=1),this.last.month=1,this.last.day=1;var e=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*e,t&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return t},normalizeByMonthDayRules:function(t,e,n){for(var r,i=ICAL.Time.daysInMonth(e,t),s=[],o=0,a=n.length;o<a;o++)if(r=n[o],!(Math.abs(r)>i)){if(r<0)r=i+(r+1);else if(0===r)continue;-1===s.indexOf(r)&&s.push(r)}return s.sort(function(t,e){return t-e})},_byDayAndMonthDay:function(t){function e(){for(o=ICAL.Time.daysInMonth(h.last.month,h.last.year),r=h.normalizeByMonthDayRules(h.last.year,h.last.month,h.by_data.BYMONTHDAY),s=r.length;r[l]<=d&&(!t||r[l]!=d)&&l<s-1;)l++}function n(){d=0,h.increment_month(),l=0,e()}var r,i,s,o,a=this.by_data.BYDAY,l=0,u=a.length,c=0,h=this,d=this.last.day;e(),t&&(d-=1);for(var f=48;!c&&f;)if(f--,(i=d+1)>o)n();else{var p=r[l++];if(p>=i){d=p;for(var g=0;g<u;g++){var m=this.ruleDayOfWeek(a[g]),v=m[0],y=m[1];if(this.last.day=d,this.last.isNthWeekDay(y,v)){c=1;break}}c||l!==s||n()}else n()}if(f<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return c},next_month:function(){var t=(this.rule.freq,1);if(0==this.next_hour())return t;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))t=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var e=ICAL.Time.daysInMonth(this.last.month,this.last.year),n=0,r=0;if(this.has_by_data("BYSETPOS")){for(var i=this.last.day,s=1;s<=e;s++)this.last.day=s,this.is_day_in_byday(this.last)&&(r++,s<=i&&n++);this.last.day=i}t=0;for(var s=this.last.day+1;s<=e;s++)if(this.last.day=s,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++n)||this.check_set_position(n-r-1))){t=1;break}s>e&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?this.has_by_data("BYSETPOS")&&!this.check_set_position(1)||(t=1):t=0)}else if(this.has_by_data("BYMONTHDAY")){this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month());var e=ICAL.Time.daysInMonth(this.last.month,this.last.year),s=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];s<0&&(s=e+s+1),s>e?(this.last.day=1,t=this.is_day_in_byday(this.last)):this.last.day=s}else{this.increment_month();var e=ICAL.Time.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>e?t=0:this.last.day=this.by_data.BYMONTHDAY[0]}return t},next_weekday_by_week:function(){var t=0;if(0==this.next_hour())return t;if(!this.has_by_data("BYDAY"))return 1;for(;;){var e=new ICAL.Time;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,t=1);var n=this.by_data.BYDAY[this.by_indices.BYDAY],r=this.ruleDayOfWeek(n),i=r[1];i-=this.rule.wkst,i<0&&(i+=7),e.year=this.last.year,e.month=this.last.month,e.day=this.last.day;var s=e.startDoyWeek(this.rule.wkst);if(!(i+s<1)||t){var o=ICAL.Time.fromDayOfYear(s+i,this.last.year);return this.last.year=o.year,this.last.month=o.month,this.last.day=o.day,t}}},next_year:function(){if(0==this.next_hour())return 0;if(++this.days_index==this.days.length){this.days_index=0;do{this.increment_year(this.rule.interval),this.expand_year_days(this.last.year)}while(0==this.days.length)}return this._nextByYearDay(),1},_nextByYearDay:function(){var t=this.days[this.days_index],e=this.last.year;t<1&&(t+=1,e+=1);var n=ICAL.Time.fromDayOfYear(t,e);this.last.day=n.day,this.last.month=n.month},ruleDayOfWeek:function(t){var e=t.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(e){var n=parseInt(e[1]||0,10);return t=ICAL.Recur.icalDayToNumericDay(e[2]),[n,t]}return[0,0]},next_generic:function(t,e,n,r,i){var s=t in this.by_data,o=this.rule.freq==e,a=0;if(i&&0==this[i]())return a;if(s){this.by_indices[t]++;var l=(this.by_indices[t],this.by_data[t]);this.by_indices[t]==l.length&&(this.by_indices[t]=0,a=1),this.last[n]=l[this.by_indices[t]]}else o&&this["increment_"+n](this.rule.interval);return s&&a&&o&&this["increment_"+r](1),a},increment_monthday:function(t){for(var e=0;e<t;e++){var n=ICAL.Time.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>n&&(this.last.day-=n,this.increment_month())}},increment_month:function(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{"MONTHLY"==this.rule.freq?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;var t=ICAL.helpers.trunc(this.last.month/12);this.last.month%=12,this.last.month++,0!=t&&this.increment_year(t)}},increment_year:function(t){this.last.year+=t},increment_generic:function(t,e,n,r){this.last[e]+=t;var i=ICAL.helpers.trunc(this.last[e]/n);this.last[e]%=n,0!=i&&this["increment_"+r](i)},has_by_data:function(t){return t in this.rule.parts},expand_year_days:function(t){var e=new ICAL.Time;this.days=[];var n={},r=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s in this.rule.parts&&(n[s]=this.rule.parts[s])}if("BYMONTH"in n&&"BYWEEKNO"in n){var o=1,a={};e.year=t,e.isDate=!0;for(var l=0;l<this.by_data.BYMONTH.length;l++){var u=this.by_data.BYMONTH[l];e.month=u,e.day=1;var c=e.weekNumber(this.rule.wkst);e.day=ICAL.Time.daysInMonth(u,t);var h=e.weekNumber(this.rule.wkst);for(l=c;l<h;l++)a[l]=1}for(var d=0;d<this.by_data.BYWEEKNO.length&&o;d++){var f=this.by_data.BYWEEKNO[d];f<52?o&=a[d]:o=0}o?delete n.BYMONTH:delete n.BYWEEKNO}var p=Object.keys(n).length;if(0==p){var g=this.dtstart.clone();g.year=this.last.year,this.days.push(g.dayOfYear())}else if(1==p&&"BYMONTH"in n){for(var m in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(m)){var v=this.dtstart.clone();v.year=t,v.month=this.by_data.BYMONTH[m],v.isDate=!0,this.days.push(v.dayOfYear())}}else if(1==p&&"BYMONTHDAY"in n){for(var y in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(y)){var b=this.dtstart.clone(),_=this.by_data.BYMONTHDAY[y];if(_<0){var w=ICAL.Time.daysInMonth(b.month,t);_=_+w+1}b.day=_,b.year=t,b.isDate=!0,this.days.push(b.dayOfYear())}}else if(2==p&&"BYMONTHDAY"in n&&"BYMONTH"in n){for(var m in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(m)){var x=this.by_data.BYMONTH[m],w=ICAL.Time.daysInMonth(x,t);for(var y in this.by_data.BYMONTHDAY)if(this.by_data.BYMONTHDAY.hasOwnProperty(y)){var _=this.by_data.BYMONTHDAY[y];_<0&&(_=_+w+1),e.day=_,e.month=x,e.year=t,e.isDate=!0,this.days.push(e.dayOfYear())}}}else if(1==p&&"BYWEEKNO"in n);else if(2==p&&"BYWEEKNO"in n&&"BYMONTHDAY"in n);else if(1==p&&"BYDAY"in n)this.days=this.days.concat(this.expand_by_day(t));else if(2==p&&"BYDAY"in n&&"BYMONTH"in n){for(var m in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(m)){var u=this.by_data.BYMONTH[m],w=ICAL.Time.daysInMonth(u,t);e.year=t,e.month=this.by_data.BYMONTH[m],e.day=1,e.isDate=!0;var C=e.dayOfWeek(),A=e.dayOfYear()-1;e.day=w;var D=e.dayOfWeek();if(this.has_by_data("BYSETPOS")){for(var E=[],T=1;T<=w;T++)e.day=T,this.is_day_in_byday(e)&&E.push(T);for(var S=0;S<E.length;S++)(this.check_set_position(S+1)||this.check_set_position(S-E.length))&&this.days.push(A+E[S])}else for(var I in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(I)){var k,L=this.by_data.BYDAY[I],M=this.ruleDayOfWeek(L),O=M[0],N=M[1],R=(N+7-C)%7+1,q=w-(D+7-N)%7;if(0==O)for(var T=R;T<=w;T+=7)this.days.push(A+T);else O>0?(k=R+7*(O-1))<=w&&this.days.push(A+k):(k=q+7*(O+1))>0&&this.days.push(A+k)}}this.days.sort(function(t,e){return t-e})}else if(2==p&&"BYDAY"in n&&"BYMONTHDAY"in n){var P=this.expand_by_day(t);for(var B in P)if(P.hasOwnProperty(B)){var T=P[B],U=ICAL.Time.fromDayOfYear(T,t);this.by_data.BYMONTHDAY.indexOf(U.day)>=0&&this.days.push(T)}}else if(3==p&&"BYDAY"in n&&"BYMONTHDAY"in n&&"BYMONTH"in n){var P=this.expand_by_day(t);for(var B in P)if(P.hasOwnProperty(B)){var T=P[B],U=ICAL.Time.fromDayOfYear(T,t);this.by_data.BYMONTH.indexOf(U.month)>=0&&this.by_data.BYMONTHDAY.indexOf(U.day)>=0&&this.days.push(T)}}else if(2==p&&"BYDAY"in n&&"BYWEEKNO"in n){var P=this.expand_by_day(t);for(var B in P)if(P.hasOwnProperty(B)){var T=P[B],U=ICAL.Time.fromDayOfYear(T,t),f=U.weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(f)&&this.days.push(T)}}else 3==p&&"BYDAY"in n&&"BYWEEKNO"in n&&"BYMONTHDAY"in n||(this.days=1==p&&"BYYEARDAY"in n?this.days.concat(this.by_data.BYYEARDAY):[]);return 0},expand_by_day:function(t){var e=[],n=this.last.clone();n.year=t,n.month=1,n.day=1,n.isDate=!0;var r=n.dayOfWeek();n.month=12,n.day=31,n.isDate=!0;var i=n.dayOfWeek(),s=n.dayOfYear();for(var o in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(o)){var a=this.by_data.BYDAY[o],l=this.ruleDayOfWeek(a),u=l[0],c=l[1];if(0==u)for(var h=(c+7-r)%7+1,d=h;d<=s;d+=7)e.push(d);else if(u>0){var f;f=c>=r?c-r+1:c-r+8,e.push(f+7*(u-1))}else{var p;u=-u,p=c<=i?s-i+c:s-i+c-7,e.push(p-7*(u-1))}}return e},is_day_in_byday:function(t){for(var e in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(e)){var n=this.by_data.BYDAY[e],r=this.ruleDayOfWeek(n),i=r[0],s=r[1],o=t.dayOfWeek();if(0==i&&s==o||t.nthWeekDay(s,i)==t.day)return 1}return 0},check_set_position:function(t){if(this.has_by_data("BYSETPOS")){return-1!==this.by_data.BYSETPOS.indexOf(t)}return!1},sort_byday_rules:function(t,e){for(var n=0;n<t.length;n++)for(var r=0;r<n;r++){var i=this.ruleDayOfWeek(t[r])[1],s=this.ruleDayOfWeek(t[n])[1];if(i-=e,s-=e,i<0&&(i+=7),s<0&&(s+=7),i>s){var o=t[n];t[n]=t[r],t[r]=o}}},check_contract_restriction:function(e,n){var r=t._indexMap[e],i=t._expandMap[this.rule.freq][r],s=!1;if(e in this.by_data&&i==t.CONTRACT){var o=this.by_data[e];for(var a in o)if(o.hasOwnProperty(a)&&o[a]==n){s=!0;break}}else s=!0;return s},check_contracting_rules:function(){var t=this.last.dayOfWeek(),e=this.last.weekNumber(this.rule.wkst),n=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",ICAL.Recur.numericDayToIcalDay(t))&&this.check_contract_restriction("BYWEEKNO",e)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",n)},setup_defaults:function(e,n,r){var i=t._indexMap[e];return t._expandMap[this.rule.freq][i]!=t.CONTRACT&&(e in this.by_data||(this.by_data[e]=[r]),this.rule.freq!=n)?this.by_data[e][0]:r},toJSON:function(){var t=Object.create(null);return t.initialized=this.initialized,t.rule=this.rule.toJSON(),t.dtstart=this.dtstart.toJSON(),t.by_data=this.by_data,t.days=this.days,t.last=this.last.toJSON(),t.by_indices=this.by_indices,t.occurrence_number=this.occurrence_number,t}},t._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8},t._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]},t.UNKNOWN=0,t.CONTRACT=1,t.EXPAND=2,t.ILLEGAL=3,t}(),ICAL.RecurExpansion=function(){function t(t){return ICAL.helpers.formatClassType(t,ICAL.Time)}function e(t,e){return t.compare(e)}function n(t){return t.hasProperty("rdate")||t.hasProperty("rrule")||t.hasProperty("recurrence-id")}function r(t){this.ruleDates=[],this.exDates=[],this.fromData(t)}return r.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(e){var n=ICAL.helpers.formatClassType(e.dtstart,ICAL.Time);if(!n)throw new Error(".dtstart (ICAL.Time) must be given");if(this.dtstart=n,e.component)this._init(e.component);else{if(this.last=t(e.last)||n.clone(),!e.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=e.ruleIterators.map(function(t){return ICAL.helpers.formatClassType(t,ICAL.RecurIterator)}),this.ruleDateInc=e.ruleDateInc,this.exDateInc=e.exDateInc,e.ruleDates&&(this.ruleDates=e.ruleDates.map(t),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.exDates&&(this.exDates=e.exDates.map(t),this.exDate=this.exDates[this.exDateInc]),void 0!==e.complete&&(this.complete=e.complete)}},next:function(){for(var t,e,n,r=0;;){if(r++>500)throw new Error("max tries have occured, rule may be impossible to forfill.");if(e=this.ruleDate,t=this._nextRecurrenceIter(this.last),!e&&!t){this.complete=!0;break}if((!e||t&&e.compare(t.last)>0)&&(e=t.last.clone(),t.next()),this.ruleDate===e&&this._nextRuleDay(),this.last=e,!this.exDate||(n=this.exDate.compare(this.last),n<0&&this._nextExDay(),0!==n))return this.last;this._nextExDay()}},toJSON:function(){function t(t){return t.toJSON()}var e=Object.create(null);return e.ruleIterators=this.ruleIterators.map(t),this.ruleDates&&(e.ruleDates=this.ruleDates.map(t)),this.exDates&&(e.exDates=this.exDates.map(t)),e.ruleDateInc=this.ruleDateInc,e.exDateInc=this.exDateInc,e.last=this.last.toJSON(),e.dtstart=this.dtstart.toJSON(),e.complete=this.complete,e},_extractDates:function(t,n){function r(t){i=ICAL.helpers.binsearchInsert(s,t,e),s.splice(i,0,t)}for(var i,s=[],o=t.getAllProperties(n),a=o.length,l=0;l<a;l++)o[l].getValues().forEach(r);return s},_init:function(t){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!n(t))return this.ruleDate=this.last.clone(),void(this.complete=!0);if(t.hasProperty("rdate")&&(this.ruleDates=this._extractDates(t,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=ICAL.helpers.binsearchInsert(this.ruleDates,this.last,e),this.ruleDate=this.ruleDates[this.ruleDateInc]),t.hasProperty("rrule"))for(var r,i,s=t.getAllProperties("rrule"),o=0,a=s.length;o<a;o++)r=s[o].getFirstValue(),i=r.iterator(this.dtstart),this.ruleIterators.push(i),i.next();t.hasProperty("exdate")&&(this.exDates=this._extractDates(t,"exdate"),this.exDateInc=ICAL.helpers.binsearchInsert(this.exDates,this.last,e),this.exDate=this.exDates[this.exDateInc])},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},_nextRecurrenceIter:function(){var t=this.ruleIterators;if(0===t.length)return null;for(var e,n,r,i=t.length,s=0;s<i;s++)e=t[s],n=e.last,e.completed?(i--,0!==s&&s--,t.splice(s,1)):(!r||r.last.compare(n)>0)&&(r=e);return r}},r}(),ICAL.Event=function(){function t(t,e){t instanceof ICAL.Component||(e=t,t=null),this.component=t||new ICAL.Component("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],e&&e.strictExceptions&&(this.strictExceptions=e.strictExceptions),e&&e.exceptions&&e.exceptions.forEach(this.relateException,this)}function e(t,e){return t[0]>e[0]?1:e[0]>t[0]?-1:0}return t.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(t){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(t instanceof ICAL.Component&&(t=new ICAL.Event(t)),this.strictExceptions&&t.uid!==this.uid)throw new Error("attempted to relate unrelated exception");var n=t.recurrenceId.toString();if(this.exceptions[n]=t,t.modifiesFuture()){var r=[t.recurrenceId.toUnixTime(),n],i=ICAL.helpers.binsearchInsert(this.rangeExceptions,r,e);this.rangeExceptions.splice(i,0,r)}},modifiesFuture:function(){return this.component.getFirstPropertyValue("range")===this.THISANDFUTURE},findRangeException:function(t){if(!this.rangeExceptions.length)return null;var n=t.toUnixTime(),r=ICAL.helpers.binsearchInsert(this.rangeExceptions,[n],e);if((r-=1)<0)return null;var i=this.rangeExceptions[r];return n<i[0]?null:i[1]},getOccurrenceDetails:function(t){var e,n=t.toString(),r=t.convertToZone(ICAL.Timezone.utcTimezone).toString(),i={recurrenceId:t};if(n in this.exceptions)e=i.item=this.exceptions[n],i.startDate=e.startDate,i.endDate=e.endDate,i.item=e;else if(r in this.exceptions)e=this.exceptions[r],i.startDate=e.startDate,i.endDate=e.endDate,i.item=e;else{var s,o=this.findRangeException(t);if(o){var a=this.exceptions[o];i.item=a;var l=this._rangeExceptionCache[o];if(!l){var u=a.recurrenceId.clone(),c=a.startDate.clone();u.zone=c.zone,l=c.subtractDate(u),this._rangeExceptionCache[o]=l}var h=t.clone();h.zone=a.startDate.zone,h.addDuration(l),s=h.clone(),s.addDuration(a.duration),i.startDate=h,i.endDate=s}else s=t.clone(),s.addDuration(this.duration),i.endDate=s,i.startDate=t,i.item=this}return i},iterator:function(t){return new ICAL.RecurExpansion({component:this.component,dtstart:t||this.startDate})},isRecurring:function(){var t=this.component;return t.hasProperty("rrule")||t.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},getRecurrenceTypes:function(){for(var t=this.component.getAllProperties("rrule"),e=0,n=t.length,r=Object.create(null);e<n;e++){r[t[e].getFirstValue().freq]=!0}return r},get uid(){return this._firstProp("uid")},set uid(t){this._setProp("uid",t)},get startDate(){return this._firstProp("dtstart")},set startDate(t){this._setTime("dtstart",t)},get endDate(){var t=this._firstProp("dtend");if(!t){var e=this._firstProp("duration");t=this.startDate.clone(),e?t.addDuration(e):t.isDate&&(t.day+=1)}return t},set endDate(t){this._setTime("dtend",t)},get duration(){var t=this._firstProp("duration");return t||this.endDate.subtractDate(this.startDate)},get location(){return this._firstProp("location")},set location(t){return this._setProp("location",t)},get attendees(){return this.component.getAllProperties("attendee")},get summary(){return this._firstProp("summary")},set summary(t){this._setProp("summary",t)},get description(){return this._firstProp("description")},set description(t){this._setProp("description",t)},get organizer(){return this._firstProp("organizer")},set organizer(t){this._setProp("organizer",t)},get sequence(){return this._firstProp("sequence")},set sequence(t){this._setProp("sequence",t)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(t){this._setProp("recurrence-id",t)},_setTime:function(t,e){var n=this.component.getFirstProperty(t);n||(n=new ICAL.Property(t),this.component.addProperty(n)),e.zone===ICAL.Timezone.localTimezone||e.zone===ICAL.Timezone.utcTimezone?n.removeParameter("tzid"):n.setParameter("tzid",e.zone.tzid),n.setValue(e)},_setProp:function(t,e){this.component.updatePropertyWithValue(t,e)},_firstProp:function(t){return this.component.getFirstPropertyValue(t)},toString:function(){return this.component.toString()}},t}(),ICAL.ComponentParser=function(){function t(t){void 0===t&&(t={});var e;for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}return t.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(t){},ontimezone:function(t){},onevent:function(t){},process:function(t){"string"==typeof t&&(t=ICAL.parse(t)),t instanceof ICAL.Component||(t=new ICAL.Component(t));for(var e,n=t.getAllSubcomponents(),r=0,i=n.length;r<i;r++)switch(e=n[r],e.name){case"vtimezone":if(this.parseTimezone){var s=e.getFirstPropertyValue("tzid");s&&this.ontimezone(new ICAL.Timezone({tzid:s,component:e}))}break;case"vevent":this.parseEvent&&this.onevent(new ICAL.Event(e));break;default:continue}this.oncomplete()}},t}()},function(t,e,n){var r;void 0!==(r=function(t){"use strict";return n(9).Model.extend({})}.call(e,n,e,t))&&(t.exports=r)},function(e,n,r){var i;void 0!==(i=function(e){"use strict";function n(e){return e.addFolder({id:btoa("all-inboxes"),name:t("mail","All inboxes"),specialRole:"inbox",isEmpty:!1,accountId:-1,noSelect:!1,delimiter:"."}),Promise.resolve(e.folders)}function i(t){var e=a.generateUrl("apps/mail/api/accounts/{id}/folders",{id:t.get("accountId")});return-1===t.id?n(t):Promise.resolve(s.get(e)).then(function(e){for(var n in e)"folders"===n?(t.folders.reset(),o.each(e.folders,t.addFolder,t)):t.set(n,e[n]);return t.folders})}var s=r(2),o=r(3),a=r(8);r(4).folder.reply("entities",i)}.call(n,r,n,e))&&(e.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t,e){var n=o.generateUrl("/apps/mail/api/accounts/{accountId}/folders/{folderId}/sync",{accountId:t.account.get("accountId"),folderId:t.get("id")});return Promise.resolve(s.ajax(n,{data:{syncToken:t.get("syncToken"),uids:t.messages.pluck("id")}})).then(function(n){t.set("syncToken",n.token),i.forEach(n.newMessages,function(e){e.accountMail=t.account.get("email")});var r=t.addMessages(n.newMessages);return e&&e.addMessages(r),i.each(n.changedMessages,function(n){var r=t.messages.get(n.id);if(!r)throw new Error("non-existing message while syncing");var s={};if(n.flags&&i.isObject(n.flags)&&(s=n.flags,delete n.flags),r.set(n),r.get("flags").set(s),e){var o=e.messages.getUnifiedId(t.messages.get(n.id)),a=e.messages.get(o);a?a.set(n):console.info("Changed message missing in unified inbox")}}),i.each(n.vanishedMessages,function(n){if(e){var r=e.messages.getUnifiedId(t.messages.get(n));e.messages.remove(r)}t.messages.remove(n)}),r})}function r(t){var r=n(1).accounts;if(t.account.get("isUnified")){var i=t;return Promise.all(r.filter(function(e){return e.id!==t.account.id}).map(function(t){return t.folders.filter(function(t){return"inbox"===t.get("specialRole")})}).reduce(function(t,e){return t.concat(e)},[]).map(function(t){return e(t,i)})).then(function(t){return t.reduce(function(t,e){return t.concat(e)},[])})}var s=r.get(-1);if(s){var i=s.folders.first();return e(t,i)}return e(t)}var i=n(3),s=n(2),o=n(8);return n(4).sync.reply("sync:folder",r),{syncFolder:r}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t,e){var n={cache:!1,filter:""};if(g.defaults(e,n),""!==e.filter&&(e.cache=!1),e.cache&&t.get("messagesLoaded"))return Promise.resolve(t.messages,!0);var r=m.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages",{accountId:t.account.get("accountId"),folderId:t.get("id")});return new Promise(function(t,n){p.ajax(r,{data:{filter:e.filter},success:t,error:function(t,e){"abort"!==e&&(console.error("error loading messages",t,e),n(t))}})}).then(function(n){var r=""!==e.filter,i=t.messages;return r?(i.reset(),t.set("messagesLoaded",!1)):t.set("messagesLoaded",!0),g.forEach(n,function(e){e.accountMail=t.account.get("email")}),t.addMessages(n),i})}function r(t,r){var i=n(1).accounts;return Promise.all(i.filter(function(e){return e.id!==t.account.id}).map(function(t){return t.folders.filter(function(t){return"inbox"===t.get("specialRole")})}).reduce(function(t,e){return t.concat(e)},[]).map(function(n){return e(n,r).then(function(e){t.addMessages(e.models)})})).then(function(){var e=t.messages.slice(0,20);return t.messages.reset(),t.addMessages(e),t.messages})}function i(t,n,i){return i=i||{},t.get("isUnified")?r(n,i):e(n,i)}function s(t,e){var r=n(1).accounts,i=Number.POSITIVE_INFINITY;t.messages.isEmpty()||(i=t.messages.last().get("dateInt"));var s=r.filter(function(t){return!t.get("isUnified")});return Promise.all(s.map(function(t){return Promise.all(t.folders.filter(function(t){return"inbox"===t.get("specialRole")}).filter(function(t){return t.messages.filter(function(t){return t.get("dateInt")<i}).length<21}).map(function(t){return o(t.account,t,e)}))})).then(function(){var e=s.map(function(t){return t.folders.filter(function(t){return"inbox"===t.get("specialRole")}).map(function(t){var e=t.messages.filter(function(t){return t.get("dateInt")<i});return e.slice(0,e.length-2)}).reduce(function(t,e){return t.concat(e)},[])}).reduce(function(t,e){return t.concat(e)},[]),n=e.sort(function(t){return-1*t.get("dateInt")}).slice(0,20);n.forEach(function(e){e.set("unifiedId",t.messages.getUnifiedId(e))}),t.addMessages(n,t)})}function o(t,e,n){n=n||{};var r={filter:""};if(g.defaults(n,r),t.get("isUnified"))return s(e,n);var i=m.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages",{accountId:t.get("accountId"),folderId:e.get("id")}),o=null;return e.messages.isEmpty()||(o=e.messages.last().get("dateInt")),new Promise(function(t,e){p.ajax(i,{method:"GET",data:{filter:n.filter,cursor:o},success:t,error:function(t,n){"abort"!==n&&e(t)}})}).then(function(t){var n=e.messages;return e.addMessages(t),n})}function a(t,e,r,i){i=i||{};var s=m.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages/{messageId}",{accountId:t.get("accountId"),folderId:e.get("id"),messageId:r}),o=n(16).getMessage(t,e,r);return o?Promise.resolve(o):new Promise(function(t,e){p.ajax(s,{type:"GET",success:t,error:function(t,n){console.error("error loading message",t),"abort"!==n&&e(t)}})})}function l(t,e,r){var i=[],s=[];return g.each(r,function(r){var o=n(16).getMessage(t,e,r);o?i.push(o):s.push(r)}),new Promise(function(n,r){if(s.length>0){var i=s.join(","),o=m.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages?ids={ids}",{accountId:t.get("accountId"),folderId:e.get("id"),ids:i});return Promise.resolve(p.ajax(o,{type:"GET"}))}r()})}function u(t,e,n,r,i){var s=[r,i],o=m.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages/{messageId}/flags",{accountId:t.get("accountId"),folderId:e.get("id"),messageId:n.id});return Promise.resolve(p.ajax(o,{type:"PUT",data:{flags:g.object([s])}}))}function c(t,e,n,r,i){var s=m.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages/{messageId}/move",{accountId:t.get("accountId"),folderId:e.get("id"),messageId:n.get("id")});return Promise.resolve(p.ajax(s,{type:"POST",data:{destAccountId:r.get("accountId"),destFolderId:i.get("id")}}))}function h(t,e,n){var r={draftUID:null,aliasId:null};g.defaults(n,r);var i=m.generateUrl("/apps/mail/api/accounts/{id}/send",{id:t.get("id")});return Promise.resolve(p.ajax(i,{type:"POST",data:{to:e.to,cc:e.cc,bcc:e.bcc,subject:e.subject,body:e.body,attachments:e.attachments,folderId:n.repliedMessage?n.repliedMessage.folder.get("id"):void 0,messageId:n.repliedMessage?n.repliedMessage.get("id"):void 0,draftUID:n.draftUID,aliasId:n.aliasId}}))}function d(t,e,n){function r(t){return void 0===t||""===t}var i={folder:null,messageId:null,draftUID:null};g.defaults(n,i);var s=!0,o=["to","cc","bcc","subject","body"];if(g.each(o,function(t){r(e[t])||(s=!1)}),s){if(null!==n.draftUID){var a=t.getSpecialFolder("draft"),l=m.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages/{messageId}",{accountId:t.get("accountId"),folderId:a,messageId:n.draftUID});return Promise.resolve(p.ajax(l,{type:"DELETE"}))}return Promise.resolve({uid:null})}var u=m.generateUrl("/apps/mail/api/accounts/{id}/draft",{id:t.get("accountId")});return Promise.resolve(p.ajax(u,{type:"POST",data:{to:e.to,cc:e.cc,bcc:e.bcc,subject:e.subject,body:e.body,attachments:e.attachments,folderId:n.folder?n.folder.get("id"):null,messageId:n.repliedMessage?n.repliedMessage.get("id"):null,uid:n.draftUID}}))}function f(t){var e=m.generateUrl("apps/mail/api/accounts/{accountId}/folders/{folderId}/messages/{messageId}",{accountId:t.folder.account.get("accountId"),folderId:t.folder.get("id"),messageId:t.get("id")});return Promise.resolve(p.ajax(e,{type:"DELETE"}))}var p=n(2),g=n(3),m=n(8),v=n(4);return v.message.reply("entities",i),v.message.reply("next-page",o),v.message.reply("entity",a),v.message.reply("bodies",l),v.message.reply("flag",u),v.message.reply("move",c),v.message.reply("send",h),v.message.reply("draft",d),v.message.reply("delete",f),{getNextMessagePage:o}}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t,e){var n=s.generateUrl("/apps/mail/api/preferences/{key}",{key:t});return new Promise(function(r,s){return i.ajax(n,{method:"PUT",data:{key:t,value:e},success:r,error:s})}).then(function(t){return t.value})}function r(t){var e=s.generateUrl("/apps/mail/api/preferences/{key}",{key:t});return new Promise(function(t,n){return i.ajax(e,{success:t,error:n})}).then(function(t){return t.value})}var i=n(2),s=n(8),o=n(4);return o.preference.reply("save",e),o.preference.reply("get",e),{savePreference:e,getPreference:r}}.call(e,n,e,t))&&(t.exports=r)},function(e,r,i){var s;void 0!==(s=function(e){"use strict";function r(){"undefined"!=typeof Notification&&Notification.requestPermission()}function s(t,e,n){if("undefined"!=typeof Notification){if(!(null!==document.querySelector(":focus"))){new Notification(t,{body:e,icon:n}).onclick=function(){window.focus()}}}}function o(e){if(0!==e.length&&(u.notification.trigger("favicon:change",l.filePath("mail","img","favicon-notification.png")),"granted"===Notification.permission)){var r=a.map(e,function(t){return t.get("from")[0].label});r=a.uniq(r),r.length>2?(r=r.slice(0,2),r.push("")):r=r.slice(0,2);var i="";if(1===e.length){var o=a.map(e,function(t){return t.get("subject")});i=t("mail","{from}\n{subject}",{from:r.join(),subject:o.join()})}else i=n("mail","%n new message \nfrom {from}","%n new messages \nfrom {from}",e.length,{from:r.join()});var c=l.filePath("mail","img","mail-notification.png");s(t("mail","Nextcloud Mail"),i,c)}}var a=i(3),l=i(8),u=i(4);return u.ui.on("notification:mail:show",o),u.ui.on("notification:request",r),{showNotification:s,showMailNotification:o}}.call(r,i,r,e))&&(e.exports=s)},function(t,e,n){var r;void 0!==(r=function(t){"use strict";function e(t){if(t!==i&&(i=t,n(1).currentAccount&&n(1).currentFolder)){var e=n(1).currentAccount.get("accountId"),s=n(1).currentFolder.get("id");r.navigation.trigger("search",e,s,t)}}var r=n(4),i="";return{filter:e}}.call(e,n,e,t))&&(t.exports=r)}]);